"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[682,2629,5924,6607,6840,8988],{1484:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(97255);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lengths=e??[],this.coords=t??[]}static fromJSON(e){return new i(e.lengths,e.coords)}static fromRect(e){const[t,n,r,s]=e,o=r-t,a=s-n;return new i([5],[t,n,o,0,0,a,-o,0,0,-a])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}get usedMemory(){return 64+(0,r.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];if(r<3)continue;let i=this.coords[2*t],s=this.coords[2*t+1];for(let n=1;n<r;n+=1){const r=this.coords[2*(n+t)],o=this.coords[2*(n+t)+1];e+=-.5*(r-i)*(o+s),i=r,s=o}t+=r}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}deltaDecode(){const e=this.clone(),{coords:t,lengths:n}=e;let r=0;for(const i of n){for(let e=1;e<i;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=i}return e}clone(e){if(0===this.lengths.length)return new i([],[this.coords[0],this.coords[1]]);const t=2*(0===this.lengths.length?1:this.lengths.reduce(((e,t)=>e+t))),n=this.coords.slice(0,t);return e?(e.set(n),new i(this.lengths,e)):new i(Array.from(this.lengths),Array.from(n))}}},5095:(e,t,n)=>{n.d(t,{$U:()=>F,C2:()=>c,CQ:()=>i,CR:()=>x,C_:()=>z,Cp:()=>C,DY:()=>a,GR:()=>K,Gh:()=>R,LY:()=>O,MZ:()=>j,O5:()=>B,Pq:()=>h,Qb:()=>$,Qs:()=>te,Sr:()=>w,TB:()=>J,U5:()=>S,V3:()=>T,Vl:()=>X,Xh:()=>Q,YS:()=>f,YV:()=>s,_M:()=>_,_x:()=>W,cp:()=>ee,dV:()=>I,eG:()=>l,eI:()=>Y,fq:()=>Z,fy:()=>L,g0:()=>A,hM:()=>N,ie:()=>k,ju:()=>o,lL:()=>y,mg:()=>G,n9:()=>M,nM:()=>m,nW:()=>V,oj:()=>q,p:()=>D,qM:()=>r,r1:()=>H,sn:()=>p,tP:()=>ne,uM:()=>d,ue:()=>u,vN:()=>P,vd:()=>b,yA:()=>E,yv:()=>U,z2:()=>g,zt:()=>v});const r=1e-30,i=512,s=16777216,o=8,a=29,l=24,c=4,h=0,u=0,f=0,d=1,g=2,m=3,y=4,p=5,M=6,w=12,v=13,b=5,x=6,C=5,P=6;var I;!function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"}(I||(I={}));const S=6,O=1<<S,A=O<<1,R=1.05,L=3,T=1,_=3,k=3,F=5,G=6,z=1.15,N=4,D=128,E=256-2*N,V=2,q=128,j=1,Z=10,U=1024,$=128,H=4,B=1,W=1<<20,Y=.75,Q=10,X=.75,J=256,K=32,ee=512,te=0,ne=1},6840:(e,t,n)=>{n.r(t),n.d(t,{CIMSymbolRasterizer:()=>h});var r=n(30050),i=n(94110),s=n(401),o=n(48988),a=n(83367),l=n(97763);const c=96/72;class h{constructor(e){this._spatialReference=e,this._imageDataCanvas=null,this._cimResourceManager=new r.A}get _canvas(){return this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas")),this._imageDataCanvas}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,n,r,i,c,h,f,d,g){if(!e)return null;const{data:m}=e;if(!m||"CIMSymbolReference"!==m.type||!m.symbol)return null;const{symbol:y}=m;c||(c=(0,l.n5)(y));const p=await o.OverrideHelper.resolveSymbolOverrides(m,t,this._spatialReference,i,c,h,f),M=this._cimResourceManager,w=[];s.wp.fetchResources(p,M,w),s.wp.fetchFonts(p,M,w),w.length>0&&await Promise.all(w);const{width:v,height:b}=n;let x=u(c,v,b,r,g);const C=s.wp.getEnvelope(p,x,M);if(!C)return null;C.x===1/0&&(C.x=v+2),C.y===1/0&&(C.y=-b/2),C.width===-1/0&&(C.width=v),C.height===-1/0&&(C.height=b);let P=1,I=0,S=0;switch(y.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;C.width>v&&(e=v/C.width);let t=1;C.height>b&&(t=b/C.height),"preview"===r&&(C.width<v&&(e=v/C.width),C.height<b&&(t=b/C.height)),P=Math.min(e,t),I=C.x+C.width/2,S=C.y+C.height/2}break;case"CIMLineSymbol":if(g){S=C.y+C.height/2,I=C.x+C.width/2;const e=C.width-v,t=C.height-b;x={paths:(0,a.hs)(x.paths,{xmin:-1*C.width/2+e,xmax:C.width/2-e,ymin:-1*C.height/2+t,ymax:C.height/2-t,width:C.width-2*e,height:C.height-2*t})}}else{(d||C.height>b)&&(P=b/C.height),S=C.y+C.height/2;const e=C.x*P+v/2,t=(C.x+C.width)*P+v/2,{paths:n}=x;n[0][0][0]-=e/P,n[0][2][0]-=(t-v)/P}break;case"CIMPolygonSymbol":if(g){S=C.y+C.height/2,I=C.x+C.width/2;const e=C.width-v,t=C.height-b;x={paths:(0,a.hs)(x.rings,{xmin:-1*C.width/2+e,xmax:C.width/2-e,ymin:-1*C.height/2+t,ymax:C.height/2-t,width:C.width-2*e,height:C.height-2*t})}}else{I=C.x+C.width/2,S=C.y+C.height/2;const e=C.x*P+v/2,t=(C.x+C.width)*P+v/2,n=C.y*P+b/2,r=(C.y+C.height)*P+b/2,{rings:i}=x;e<0&&(i[0][0][0]-=e,i[0][3][0]-=e,i[0][4][0]-=e),n<0&&(i[0][0][1]+=n,i[0][1][1]+=n,i[0][4][1]+=n),t>v&&(i[0][1][0]-=t-v,i[0][2][0]-=t-v),r>b&&(i[0][2][1]+=r-b,i[0][3][1]+=r-b)}}const O={type:"cim",data:{type:"CIMSymbolReference",symbol:p}};return this.rasterize(O,v,b,I,S,P,c,1,x)}rasterize(e,t,n,r,s,o,a){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:window.devicePixelRatio||1;const{data:g}=e;if(!g||"CIMSymbolReference"!==g.type||!g.symbol)return null;const{symbol:m}=g,y=this._canvas,p=d*c;y.width=t*p,y.height=n*p,a||(a=(0,l.n5)(m)),f||(f=u(a,t,n,"legend")),y.width+=2*h,y.height+=2*h;const M=y.getContext("2d",{willReadFrequently:!0}),w=i.IT.createIdentity();return w.translate(-r,-s),w.scale(o*p,-o*p),w.translate(t*p/2+h,n*p/2+h),M.clearRect(0,0,y.width,y.height),new i.Rj(M,this._cimResourceManager,w,!0).drawSymbol(m,f),M.getImageData(0,0,y.width,y.height)}}function u(e,t,n,r,i){const s=-t/2+1,o=t/2-1,l=n/2-1,c=-n/2+1;if(i&&("esriGeometryPolygon"===e||"esriGeometryPolyline"===e)){const r=function(e,t,n,r){return"esriGeometryPolygon"===t?{rings:(0,a.Tl)((0,a.hs)(e.rings,{xmin:0,ymin:0,xmax:n,ymax:r,width:n,height:r}),-1*n/2,-1*r/2)}:"esriGeometryPolyline"===t?{paths:(0,a.Tl)((0,a.hs)(e.paths,{xmin:0,ymin:0,xmax:n,ymax:r,width:n,height:r}),-1*n/2,-1*r/2)}:null}(i,e,t,n);if(r)return r}switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[s,0],[0,0],[o,0]]]};default:return"legend"===r?{rings:[[[s,l],[o,0],[o,c],[s,c],[s,l]]]}:{rings:[[[s,l],[o,l],[o,c],[s,c],[s,l]]]}}}},14522:(e,t,n)=>{n.d(t,{T:()=>s,U:()=>i});var r=n(15941);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=(0,r.qE)(e,0,l);for(let r=0;r<4;r++)t[n+r]=Math.floor(256*c(i*o[r]))}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;for(let r=0;r<4;r++)n+=e[t+r]*a[r];return n}const o=[1,256,65536,16777216],a=[1/256,1/65536,1/16777216,1/4294967296],l=s(new Uint8ClampedArray([255,255,255,255]));function c(e){return e-Math.floor(e)}},16770:(e,t,n)=>{n.d(t,{M5:()=>d,eV:()=>u,xR:()=>h});var r=n(3825),i=n(50076),s=n(50346),o=n(90534),a=n(59056);let l=null,c=!0;function h(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t)}catch(r){c=!1}return f(e,t,n)}function u(e,t,n,r){if(!t||!n)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t,n)}catch(l){c=!1}const i=f(t,n,r);return i.data.set(e,0),i}function f(e,t,n){return n||(l||(l=document.createElement("canvas"),l.width=1,l.height=1),n=l),n.getContext("2d").createImageData(e,t)}async function d(e,t){const{arrayBuffer:l,mediaType:h}=await async function(e,t){const n=(0,o.r$)(e);if(n?.isBase64)return{arrayBuffer:(0,a.M)(n.data),mediaType:n.mediaType};const i=await(0,r.A)(e,{responseType:"array-buffer",...t});return{arrayBuffer:i.data,mediaType:i.getHeader?.("Content-Type")??""}}(e,t),u="image/png"===h;if("image/gif"===h){const{isAnimatedGIF:e,parseGif:r}=await n.e(3078).then(n.bind(n,3078));if(e(l))return r(l,t)}if(u){const{isAnimatedPNG:e,parseApng:r}=await n.e(6588).then(n.bind(n,56588));if(e(l))return r(l,t)}return async function(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await(0,r.A)(n,{...t,responseType:"image"});return e}catch(c){if(!(0,s.zf)(c))throw new i.A("invalid-image",`Could not fetch requested image at ${n}`);throw c}finally{window.URL.revokeObjectURL(n)}}(new Blob([l],{type:h}),t)}},19358:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(59422);class i{constructor(e,t,n,i){this.transformedX=0,this.transformedY=0,this.center=(0,r.fA)(e,t),this.centerT=(0,r.vt)(),this.halfWidth=n/2,this.halfHeight=i/2,this.width=n,this.height=i}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(e){this.center[0]=e}set y(e){this.center[1]=e}clone(){return new i(this.x,this.y,this.width,this.height)}serialize(e){return e.writeF32(this.center[0]),e.writeF32(this.center[1]),e.push(this.width),e.push(this.height),e}findCollisionDelta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=Math.abs(e.centerT[0]-this.centerT[0]),r=Math.abs(e.centerT[1]-this.centerT[1]),i=(e.halfWidth+this.halfWidth+t)/n,s=(e.halfHeight+this.halfHeight+t)/r,o=Math.min(i,s);return Math.log2(o)}extend(e){const t=Math.min(this.xmin,e.xmin),n=Math.min(this.ymin,e.ymin),r=Math.max(this.xmax,e.xmax)-t,i=Math.max(this.ymax,e.ymax)-n,s=t+r/2,o=n+i/2;this.width=r,this.height=i,this.halfWidth=r/2,this.halfHeight=i/2,this.x=s,this.y=o}static deserialize(e){const t=e.readF32(),n=e.readF32(),r=e.readInt32(),s=e.readInt32();return new i(t,n,r,s)}}},19555:(e,t,n)=>{n.d(t,{$A:()=>b,Bw:()=>y,C:()=>i,Cc:()=>x,Io:()=>g,Ln:()=>d,Om:()=>v,Re:()=>a,S8:()=>w,T9:()=>u,Vj:()=>R,WQ:()=>o,ZF:()=>C,aI:()=>A,e$:()=>I,g7:()=>S,hG:()=>m,hZ:()=>s,hs:()=>f,jb:()=>T,jk:()=>h,l0:()=>P,m3:()=>p,t2:()=>O,xg:()=>F,ze:()=>M});var r=n(53494);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,n){return e[0]=t,e[1]=n,e}function o(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function h(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function u(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function f(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function d(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function g(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function m(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(e){const t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function p(e){const t=e[0],n=e[1];return t*t+n*n}function M(e,t){return e[0]=-t[0],e[1]=-t[1],e}function w(e,t){const n=t[0],r=t[1];let i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,n){const r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function x(e,t,n,r){const i=t[0],s=t[1];return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e}function C(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function P(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function I(e,t,n,r){const i=t[0]-n[0],s=t[1]-n[1],o=Math.sin(r),a=Math.cos(r);return e[0]=i*a-s*o+n[0],e[1]=i*o+s*a+n[1],e}function S(e,t){const n=e[0],r=e[1],i=t[0],s=t[1];let o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(n*i+r*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function O(e,t){return e[0]===t[0]&&e[1]===t[1]}function A(e,t){const n=e[0],i=e[1],s=t[0],o=t[1],a=(0,r.FD)();return Math.abs(n-s)<=a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=a*Math.max(1,Math.abs(i),Math.abs(o))}function R(e,t,n,r,i){let s=t[0]-n[0],o=t[1]-n[1];const a=(r[0]*s+r[1]*o)*(i-1);return s=r[0]*a,o=r[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const L=y,T=a,_=l,k=c,F=g,G=m,z=p;Object.freeze(Object.defineProperty({__proto__:null,add:o,angle:S,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:i,cross:b,dist:F,distance:g,div:k,divide:c,dot:v,equals:A,exactEquals:O,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:L,length:y,lerp:x,max:u,min:h,mul:_,multiply:l,negate:M,normalize:w,projectAndScale:R,random:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=2*(0,r.Ov)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:I,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:f,scaleAndAdd:d,set:s,sqrDist:G,sqrLen:z,squaredDistance:m,squaredLength:p,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:T,subtract:a,transformMat2:C,transformMat2d:P,transformMat3:function(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},Symbol.toStringTag,{value:"Module"}))},28675:(e,t,n)=>{n.d(t,{previewCIMSymbol:()=>y});var r=n(76931),i=n(401),s=n(6840),o=n(48988),a=n(97763),l=n(65709),c=n(26291);const h=new s.CIMSymbolRasterizer(null),u=(0,r.PN)(l.CB.size),f=(0,r.PN)(l.CB.maxSize),d=(0,r.PN)(l.CB.lineWidth),g=1;async function m(e,t,n){const r=t?.size;let s=null!=r&&"object"==typeof r&&"width"in r?r.width:r,a=null!=r&&"object"==typeof r&&"height"in r?r.height:r;if(null==s||null==a)if("esriGeometryPolygon"===n)s=a=t.maxSize?Math.min(t.maxSize,u):u;else{const r=await async function(e,t,n){const{feature:r,fieldMap:s,viewParams:a}=t.cimOptions||t,l=await o.OverrideHelper.resolveSymbolOverrides(e.data,r,null,s,n,null,a);if(!l)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:l},e.data.primitiveOverrides=void 0;const c=[];return i.wp.fetchResources(l,h.resourceManager,c),i.wp.fetchFonts(l,h.resourceManager,c),c.length>0&&await Promise.all(c),i.wp.getEnvelope(l,null,h.resourceManager)}(e,t,n);r&&(s=r.width,a=r.height),"esriGeometryPolyline"===n&&(s=t.maxSize?Math.min(t.maxSize,d):d),s=null!=s&&isFinite(s)?Math.min(s,f):u,a=null!=a&&isFinite(a)?Math.max(Math.min(a,f),g):u}return"legend"===t.style&&"esriGeometryPolyline"===n&&(s=d),{width:s,height:a}}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{node:n,opacity:i,symbolConfig:s}=t,o=null!=s&&"object"==typeof s&&"isSquareFill"in s&&s.isSquareFill,l=t.cimOptions||t,u=l.geometryType||(0,a.n5)(e?.data?.symbol),f=await m(e,t,u),{feature:d,fieldMap:g}=l,y=t?.geometry||o||"esriGeometryPolygon"!==u?"preview":"legend";let p=f;const M=f;if(t?.geometry&&("esriGeometryPolygon"===u||"esriGeometryPolyline"===u)){const e=200;if((0,r.Lz)(f.width)<e||(0,r.Lz)(f.height)<e){const t=f.width>f.height?(0,r.PN)(e)*f.height/f.width:(0,r.PN)(e);p={width:f.width>f.height?(0,r.PN)(e):(0,r.PN)(e)*f.width/f.height,height:t}}}const w=await h.rasterizeCIMSymbolAsync(e,d,p,y,g,u,null,l.viewParams,l.allowScalingUp,t?.geometry?.toJSON());if(!w)return null;const{width:v,height:b}=w,x=document.createElement("canvas");x.width=v,x.height=b,x.getContext("2d").putImageData(w,0,0);const C=(0,r.Lz)(M.width),P=(0,r.Lz)(M.height),I=new Image(C,P);I.src=x.toDataURL(),I.ariaLabel=t.ariaLabel??null,I.alt=t.ariaLabel??"",null!=i&&(I.style.opacity=`${i}`);let S=I;if(null!=t.effectView){const e={shape:{type:"image",x:0,y:0,width:C,height:P,src:I.src},fill:null,stroke:null,offset:[0,0]};S=(0,c.fz)([[e]],[C,P],{effectView:t.effectView,ariaLabel:t.ariaLabel})}return n&&S&&n.appendChild(S),S}},30050:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(85504),i=n(16770);class s{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,t){const n=this._resourceMap.get(e);if(n)return{width:n.width,height:n.height};let r=this._inFlightResourceMap.get(e);return r?r.then((e=>({width:e.width,height:e.height}))):(r=(0,i.M5)(e,t),this._inFlightResourceMap.set(e,r),r.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return(0,r.Al)(e)}}},48988:(e,t,n)=>{n.d(t,{OverrideHelper:()=>h});var r=n(69539),i=n(59784),s=n(53084),o=n(98976),a=n(97763),l=n(52629);const c=e=>{if(!e)return[0,0,0,0];const{r:t,g:n,b:r,a:i}=e;return[t,n,r,255*i]};class h{static findApplicableOverrides(e,t,n){if(e&&t){if(e.primitiveName){let r=!1;for(const t of n)if(t.primitiveName===e.primitiveName){r=!0;break}if(!r)for(const i of t)i.primitiveName===e.primitiveName&&n.push(i)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const r of e.effects)h.findApplicableOverrides(r,t,n);if(e.symbolLayers)for(const r of e.symbolLayers)h.findApplicableOverrides(r,t,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const r of e.effects)h.findApplicableOverrides(r,t,n);if(e.markerPlacement&&h.findApplicableOverrides(e.markerPlacement,t,n),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const r of e.markerGraphics)h.findApplicableOverrides(r,t,n),h.findApplicableOverrides(r.symbol,t,n)}else"CIMCharacterMarker"===e.type?h.findApplicableOverrides(e.symbol,t,n):"CIMHatchFill"===e.type?h.findApplicableOverrides(e.lineSymbol,t,n):"CIMPictureMarker"===e.type&&h.findApplicableOverrides(e.animatedSymbolProperties,t,n)}}}static findEffectOverrides(e,t){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,a.FH)(e),!t||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const n=(0,a.rB)(e),r=e.primitiveName,i=[];for(const s of t)s.primitiveName===r&&i.push((0,a.rB)(s));return{type:"cim-effect-param",effect:n,overrides:(0,a.pk)(i)}}static async resolveSymbolOverrides(e,t,n,r,i,o,l){if(!e?.symbol)return null;let{symbol:c,primitiveOverrides:u}=e;const f=!!u;if(!f&&!r)return c;c=(0,s.o8)(c),u=(0,s.o8)(u);let d=!0;if(t||(t={attributes:{}},d=!1),f){if(d||(u=u.filter((e=>!e.valueExpressionInfo?.expression.includes("$feature")))),l||(u=u.filter((e=>!e.valueExpressionInfo?.expression.includes("$view")))),u.length>0){const e={spatialReference:n,fields:(0,a.O2)(t.attributes),geometryType:i};await h.createRenderExpressions(u,e),h.evaluateOverrides(u,t,i??"esriGeometryPoint",o,l)}h.applyOverrides(c,u)}return r&&h.applyDictionaryTextOverrides(c,t,r,null),c}static async createRenderExpressions(e,t){const n=[];for(const r of e){const e=r.valueExpressionInfo;if(!e||h._expressionToRenderExpression.has(e.expression))continue;const i=(0,o.Ad)(e.expression,t.spatialReference,t.fields);n.push(i),i.then((t=>h._expressionToRenderExpression.set(e.expression,t)))}n.length>0&&await Promise.all(n)}static evaluateOverrides(e,t,n,r,s){const o={$view:{scale:s?.scale}};for(const a of e){a.value&&"object"==typeof a.value&&(0,i.IB)(a.value)&&("Color"===a.propertyName||"StrokeColor"===a.propertyName)&&(a.value=c(a.value));const e=a.valueExpressionInfo;if(!e)continue;const s=h._expressionToRenderExpression.get(e.expression);s&&(a.value=(0,l.default)(s,t,o,n,r))}}static applyDictionaryTextOverrides(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Normal";if(e?.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const s=e.symbolLayers;if(!s)return;for(const o of s)o&&"CIMVectorMarker"===o.type&&h.applyDictionaryTextOverrides(o,t,n,r,"CIMTextSymbol"===e.type?e.textCase:i)}break;case"CIMVectorMarker":{const i=e.markerGraphics;if(!i)return;for(const e of i)e&&h.applyDictionaryTextOverrides(e,t,n,r)}break;case"CIMMarkerGraphic":{const s=e.textString;if(s&&s.includes("[")){const o=(0,a.gQ)(s,n);e.textString=(0,a.FM)(t,o,r,i)}}}}static applyOverrides(e,t,n,r){if(e.primitiveName)for(const i of t)if(i.primitiveName===e.primitiveName){const t=(0,a.YF)(i.propertyName);if(r&&r.push({cim:e,nocapPropertyName:t,value:e[t]}),n){let t=!1;for(const r of n)r.primitiveName===e.primitiveName&&(t=!0);t||n.push(i)}null!=i.value&&(e[t]=i.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const i of e.effects)h.applyOverrides(i,t,n,r);if(e.symbolLayers)for(const i of e.symbolLayers)h.applyOverrides(i,t,n,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const i of e.effects)h.applyOverrides(i,t,n,r);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const i of e.markerGraphics)h.applyOverrides(i,t,n,r),h.applyOverrides(i.symbol,t,n,r)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const n of e)void 0!==n.value&&(t+=`${n.primitiveName}${n.propertyName}${JSON.stringify(n.value)}`);return t}static toValue(e,t){if("DashTemplate"===e)return t.split(" ").map((e=>Number(e)));if("Color"===e){const e=new r.A(t).toRgba();return e[3]*=255,e}return t}}h._expressionToRenderExpression=new Map},52629:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(50076),i=n(76460),s=n(76279);function o(e,t,n,r,s){if(null==e)return null;const o=e.references("geometry")&&s?l(t,r,s):t,a=e.repurposeFeature(o);try{return e.evaluate({...n,$feature:a},e.services)}catch(c){return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const a=new Map;function l(e,t,n){const{transform:o,hasZ:l,hasM:c}=n;a.has(t)||a.set(t,function(e){const t={};switch(e){case"esriGeometryPoint":return(e,n,r,i)=>(0,s.Tr)(n,t,e,r,i);case"esriGeometryPolygon":return(e,n,r,i)=>(0,s.$X)(n,t,e,r,i);case"esriGeometryPolyline":return(e,n,r,i)=>(0,s.P5)(n,t,e,r,i);case"esriGeometryMultipoint":return(e,n,r,i)=>(0,s.SW)(n,t,e,r,i);default:return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new r.A("mapview-arcade",`Unable to handle geometryType: ${e}`)),e=>e}}(t));const h=a.get(t)(e.geometry,o,l,c);return{...e,geometry:h}}},59422:(e,t,n)=>{function r(){return new Float32Array(2)}function i(e,t){const n=new Float32Array(2);return n[0]=e,n[1]=t,n}function s(){return r()}function o(){return i(1,1)}function a(){return i(1,0)}function l(){return i(0,1)}n.d(t,{Un:()=>h,fA:()=>i,uY:()=>c,vt:()=>r});const c=s(),h=o(),u=a(),f=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:u,UNIT_Y:f,ZEROS:c,clone:function(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},create:r,createView:function(e,t){return new Float32Array(e,t,2)},fromValues:i,ones:o,unitX:a,unitY:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},76279:(e,t,n)=>{n.d(t,{$X:()=>R,B2:()=>o,Gy:()=>P,IE:()=>s,P5:()=>L,Q1:()=>i,QE:()=>S,SW:()=>O,Tr:()=>A,VV:()=>r,wp:()=>I});n(19902);function r(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function i(e){if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:t,scale:n,translate:r}=e,i=n[0]??1,s=n[1]??1;return{originPosition:"lowerLeft",scale:[i,"lowerLeft"===t?s:-s,n[2]??1,n[3]??1],translate:[r[0]??0,r[1]??0,r[2]??0,r[3]??0]}}function s(e,t){let{scale:n,translate:r}=e;return Math.round((t-r[0])/n[0])}function o(e,t){let{scale:n,translate:r}=e;return Math.round((t-r[1])/n[1])}function a(e,t){let{scale:n,translate:r}=e;return Math.round(((t??0)-r[2])/n[2])}function l(e,t){let{scale:n,translate:r}=e;return t?Math.round((t-r[3])/n[3]):0}function c(e,t){return e&&t?d:e&&!t?u:!e&&t?f:h}const h=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let i=s(e,r[0]),a=o(e,r[1]);n.push([i,a]);for(let l=1;l<t.length;l++){const[r,c]=t[l],h=s(e,r),u=o(e,c);h===i&&u===a||n.push([h-i,u-a]),i=h,a=u}return n},u=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let i=s(e,r[0]),l=o(e,r[1]),c=a(e,r[2]);n.push([i,l,c]);for(let h=1;h<t.length;h++){const[r,u,f]=t[h],d=s(e,r),g=o(e,u),m=a(e,f);d===i&&g===l&&m===c||n.push([d-i,g-l,m]),i=d,l=g,c=m}return n},f=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let i=s(e,r[0]),a=o(e,r[1]),c=l(e,r[2]);n.push([i,a,c]);for(let h=1;h<t.length;h++){const[r,u,f]=t[h],d=s(e,r),g=o(e,u),m=l(e,f);d===i&&g===a&&m===c||n.push([d-i,g-a,m]),i=d,a=g,c=m}return n},d=(e,t)=>{const n=[];if(!t.length)return null;const r=t[0];let i=s(e,r[0]),c=o(e,r[1]),h=a(e,r[2]),u=l(e,r[3]);n.push([i,c,h,u]);for(let f=1;f<t.length;f++){const[r,d,g,m]=t[f],y=s(e,r),p=o(e,d),M=a(e,g),w=l(e,m);y===i&&p===c&&M===h&&w===u||n.push([y-i,p-c,M,w]),i=y,c=p,h=M,u=w}return n};function g(e,t){let{scale:n,translate:r}=e;return t*n[0]+r[0]}function m(e,t){let{scale:n,translate:r}=e;return t*n[1]+r[1]}function y(e,t){let{scale:n,translate:r}=e;return(t??0)*n[2]+r[2]}function p(e,t){let{scale:n,translate:r}=e;return t?t*n[3]+r[3]:0}function M(e,t){return e&&t?x:e&&!t?v:!e&&t?b:w}const w=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=g(e,r[0]),s=m(e,r[1]);n[0]=[i,s];const{scale:o,originPosition:a}=e,l=o[0],c="lowerLeft"===a?o[1]:-o[1];for(let h=1;h<t.length;h++){const[e,r]=t[h];i+=l*e,s+=c*r,n[h]=[i,s]}return n},v=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=g(e,r[0]),s=m(e,r[1]);n[0]=[i,s,y(e,r[2])];const{scale:o,originPosition:a}=e,l=o[0],c="lowerLeft"===a?o[1]:-o[1];for(let h=1;h<t.length;h++){const[r,o,a]=t[h];i+=l*r,s+=c*o,n[h]=[i,s,y(e,a)]}return n},b=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=g(e,r[0]),s=m(e,r[1]);n[0]=[i,s,p(e,r[2])];const{scale:o,originPosition:a}=e,l=o[0],c="lowerLeft"===a?o[1]:-o[1];for(let h=1;h<t.length;h++){const[r,o,a]=t[h];i+=l*r,s+=c*o,n[h]=[i,s,p(e,a)]}return n},x=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const r=t[0];let i=g(e,r[0]),s=m(e,r[1]);n[0]=[i,s,y(e,r[2]),p(e,r[3])];const{scale:o,originPosition:a}=e,l=o[0],c="lowerLeft"===a?o[1]:-o[1];for(let h=1;h<t.length;h++){const[r,o,a,u]=t[h];i+=l*r,s+=c*o,n[h]=[i,s,y(e,a),p(e,u)]}return n};function C(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=t(e,n[i]);return r}function P(e,t,n){const r=i(e);return t.x=s(r,n.x),t.y=o(r,n.y),null!=n.z&&(t.z=a(r,n.z)),null!=n.m&&(t.m=l(r,n.m)),t}function I(e,t,n){const r=function(e,t,n,r){const i=[],s=c(n,r);for(let o=0;o<t.length;o++){const n=s(e,t[o]);n&&n.length>=3&&i.push(n)}return i.length?i:null}(i(e),n.rings,n.hasZ,n.hasM);return r?(t.rings=r,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function S(e,t,n){const r=function(e,t,n,r){const i=[],s=c(n,r);for(let o=0;o<t.length;o++){const n=s(e,t[o]);n&&n.length>=2&&i.push(n)}return i.length?i:null}(i(e),n.paths,n.hasZ,n.hasM);return r?(t.paths=r,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function O(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const o=i(e);t.points=M(r,s)(o,n.points),t.hasZ=r,t.hasM=s}return t}function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=n?.z,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=n?.m;if(null==n)return t;const o=i(e);return t.x=g(o,n.x),t.y=m(o,n.y),r&&(t.z=y(o,n.z)),s&&(t.m=p(o,n.m)),t}function R(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const o=i(e);t.rings=C(o,M(r,s),n.rings),t.hasZ=r,t.hasM=s}return t}function L(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const o=i(e);t.paths=C(o,M(r,s),n.paths),t.hasZ=r,t.hasM=s}return t}},97255:(e,t,n)=>{n.d(t,{Qf:()=>l,Qh:()=>o,RS:()=>i,ez:()=>u,i5:()=>f,lM:()=>s,qK:()=>h});var r=n(78393);const i=16;function s(e){if(!e)return 0;let t=h;for(const n in e)e.hasOwnProperty(n)&&(t+=a(e[n],!1));return t}function o(e){if(!e)return 0;if("number"==typeof e[0])return l(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return c(e,8);let n=u;for(let r=0;r<t;r++)n+=a(e[r]);return n}(e);let t=h;for(const n in e)e.hasOwnProperty(n)&&(t+=a(e[n]));return t}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof e){case"object":return t?o(e):h;case"string":return function(e){return 32+e.length}(e);case"number":return i;case"boolean":return 4;default:return 8}}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+(t?(0,r.iu)(t)?t.byteLength+f:Array.isArray(t)?c(t,i):0:0)),0)}function c(e,t){return u+e.length*t}const h=32,u=16,f=145}}]);
//# sourceMappingURL=682.98b3f018.chunk.js.map