"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[67643,73836],{11265:(n,t,e)=>{e(65256),e(50265),e(39348),e(38042);var r=e(63860),i=e(3825),a=e(50076);async function o(n){if(null!=c.fetchBundleAsset)return c.fetchBundleAsset(n);const t=await(0,i.A)(n,{responseType:"text"});return JSON.parse(t.data)}class s{constructor(n){let t,{base:e="",pattern:r,location:i=new URL(window.location.href)}=n;t="string"==typeof i?n=>new URL(n,new URL(i,window.location.href)).href:i instanceof URL?n=>new URL(n,i).href:i,this.pattern="string"==typeof r?new RegExp(`^${r}`):r,this.getAssetUrl=t,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(n,t){return async function(n,t,e,i){const s=t.exec(e);if(!s)throw new a.A("esri-intl:invalid-bundle",`Bundle id "${e}" is not compatible with the pattern "${t}"`);const c=s[1]?`${s[1]}/`:"",u=s[2],l=(0,r.xO)(i),f=`${c}${u}.json`,d=l?`${c}${u}_${l}.json`:f;let h;try{h=await o(n(d))}catch(w){if(d===f)throw new a.A("intl:unknown-bundle",`Bundle "${e}" cannot be loaded`,{error:w});try{h=await o(n(f))}catch(w){throw new a.A("intl:unknown-bundle",`Bundle "${e}" cannot be loaded`,{error:w})}}return h}(this.getAssetUrl,this.matcher,n,t)}}const c={};var u,l=e(28899);(0,r.ao)((u={pattern:"esri/",location:l.s},new s(u)))},25811:(n,t,e)=>{e.r(t),e.d(t,{registerFunctions:()=>O});var r=e(26043),i=e(67253),a=e(9861),o=e(80324),s=e(43036),c=e(45018),u=e(5027),l=e(47705),f=e(76797),d=e(89189),h=e(66388),w=e(19247),m=e(65215),p=e(23701),y=e(19902),g=e(65308),A=e(55171),S=e(3825);async function v(n,t,e){const r=A.id?.findCredential(n.restUrl);if(!r)return null;if("loaded"===n.loadStatus&&""===t&&n.user?.sourceJSON&&!1===e)return n.user.sourceJSON;const i={responseType:"json",query:{f:"json"}};if(e&&(i.query.returnUserLicenseTypeExtensions=!0),""===t){const t=await(0,S.A)(n.restUrl+"/community/self",i);if(t.data){const n=t.data;if(n?.username)return n}return null}const a=await(0,S.A)(n.restUrl+"/community/users/"+t,i);if(a.data){const n=a.data;return n.error?null:n}return null}var D=e(85632);function N(n){if(null==n)return n;switch(typeof n){case"string":case"number":return n;default:throw new a.D$(null,a.TX.InvalidParameter,null)}}function O(n){"async"===n.mode&&(n.functions.disjoint=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null===i[0]||null===i[1]||(0,l.C)("disjoint",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.intersects=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("intersects",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.touches=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("touches",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.crosses=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("crosses",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.within=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("within",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.contains=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("contains",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.overlaps=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null!==i[0]&&null!==i[1]&&(0,l.C)("overlaps",[i[0].toJSON(),i[1].toJSON()]))))},n.functions.equals=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>((0,s.D)(i,2,2,t,e),i[0]===i[1]||(i[0]instanceof d.A&&i[1]instanceof d.A?(0,l.C)("equals",[i[0].toJSON(),i[1].toJSON()]):((0,s.g)(i[0])&&(0,s.g)(i[1])||!!((0,s.k)(i[0])&&(0,s.k)(i[1])||(0,s.j)(i[0])&&(0,s.j)(i[1])))&&i[0].equals(i[1])))))},n.functions.relate=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,3,3,t,e),i[0]instanceof d.A&&i[1]instanceof d.A)return(0,l.C)("relate",[i[0].toJSON(),i[1].toJSON(),(0,s.f)(i[2])]);if(i[0]instanceof d.A&&null===i[1])return!1;if(i[1]instanceof d.A&&null===i[0])return!1;if(null===i[0]&&null===i[1])return!1;throw new a.D$(t,a.TX.InvalidParameter,e)}))},n.functions.intersection=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null===i[0]||null===i[1]?null:(0,y.rS)(await(0,l.C)("intersection",[i[0].toJSON(),i[1].toJSON()])))))},n.functions.union=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(0===(i=(0,s.E)(i)).length)throw new a.D$(t,a.TX.WrongNumberOfParameters,e);const c=[];if(1===i.length)if((0,D.cy)(i[0])){for(const o of(0,s.E)(i[0]))if(null!==o){if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);c.push(o.toJSON())}}else{if(!(0,s.m)(i[0])){if(i[0]instanceof d.A)return(0,s.u)((0,o.Yq)(i[0]),t.spatialReference);if(null===i[0])return null;throw new a.D$(t,a.TX.InvalidParameter,e)}for(const n of(0,s.E)(i[0].toArray()))if(null!==n){if(!(n instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);c.push(n.toJSON())}}else for(const o of i)if(null!==o){if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);c.push(o.toJSON())}return 0===c.length?null:(0,y.rS)(await(0,l.C)("union",[c]))}))},n.functions.difference=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null===i[0]?null:null===i[1]?(0,o.Yq)(i[0]):(0,y.rS)(await(0,l.C)("difference",[i[0].toJSON(),i[1].toJSON()])))))},n.functions.symmetricdifference=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>(i=(0,s.E)(i),(0,u.ZL)(i,t,e),null===i[0]&&null===i[1]?null:null===i[0]?(0,o.Yq)(i[1]):null===i[1]?(0,o.Yq)(i[0]):(0,y.rS)(await(0,l.C)("symmetricDifference",[i[0].toJSON(),i[1].toJSON()])))))},n.functions.clip=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,2,t,e),!(i[1]instanceof f.A)&&null!==i[1])throw new a.D$(t,a.TX.InvalidParameter,e);if(null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return null===i[1]?null:(0,y.rS)(await(0,l.C)("clip",[i[0].toJSON(),i[1].toJSON()]))}))},n.functions.cut=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,2,t,e),!(i[1]instanceof p.A)&&null!==i[1])throw new a.D$(t,a.TX.InvalidParameter,e);if(null===i[0])return[];if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return null===i[1]?[(0,o.Yq)(i[0])]:(await(0,l.C)("cut",[i[0].toJSON(),i[1].toJSON()])).map((n=>(0,y.rS)(n)))}))},n.functions.area=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if((0,s.D)(i,1,2,t,e),i=(0,s.E)(i),(0,s.p)(i[0])){const n=await i[0].sumArea(N(i[1]),!1,t.abortSignal);if(t.abortSignal.aborted)throw new a.D$(t,a.TX.Cancelled,e);return n}let o=i[0];if(((0,D.cy)(o)||(0,s.m)(o))&&(o=(0,s.F)(i[0],t.spatialReference)),null===o)return 0;if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("area",[o.toJSON(),N(i[1])])}))},n.functions.areageodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if((0,s.D)(i,1,2,t,e),i=(0,s.E)(i),(0,s.p)(i[0])){const n=await i[0].sumArea(N(i[1]),!0,t.abortSignal);if(t.abortSignal.aborted)throw new a.D$(t,a.TX.Cancelled,e);return n}let o=i[0];if(((0,D.cy)(i[0])||(0,s.m)(i[0]))&&(o=(0,s.F)(i[0],t.spatialReference)),null===o)return 0;if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("geodeticArea",[o.toJSON(),N(i[1])])}))},n.functions.length=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if((0,s.D)(i,1,2,t,e),i=(0,s.E)(i),(0,s.p)(i[0])){const n=await i[0].sumLength(N(i[1]),!1,t.abortSignal);if(t.abortSignal.aborted)throw new a.D$(t,a.TX.Cancelled,e);return n}let o=i[0];if(((0,D.cy)(i[0])||(0,s.m)(i[0]))&&(o=(0,s.G)(i[0],t.spatialReference)),null===o)return 0;if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("length",[o.toJSON(),N(i[1])])}))},n.functions.length3d=function(t,r){return n.standardFunctionAsync(t,r,(async(n,i,o)=>{if((0,s.D)(o,1,2,t,r),null===(o=(0,s.E)(o))[0])return 0;let c=o[0];if(((0,D.cy)(o[0])||(0,s.m)(o[0]))&&(c=(0,s.G)(o[0],t.spatialReference)),null===c)return 0;if(!(c instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,r);if(!0===c.hasZ){const{convertFromSpatialReferenceUnit:n,toLengthUnit:t}=await Promise.resolve().then(e.bind(e,41802)),r=(0,u.UI)(c);return n(c.spatialReference,t(o[1]),r)}return(0,l.C)("length",[c.toJSON(),N(o[1])])}))},n.functions.lengthgeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if((0,s.D)(i,1,2,t,e),i=(0,s.E)(i),(0,s.p)(i[0])){const n=await i[0].sumLength(N(i[1]),!0,t.abortSignal);if(t.abortSignal.aborted)throw new a.D$(t,a.TX.Cancelled,e);return n}let o=i[0];if(((0,D.cy)(i[0])||(0,s.m)(i[0]))&&(o=(0,s.G)(i[0],t.spatialReference)),null===o)return 0;if(!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("geodeticLength",[o.toJSON(),N(i[1])])}))},n.functions.distance=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{i=(0,s.E)(i),(0,s.D)(i,2,3,t,e);let o=i[0];if(((0,D.cy)(i[0])||(0,s.m)(i[0]))&&(o=(0,s.H)(i[0],t.spatialReference)),!(o instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);let c=i[1];if(((0,D.cy)(i[1])||(0,s.m)(i[1]))&&(c=(0,s.H)(i[1],t.spatialReference)),!(c instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("distance",[o.toJSON(),c.toJSON(),N(i[2])])}))},n.functions.distancegeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{i=(0,s.E)(i),(0,s.D)(i,2,3,t,e);const o=i[0];if(!(o instanceof w.A))throw new a.D$(t,a.TX.InvalidParameter,e);const c=i[1];if(!(c instanceof w.A))throw new a.D$(t,a.TX.InvalidParameter,e);const u=new p.A({paths:[],spatialReference:o.spatialReference});return u.addPath([o,c]),(0,l.C)("geodeticLength",[u.toJSON(),N(i[2])])}))},n.functions.densify=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,3,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const o=(0,s.t)(i[1]);if(isNaN(o))throw new a.D$(t,a.TX.InvalidParameter,e);if(o<=0)throw new a.D$(t,a.TX.InvalidParameter,e);switch(i[0].type){case"polygon":case"polyline":case"extent":return(0,y.rS)(await(0,l.C)("densify",[i[0].toJSON(),o,N(i[2])]));default:return i[0]}}))},n.functions.densifygeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,3,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const o=(0,s.t)(i[1]);if(isNaN(o))throw new a.D$(t,a.TX.InvalidParameter,e);if(o<=0)throw new a.D$(t,a.TX.InvalidParameter,e);switch(i[0].type){case"polygon":case"polyline":case"extent":return(0,y.rS)(await(0,l.C)("geodeticDensify",[i[0].toJSON(),o,N(i[2])]));default:return i[0]}}))},n.functions.generalize=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,4,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const o=(0,s.t)(i[1]);if(isNaN(o))throw new a.D$(t,a.TX.InvalidParameter,e);const c=(0,s.e)((0,s.J)(i[2],!0));return(0,y.rS)(await(0,l.C)("generalize",[i[0].toJSON(),o,N(i[3]),{removeDegenerateParts:c}]))}))},n.functions.buffer=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,3,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const c=(0,s.t)(i[1]);if(isNaN(c))throw new a.D$(t,a.TX.InvalidParameter,e);return 0===c?(0,o.Yq)(i[0]):(0,y.rS)(await(0,l.C)("buffer",[i[0].toJSON(),c,N(i[2])]))}))},n.functions.buffergeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,3,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const c=(0,s.t)(i[1]);if(isNaN(c))throw new a.D$(t,a.TX.InvalidParameter,e);return 0===c?(0,o.Yq)(i[0]):(0,y.rS)(await(0,l.C)("geodesicBuffer",[i[0].toJSON(),c,N(i[2])]))}))},n.functions.offset=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,6,t,e),null===i[0])return null;if(!(i[0]instanceof m.A||i[0]instanceof p.A))throw new a.D$(t,a.TX.InvalidParameter,e);const o=(0,s.t)(i[1]);if(isNaN(o))throw new a.D$(t,a.TX.InvalidParameter,e);const c=(0,s.f)(i[3]??"round").toLowerCase();let u;switch(c){case"round":case"bevel":case"miter":case"square":u=c;break;default:u="round"}const f=(0,s.t)((0,s.J)(i[4],10));if(isNaN(f))throw new a.D$(t,a.TX.InvalidParameter,e);const d=(0,s.t)((0,s.J)(i[5],0));if(isNaN(d))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,y.rS)(await(0,l.C)("offset",[i[0].toJSON(),o,N(i[2]),{joins:u,miterLimit:f,flattenError:d}]))}))},n.functions.rotate=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,2,3,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);const o=i[0]instanceof f.A?m.A.fromExtent(i[0]):i[0],c=(0,s.t)(i[1]);if(isNaN(c))throw new a.D$(t,a.TX.InvalidParameter,e);const u=(0,s.J)(i[2],null);if(null===u){const n="point"===o.type?o:o.extent?.center;return(0,y.rS)(await(0,l.C)("rotate",[o.toJSON(),c,n?.x,n?.y]))}if(u instanceof w.A)return(0,y.rS)(await(0,l.C)("rotate",[o.toJSON(),c,u.x,u.y]));throw new a.D$(t,a.TX.InvalidParameter,e)}))},n.functions.centroid=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,1,2,t,e),null===i[0])return null;const o=(0,s.f)(i[1]??"geometric").toLowerCase();if("geometric"!==o&&"labelpoint"!==o)throw new a.D$(t,a.TX.InvalidParameter,e);let c=i[0];if(((0,D.cy)(i[0])||(0,s.m)(i[0]))&&(c="geometric"===o?(0,s.H)(i[0],t.spatialReference):(0,s.F)(i[0],t.spatialReference),null===c))return null;if(!(c instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,y.rS)("geometric"===o?await(0,l.C)("centroid",[c.toJSON()]):await(0,l.C)("labelPoint",[c.toJSON()]))}))},n.functions.measuretocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.Cd)},n.functions.pointtocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.kr)},n.functions.distancetocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.Bn)},n.functions.multiparttosinglepart=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,1,1,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);if(i[0]instanceof w.A)return[(0,s.u)((0,o.Yq)(i[0]),t.spatialReference)];if(i[0]instanceof f.A)return[(0,s.u)((0,o.Yq)(i[0]),t.spatialReference)];const c=(0,y.rS)(await(0,l.C)("simplify",[i[0].toJSON()]));if(c instanceof m.A){const n=[],t=[];for(let e=0;e<c.rings.length;e++)if(c.isClockwise(c.rings[e])){const t=(0,y.rS)({rings:[c.rings[e]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});n.push(t)}else t.push({ring:c.rings[e],pt:c.getPoint(e,0)});for(let e=0;e<t.length;e++)for(let r=0;r<n.length;r++)if(n[r].contains(t[e].pt)){n[r].addRing(t[e].ring);break}return n}if(c instanceof p.A){const n=[];for(let t=0;t<c.paths.length;t++){const e=(0,y.rS)({paths:[c.paths[t]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});n.push(e)}return n}if(i[0]instanceof h.A){const n=[],e=(0,s.u)((0,o.Yq)(i[0]),t.spatialReference);for(let t=0;t<e.points.length;t++)n.push(e.getPoint(t));return n}return null}))},n.functions.issimple=function(t,e){return n.standardFunctionAsync(t,e,((n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,1,1,t,e),null===i[0])return!0;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,l.C)("isSimple",[i[0].toJSON()])}))},n.functions.simplify=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,1,1,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,y.rS)(await(0,l.C)("simplify",[i[0].toJSON()]))}))},n.functions.convexhull=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,i)=>{if(i=(0,s.E)(i),(0,s.D)(i,1,1,t,e),null===i[0])return null;if(!(i[0]instanceof d.A))throw new a.D$(t,a.TX.InvalidParameter,e);return(0,y.rS)(await(0,l.C)("convexHull",[i[0].toJSON()]))}))},n.functions.getuser=function(t,e){return n.standardFunctionAsync(t,e,(async(n,o,u)=>{(0,s.D)(u,0,2,t,e);let l=(0,s.J)(u[1],""),f=!0===l;if(l=!0===l||!1===l?"":(0,s.f)(l),0===u.length||u[0]instanceof r.A){let n;n=t.services?.portal?t.services.portal:g.A.getDefault(),u.length>0&&(n=(0,c.R)(u[0],n));const e=await v(n,l,f);if(e){const n=JSON.parse(JSON.stringify(e));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return i.A.convertObjectToArcadeDictionary(n,(0,s.K)(t))}return null}let d=null;if((0,s.p)(u[0])&&(d=u[0]),d){if(f=!1,l)return null;await d.load();const n=await d.getOwningSystemUrl();if(!n){if(!l){const n=await d.getIdentityUser();return n?i.A.convertObjectToArcadeDictionary({username:n},(0,s.K)(t)):null}return null}let e;e=t.services?.portal?t.services.portal:g.A.getDefault(),e=(0,c.R)(new r.A(n),e);const a=await v(e,l,f);if(a){const n=JSON.parse(JSON.stringify(a));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return i.A.convertObjectToArcadeDictionary(n,(0,s.K)(t))}return null}throw new a.D$(t,a.TX.InvalidParameter,e)}))},n.functions.nearestcoordinate=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,o)=>{if(o=(0,s.E)(o),(0,s.D)(o,2,2,t,e),!(o[0]instanceof d.A||null===o[0]))throw new a.D$(t,a.TX.InvalidParameter,e);if(!(o[1]instanceof w.A||null===o[1]))throw new a.D$(t,a.TX.InvalidParameter,e);if(null===o[0]||null===o[1])return null;const c=o[0]instanceof f.A?m.A.fromExtent(o[0]):o[0],u=await(0,l.C)("getNearestCoordinate",[c.toJSON(),o[1].toJSON(),{calculateLeftRightSide:!0}]);return null===u?null:i.A.convertObjectToArcadeDictionary({coordinate:(0,y.rS)(u.coordinate),distance:u.distance,sideOfLine:0===u.distance?"straddle":u.rightSide?"right":"left"},(0,s.K)(t),!1,!0)}))},n.functions.nearestvertex=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,o)=>{if(o=(0,s.E)(o),(0,s.D)(o,2,2,t,e),!(o[0]instanceof d.A||null===o[0]))throw new a.D$(t,a.TX.InvalidParameter,e);if(!(o[1]instanceof w.A||null===o[1]))throw new a.D$(t,a.TX.InvalidParameter,e);if(null===o[0]||null===o[1])return null;const c=o[0]instanceof f.A?m.A.fromExtent(o[0]):o[0],u=await(0,l.C)("getNearestVertex",[c.toJSON(),o[1].toJSON()]);return null===u?null:i.A.convertObjectToArcadeDictionary({coordinate:(0,y.rS)(u.coordinate),distance:u.distance,sideOfLine:0===u.distance?"straddle":u.rightSide?"right":"left"},(0,s.K)(t),!1,!0)}))})}},39348:(n,t,e)=>{e.d(t,{V:()=>u});var r=e(76460),i=e(48611),a=e(88685),o=e(65256),s=e(50265);const c=()=>r.A.getLogger("esri.intl.substitute");function u(n,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{format:r={}}=e;return(0,a.HC)(n,(n=>function(n,t,e){let r,a;const o=n.indexOf(":");if(-1===o?r=n.trim():(r=n.slice(0,o).trim(),a=n.slice(o+1).trim()),!r)return"";const s=(0,i.wc)(r,t);if(null==s)return"";const c=(a?e?.[a]:null)??e?.[r];return c?l(s,c):a?f(s,a):d(s)}(n,t,r)))}function l(n,t){switch(t.type){case"date":return(0,o.Yq)(n,t.intlOptions);case"number":return(0,s.ZV)(n,t.intlOptions);default:return c().warn("missing format descriptor for key {key}"),d(n)}}function f(n,t){switch(t.toLowerCase()){case"dateformat":return(0,o.Yq)(n);case"numberformat":return(0,s.ZV)(n);default:return c().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?(0,o.Yq)(n):/^numberformat/i.test(t)?(0,s.ZV)(n):d(n)}}function d(n){switch(typeof n){case"string":return n;case"number":return(0,s.ZV)(n);case"boolean":return""+n;default:return n instanceof Date?(0,o.Yq)(n):""}}},45018:(n,t,e)=>{e.d(t,{R:()=>i});var r=e(65308);function i(n,t){return null===n?t:new r.A({url:n.field("url")})}},47705:(n,t,e)=>{e.d(t,{C:()=>c});var r=e(16783);let i,a,o=!1;function s(){return i??=(0,r.ho)("arcadeGeometryOperatorsWorker").then((n=>{a=n,o=!0,i=void 0}))}async function c(n,t){return o?a.apply("invokeGeometryOp",[n,t]):(await s(),c(n,t))}},50265:(n,t,e)=>{e.d(t,{$J:()=>l,ZV:()=>u,yx:()=>c});var r=e(38042);const i={ar:"ar-u-nu-latn"};let a=new WeakMap,o={};function s(n){const t=n||o;if(!a.has(t)){const e=(0,r.JK)(),o=i[(0,r.JK)()]||e;a.set(t,new Intl.NumberFormat(o,n))}return a.get(t)}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};return null!=n.digitSeparator&&(t.useGrouping=n.digitSeparator),null!=n.places&&(t.minimumFractionDigits=t.maximumFractionDigits=n.places),t}function u(n,t){return Object.is(n,-0)&&(n=0),s(t).format(n)}function l(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.JK)();if(!n)return null;let e=f.get(t);if(!e){const n=s().formatToParts(12345.6),r=[...s({useGrouping:!1}).format(9876543210)].reverse(),i=new Map(r.map(((n,t)=>[n,t]))),a=new RegExp(`[${n.find((n=>"group"===n.type))?.value}]`,"g"),o=new RegExp(`[${n.find((n=>"decimal"===n.type))?.value}]`),c=new RegExp(`[${r.join("")}]`,"g"),u=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,l=/[-\u2212\u2013\u2014\u2015]/g;e=n=>{if(""===(n=n.trim().replaceAll(a,"").replace(o,".").replace(c,(n=>String(i.get(n)))).replaceAll(u,"").replaceAll(l,"-")))return null;const t=Number(n);return isNaN(t)?null:t},f.set(t,e)}return e(n)}(0,r.Ml)((()=>{a=new WeakMap,o={}}));const f=new Map},59649:(n,t,e)=>{e.d(t,{A:()=>a});var r=e(99486),i=e(99702);class a{constructor(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n=>n.values().next().value;this._peeker=n,this._observable=new i.I,this._items=new Set}get length(){return(0,r.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let n;for(n of this._items);return n}peek(){if(0!==this.length)return this._peeker(this._items)}push(n){this.contains(n)||(this._items.add(n),this._observable.notify())}contains(n){return(0,r.gc)(this._observable),this._items.has(n)}pop(){if(0===this.length)return;const n=this.peek();return this._items.delete(n),this._observable.notify(),n}popLast(){if(0===this.length)return;const n=this.last();return this._items.delete(n),this._observable.notify(),n}remove(n){this.contains(n)&&(this._items.delete(n),this._observable.notify())}filter(n){const t=this.length;return this._items.forEach((t=>{n(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,r.gc)(this._observable),yield*this._items}}},63860:(n,t,e)=>{e.d(t,{ao:()=>h,ud:()=>w,xO:()=>m});var r=e(50076),i=e(54901),a=e(50346),o=e(38042);const s=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,c={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function u(n){if(function(n){return n in c}(n)){const t=c[n];return!0===t?n:t}return null}const l=[],f=new Map;function d(n){for(const t of f.keys())p(n.pattern,t)&&f.delete(t)}function h(n){return l.includes(n)||(d(n),l.unshift(n)),(0,i.hA)((()=>{const t=l.indexOf(n);t>-1&&(l.splice(t,1),d(n))}))}async function w(n){const t=(0,o.JK)();f.has(n)||f.set(n,async function(n,t){const e=[];for(const r of l)if(p(r.pattern,n))try{return await r.fetchMessageBundle(n,t)}catch(i){e.push(i)}if(e.length)throw new r.A("intl:message-bundle-error",`Errors occurred while loading "${n}"`,{errors:e});throw new r.A("intl:no-message-bundle-loader",`No loader found for message bundle "${n}"`)}(n,t));const e=f.get(n);return e&&await y.add(e),e}function m(n){if(!s.test(n))return null;const t=s.exec(n);if(null===t)return null;const[,e,r]=t;return u(e+(r?"-"+r.toUpperCase():""))??u(e)}function p(n,t){return"string"==typeof n?t.startsWith(n):n.test(t)}(0,o.Ml)((()=>{f.clear()}));const y=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(n){return this._increase(),n.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,a.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}}}]);
//# sourceMappingURL=67643.886081ce.chunk.js.map