"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[1671],{1900:(e,t,r)=>{r.d(t,{A:()=>d});var s=r(50076),i=r(42553),n=r(76460),o=r(87663),a=r(64920),l=r(53430),u=r(36693),c=r(67478),p=r(24241);const h=new Map;class d{static fromJSON(e){return new d(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new d(e.fields??[],M(e))}static fromLayerJSON(e){return new d(e.fields??[],M(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const r=[];for(const s of this.fields){const e=s?.name,t=m(e);if(e&&t){const i=f(e);this._fieldsMap.set(e,s),this._fieldsMap.set(i,s),this._normalizedFieldsMap.set(t,s),r.push(`${i}:${s.type}:${this._timeZoneByFieldName?.get(e)}`),(0,l.vE)(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):(0,l.WA)(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),(0,l.te)(s)||(0,l.Xz)(s)||(s.editable=null==s.editable||!!s.editable,s.nullable=null==s.nullable||!!s.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,l.te)(e)||(0,l.Xz)(e)||e.nullable||void 0!==(0,l.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(f(e))??this._normalizedFieldsMap.get(m(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(n.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new s.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.n$):y.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?a.GB.instance:t===u.n$?p.mQ.utcInstance:(0,o.tE)(h,t,(()=>p.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,l.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>i.A.isSerializable(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function f(e){return e.trim().toLowerCase()}function m(e){return(0,l.rS)(e)?.toLowerCase()??""}const y=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function M(e){const t=new Map;if(!e.fields)return t;const r=!0===e.datesInUnknownTimezone,{timeInfo:s,editFieldsInfo:i}=e,n=(s?"startField"in s?s.startField:s.startTimeField:"")??"",o=(s?"endField"in s?s.endField:s.endTimeField:"")??"",a=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.ZS)(e.dateFieldsTimeReference):null,l=i?function(e){return"timeZone"in e}(i)?i.timeZone??a:i.dateFieldsTimeReference?(0,c.ZS)(i.dateFieldsTimeReference):a??u.n$:null,p=s?function(e){return"timeZone"in e}(s)?s.timeZone??a:s.timeReference?(0,c.ZS)(s.timeReference):a:null,h=new Map([[f(i?.creationDateField??""),l],[f(i?.editDateField??""),l],[f(n),p],[f(o),p]]);for(const{name:c,type:d}of e.fields)if(y.has(d))t.set(c,u.L5);else if("date"!==d&&"esriFieldTypeDate"!==d)t.set(c,null);else if(r)t.set(c,u.L5);else{const e=h.get(f(c??""))??a;t.set(c,e)}return t}},4414:(e,t,r)=>{r.d(t,{O3:()=>p,PU:()=>u,YW:()=>d,ex:()=>a,hv:()=>h,zp:()=>l});var s=r(15941),i=r(76931),n=r(43047),o=r(55855);const a=2.4;function l(e){return(0,i.PN)(e*a)}function u(e){return(0,i.Lz)(e)/a}function c(e,t,r,i){let{color:o,ratio:a}=t,{color:l,ratio:u}=r;if(u===a){const e=1e-6;1===u?a-=e:u+=e}const c=(0,s.qE)((i-a)/(u-a),0,1);(0,n.l)(e,o.toArray(),l.toArray(),c)}function p(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((e=>{let{ratio:t}=e;return t>=0&&t<=1})).sort(((e,t)=>e.ratio-t.ratio)).map((e=>{let{color:t,ratio:r}=e;return{color:t,ratio:Math.max(r,.001)}})),e.length<1)return t;let r=e[0],s=e[0],i=1;const n=(0,o.vt)();for(let o=0;o<512;o++){const a=(o+.5)/512;for(;a>s.ratio&&i<e.length;)r=s,s=e[i++];c(n,r,s,a),t.set(n,4*o)}return t}function h(e,t,r){const s=Math.sqrt(e**2+t**2)/r;return s>1?0:3/(Math.PI*r**2)*(1-s**2)**2}function d(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},16981:(e,t,r)=>{r.d(t,{$:()=>s,P:()=>i});const s={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},i={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:s,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},19898:(e,t,r)=>{r.d(t,{R:()=>i});var s=r(50076);let i=class e{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new s.A(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const[i,n]=t.split("."),o=/^\s*\d+\s*$/;if(!i?.match||!o.test(i))throw new s.A((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!n?.match||!o.test(n))throw new s.A((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(i,10),l=parseInt(n,10);return new e(a,l,r)}}},44460:(e,t,r)=>{r.d(t,{Cb:()=>n,HW:()=>c,JR:()=>i,JZ:()=>l,WR:()=>a,b6:()=>p,fT:()=>s,nC:()=>u,yM:()=>o});const s=[252,146,31,255],i=[153,153,153,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},53521:(e,t,r)=>{r.d(t,{q:()=>i});var s=r(79369);class i{constructor(e,t){this._storage=new s.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},65460:(e,t,r)=>{r.d(t,{BI:()=>y,D3:()=>f,XJ:()=>m,lc:()=>d,mX:()=>S,rU:()=>M,tH:()=>C});var s=r(88685);const i="__begin__",n="__end__",o=new RegExp(i,"ig"),a=new RegExp(n,"ig"),l=new RegExp("^"+i,"i"),u=new RegExp(n+"$","i"),c='"',p=c+" + ",h=" + "+c;function d(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function f(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=d(e.labelExpression),t.type="conventional"),t}function y(e){const t=m(e);switch(t.type){case"conventional":return S(t.expression);case"arcade":return t.expression}return null}function M(e){const t=m(e);switch(t.type){case"conventional":return function(e){const t=e?.match(g);return t?.[1].trim()||null}(t.expression);case"arcade":return C(t.expression)}return null}function S(e){let t;return e?(t=(0,s.HC)(e,(e=>i+'$feature["'+e+'"]'+n)),t=l.test(t)?t.replace(l,""):c+t,t=u.test(t)?t.replace(u,""):t+c,t=t.replaceAll(o,p).replaceAll(a,h)):t='""',t}const g=/^\s*\{([^}]+)\}\s*$/i;const _=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,z=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function C(e){if(!e)return null;let t=_.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=z.exec(e),t?t[2]:null)}},79369:(e,t,r)=>{r.d(t,{F:()=>l,Ti:()=>i});var s=r(30015);const i=-3,n=i-1;var o,a;(a=o||(o={}))[a.ALL=0]="ALL",a[a.SOME=1]="SOME";class l{get size(){return this._size}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new s.A,this._users=new s.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){const r=this._db.get(e.id+t);return r?.size??0}put(e,t,r,s,a){t=e.id+t;const l=this._db.get(t);if(l&&(this._size-=l.size,e.size-=l.size,this._db.delete(t),l.entry!==r&&this._notifyRemove(t,l.entry,l.size,o.ALL)),s>this._maxSize)return void this._notifyRemove(t,r,s,o.ALL);if(void 0===r)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${t}`),void this._notifyRemove(t,r,0,o.ALL);const c=1+Math.max(a,n)-i;this._db.set(t,new u(r,s,c)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,t,r,s){t=e.id+t;const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size,e.size-=i.size;s>this._maxSize;){const e=this._notifyRemove(t,r,s,o.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);s=e}i.size=s,this._size+=s,e.size+=s,this._checkSize()}}pop(e,t){t=e.id+t;const r=this._db.get(t);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(e,t){t=e.id+t;const r=this._db.get(t);if(void 0!==r)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}peek(e,t){const r=this._db.get(e.id+t);return r?++this._hit:++this._miss,r?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,s)=>{const i=e.lifetime;r[i]=(r[i]||0)+e.size,this._users.forAll((r=>{const{id:i,name:n}=r;if(s.startsWith(i)){const r=t[n]||0;t[n]=r+e.size}}))}));const s={};this._users.forAll((e=>{const r=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const i=t[r]||0;t[r]=i,s[r]=Math.round(100*e.hitRate)+"%"}else s[r]="0%"}));const n=Object.keys(t);n.sort(((e,r)=>t[r]-t[e])),n.forEach((r=>e[r]=Math.round(t[r]/2**20)+"MB / "+s[r]));for(let o=r.length-1;o>=0;--o){const t=r[o];t&&(e["Priority "+(o+i-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,r)=>{r.startsWith(t)&&(this._size-=e.size,this._db.delete(r),this._notifyRemove(r,e.entry,e.size,o.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,o.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,r,s){let i;return this._removeFuncs.some((n=>{if(e.startsWith(n[0])){const e=n[1](t,s,r);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const r=e?.id;let s=!0;for(;s;){s=!1;for(const[i,n]of this._db)if(0===n.lifetime&&(!r||i.startsWith(r))){if(this._purgeItem(i,n,e),t.size<=.9*t.maxSize)return;s||=this._db.has(i)}}for(const[i,n]of this._db)if((!r||i.startsWith(r))&&(this._purgeItem(i,n,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((t=>e.startsWith(t.id)));if(this._db.delete(e),t.lives<=1){this._size-=t.size,r&&(r.size-=t.size);const s=this._notifyRemove(e,t.entry,t.size,o.SOME);null!=s&&s>0&&(this._size+=s,r&&(r.size+=s),t.lives=t.lifetime,t.size=s,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class u{constructor(e,t,r){this.entry=e,this.size=t,this.lifetime=r,this.lives=r}}},84202:(e,t,r)=>{r.d(t,{A7:()=>u,Cx:()=>c,Hk:()=>p,JJ:()=>m,SF:()=>h,UK:()=>l,jM:()=>d,x3:()=>f});r(81806);var s=r(86875),i=r(7246),n=r(76940),o=r(86659),a=r(44460);const l=n.A.fromJSON(a.Cb),u=i.A.fromJSON(a.yM),c=s.A.fromJSON(a.WR),p=o.A.fromJSON(a.JZ);function h(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return u;case"polygon":case"extent":return c}return null}const d=n.A.fromJSON(a.nC),f=i.A.fromJSON(a.HW),m=s.A.fromJSON(a.b6)},91524:(e,t,r)=>{r.d(t,{K:()=>h,Q:()=>u});var s=r(35143),i=r(45802),n=r(76460),o=r(46053),a=(r(81806),r(47249),r(6409)),l=r(85842);const u=(0,i.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),c="percent-of-total",p="field",h=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=t&&p||r&&c||null,t&&r&&n.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==p&&e!==c||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,s._)([(0,o.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,s._)([(0,a.e)(u,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,s._)([(0,l.$)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},97763:(e,t,r)=>{r.d(t,{$w:()=>M,Bu:()=>k,DW:()=>F,FH:()=>$,FM:()=>u,G9:()=>n,GV:()=>g,Go:()=>c,K3:()=>D,Kn:()=>I,MM:()=>d,MO:()=>H,Nl:()=>L,Ny:()=>_,O2:()=>T,UE:()=>R,YC:()=>q,YF:()=>N,ZO:()=>O,_1:()=>w,_H:()=>z,_W:()=>S,_d:()=>v,bs:()=>Z,dI:()=>U,e6:()=>p,gQ:()=>l,iA:()=>B,jn:()=>m,lW:()=>h,mA:()=>f,n5:()=>P,pM:()=>x,pV:()=>C,pk:()=>j,rB:()=>V,s4:()=>i,xo:()=>A,yH:()=>b,yX:()=>Q,zb:()=>E,zr:()=>y});var s=r(13442);function i(e,t,r,s){return function(e){return"function"==typeof e}(e)?e(t,r,s):e}function n(e){return[e.r,e.g,e.b,e.a]}const o=" /-,\n";function a(e){let t=e.length;for(;t--;)if(!o.includes(e.charAt(t)))return!1;return!0}function l(e,t){const r=[];let s=0,i=-1;do{if(i=e.indexOf("[",s),i>=s){if(i>s){const t=e.slice(s,i);r.push([t,null,a(t)])}if(s=i+1,i=e.indexOf("]",s),i>=s){if(i>s){const n=t[e.slice(s,i)];n&&r.push([null,n,!1])}s=i+1}}}while(-1!==i);if(s<e.length){const t=e.slice(s);r.push([t,null,a(t)])}return r}function u(e,t,r,s){let i="",n=null;for(const o of t){const[t,s,a]=o;if(t)a?n=t:(n&&(i+=n,n=null),i+=t);else{let t=s;null!=r&&(t=H(s,r));const o=e.attributes[t];o&&(n&&(i+=n,n=null),i+=o)}}return function(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}(i,s)}function c(e,t,r,s,i,n){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=t/i,l=r/n,u=Math.ceil(a/2),c=Math.ceil(l/2);for(let p=0;p<n;p++)for(let r=0;r<i;r++){const h=4*(r+(o?n-p-1:p)*i);let d=0,f=0,m=0,y=0,M=0,S=0,g=0;const _=(p+.5)*l;for(let s=Math.floor(p*l);s<(p+1)*l;s++){const i=Math.abs(_-(s+.5))/c,n=(r+.5)*a,o=i*i;for(let l=Math.floor(r*a);l<(r+1)*a;l++){let r=Math.abs(n-(l+.5))/u;const i=Math.sqrt(o+r*r);i>=-1&&i<=1&&(d=2*i*i*i-3*i*i+1,d>0&&(r=4*(l+s*t),g+=d*e[r+3],m+=d,e[r+3]<255&&(d=d*e[r+3]/250),y+=d*e[r],M+=d*e[r+1],S+=d*e[r+2],f+=d))}}s[h]=y/f,s[h+1]=M/f,s[h+2]=S/f,s[h+3]=g/m}}function p(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function h(e){return e.data?.symbol??null}function d(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function f(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function m(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function y(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e||isNaN(e)?t:e},S=(e,t)=>null!=e?e:t,g=(e,t)=>e??t,_=e=>e.tintColor?p(e.tintColor):[255,255,255,1],b=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function z(){return Promise.all([r.e(2612),r.e(7983)]).then(r.bind(r,1669))}function C(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function I(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function v(e){let t="normal",r="normal";if(e){const s=e.toLowerCase();s.includes("italic")?t="italic":s.includes("oblique")&&(t="oblique"),s.includes("bold")?r="bold":s.includes("light")&&(r="lighter")}return{style:t,weight:r}}function F(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function x(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=x(t);if(null!=e)return e}break;case"CIMTextSymbol":return x(e.symbol);case"CIMSolidFill":return e.color}return null}function w(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=w(e);if(null!=t)return t}break}case"CIMTextSymbol":return w(e.symbol);case"CIMSolidStroke":return e.color}}function A(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=A(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return A(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function k(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function L(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function T(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const R=e=>e.includes("data:image/svg+xml");function P(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function N(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function E(e,t,r,s,i,n){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const{infos:a}=n;let l=1,u=0,c=0,p=0,h=1;for(const{absoluteAnchorPoint:m,offsetX:y,offsetY:M,rotation:S,size:g,frameHeight:_,rotateClockWise:b,scaleSymbolsProportionally:z}of a)h=m?1:l,c=W(y,M,u,h,c),p=G(y,M,u,h,p),_&&(z||o)&&(l*=g/_),u=J(S,b,u);const d=W(s,i,u,h,c),f=G(s,i,u,h,p);return{size:e*l,rotation:J(t,r,u),offsetX:d,offsetY:f}}function O(e){if(null==e)return!1;if(Array.isArray(e))return e.every((e=>O(e)));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function B(e,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderlinecolor"===t||"tintcolor"===t)return[...s.K[t]];const r=s.D[e];if(!r)throw new Error(`InternalError: default value for type ${e}.`);return r[t]}function D(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function $(e){return e?.dashTemplate&&(e.dashTemplate=D(e.dashTemplate)),e}function Z(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return Z(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return Z(e.symbol)}}return"Normal"}function q(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=r.size??s.D.CIMVectorMarker.size;e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=r.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&y(r.markerPlacement)){const e=r.size??s.D.CIMVectorMarker.size;e>t&&(t=e)}break;case"CIMPictureFill":{const e=r.height;null!=e&&e>t&&(t=e)}}return t}}}function H(e,t){if(null!==t){const r=t.get(e);return r?r.name:e}return e}function j(e){return e.map((e=>({...e,propertyName:N(e.propertyName)})))}function V(e){const t={};for(const r in e){const s=e[r];t[N(r)]=s}return t}function G(e,t,r,s,i){const n=r*Math.PI/180;if(n){const r=Math.cos(n);return(Math.sin(n)*e+r*t)*s+i}return t*s+i}function W(e,t,r,s,i){const n=r*Math.PI/180;return n?(Math.cos(n)*e-Math.sin(n)*t)*s+i:e*s+i}function J(e,t,r){return t?r-e:r+e}function U(e,t,r){const s="Color"===r||"TintColor"===r||"ToColor"===r,i="Rotation"===r||"Angle"===r||"ToRotation"===r;let n=t[N(r)];if(null!=n&&(s?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:i&&(n*=Math.PI/180)),null==n&&(n=B(t.type,r.toLowerCase()),null!=n&&(s?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:i&&(n*=Math.PI/180))),null!=t.primitiveName){const o=e[t.primitiveName];if(null!=o){const e=o[r];null==e||("string"==typeof e||"number"==typeof e||Array.isArray(e)?(n=e,null!=n&&(s?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:i&&(n*=Math.PI/180))):(n={valueExpressionInfo:e,defaultValue:n},null!=n&&(s?n={type:"Process",op:"ArcadeColor",value:n}:i&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(null==n)throw new Error(`Failed to derive a value or an expression for "${r}".`);return n}function Q(e,t){return Math.max(Math.min((e??t)/100,1),0)}}}]);
//# sourceMappingURL=1671.29cfff30.chunk.js.map