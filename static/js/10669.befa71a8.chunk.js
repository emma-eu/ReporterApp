"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[10669],{1900:(e,t,i)=>{i.d(t,{A:()=>h});var s=i(50076),r=i(42553),n=i(76460),o=i(87663),l=i(64920),a=i(53430),u=i(36693),p=i(67478),d=i(24241);const c=new Map;class h{static fromJSON(e){return new h(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new h(e.fields??[],g(e))}static fromLayerJSON(e){return new h(e.fields??[],g(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const i=[];for(const s of this.fields){const e=s?.name,t=y(e);if(e&&t){const r=m(e);this._fieldsMap.set(e,s),this._fieldsMap.set(r,s),this._normalizedFieldsMap.set(t,s),i.push(`${r}:${s.type}:${this._timeZoneByFieldName?.get(e)}`),(0,a.vE)(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):(0,a.WA)(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),(0,a.te)(s)||(0,a.Xz)(s)||(s.editable=null==s.editable||!!s.editable,s.nullable=null==s.nullable||!!s.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(m(e))??this._normalizedFieldsMap.get(y(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(n.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new s.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.n$):f.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?l.GB.instance:t===u.n$?d.mQ.utcInstance:(0,o.tE)(c,t,(()=>d.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>r.A.isSerializable(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function m(e){return e.trim().toLowerCase()}function y(e){return(0,a.rS)(e)?.toLowerCase()??""}const f=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function g(e){const t=new Map;if(!e.fields)return t;const i=!0===e.datesInUnknownTimezone,{timeInfo:s,editFieldsInfo:r}=e,n=(s?"startField"in s?s.startField:s.startTimeField:"")??"",o=(s?"endField"in s?s.endField:s.endTimeField:"")??"",l=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,p.ZS)(e.dateFieldsTimeReference):null,a=r?function(e){return"timeZone"in e}(r)?r.timeZone??l:r.dateFieldsTimeReference?(0,p.ZS)(r.dateFieldsTimeReference):l??u.n$:null,d=s?function(e){return"timeZone"in e}(s)?s.timeZone??l:s.timeReference?(0,p.ZS)(s.timeReference):l:null,c=new Map([[m(r?.creationDateField??""),a],[m(r?.editDateField??""),a],[m(n),d],[m(o),d]]);for(const{name:p,type:h}of e.fields)if(f.has(h))t.set(p,u.L5);else if("date"!==h&&"esriFieldTypeDate"!==h)t.set(p,null);else if(i)t.set(p,u.L5);else{const e=c.get(m(p??""))??l;t.set(p,e)}return t}},4414:(e,t,i)=>{i.d(t,{O3:()=>d,PU:()=>u,YW:()=>h,ex:()=>l,hv:()=>c,zp:()=>a});var s=i(15941),r=i(76931),n=i(43047),o=i(55855);const l=2.4;function a(e){return(0,r.PN)(e*l)}function u(e){return(0,r.Lz)(e)/l}function p(e,t,i,r){let{color:o,ratio:l}=t,{color:a,ratio:u}=i;if(u===l){const e=1e-6;1===u?l-=e:u+=e}const p=(0,s.qE)((r-l)/(u-l),0,1);(0,n.l)(e,o.toArray(),a.toArray(),p)}function d(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((e=>{let{ratio:t}=e;return t>=0&&t<=1})).sort(((e,t)=>e.ratio-t.ratio)).map((e=>{let{color:t,ratio:i}=e;return{color:t,ratio:Math.max(i,.001)}})),e.length<1)return t;let i=e[0],s=e[0],r=1;const n=(0,o.vt)();for(let o=0;o<512;o++){const l=(o+.5)/512;for(;l>s.ratio&&r<e.length;)i=s,s=e[r++];p(n,i,s,l),t.set(n,4*o)}return t}function c(e,t,i){const s=Math.sqrt(e**2+t**2)/i;return s>1?0:3/(Math.PI*i**2)*(1-s**2)**2}function h(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},6127:(e,t,i)=>{i.d(t,{m:()=>s});const s=new(i(45802).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},15011:(e,t,i)=>{i.d(t,{EB:()=>h,Im:()=>f,Mj:()=>c,Ui:()=>y,w2:()=>m});var s=i(91967),r=i(94643),n=i(39314);const o=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l(e){return e instanceof s.A}function a(e){return e instanceof r.A?Object.keys(e.items):l(e)?(0,n.oY)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof r.A?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){const i=e.diff;if(i&&"function"==typeof i)return i(e,t);const s=a(e),r=a(t);if(0===s.length&&0===r.length)return;if(!s.length||!r.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const n=r.filter((e=>!s.includes(e))),c=s.filter((e=>!r.includes(e))),h=s.filter((i=>r.includes(i)&&u(e,i)!==u(t,i))).concat(n,c).sort(),m=p(e);if(m&&o.has(m)&&h.length)return{type:"complete",oldValue:e,newValue:t};let y;const f=l(e)&&l(t);for(const o of h){const s=u(e,o),r=u(t,o);let n;if((f||"function"!=typeof s&&"function"!=typeof r)&&s!==r&&(null!=s||null!=r)){if(i&&i[o]&&"function"==typeof i[o])n=i[o]?.(s,r);else if(s instanceof Date&&r instanceof Date){if(s.getTime()===r.getTime())continue;n={type:"complete",oldValue:s,newValue:r}}else n="object"==typeof s&&"object"==typeof r&&p(s)===p(r)?d(s,r):{type:"complete",oldValue:s,newValue:r};null!=n&&(null!=y?y.diff[o]=n:y={type:"partial",diff:{[o]:n}})}}return y}function c(e,t){return h(e,t)}function h(e,t){if(null==e)return!1;const i=t.split(".");let s=e;for(const r of i){if("complete"===s.type)return!0;if("partial"!==s.type)return!1;{const e=s.diff[r];if(!e)return!1;s=e}}return!0}function m(e,t){if(!e)return!1;if("partial"===e.type){const i=Object.keys(e.diff);return 1===i.length&&i[0]===t}return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}function f(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!f(e))return!1;for(const e of t.removed)if(!f(e))return!1;for(const e of t.changed)if(!f(e))return!1;return!0}case"partial":for(const t in e.diff)if(!f(e.diff[t]))return!1;return!0}}},16981:(e,t,i)=>{i.d(t,{$:()=>s,P:()=>r});const s={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},r={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:s,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},19898:(e,t,i)=>{i.d(t,{R:()=>r});var s=i(50076);let r=class e{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.major=e,this.minor=t,this._context=i}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",i=this._context&&this._context+" ";throw new s.A(t+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const[r,n]=t.split("."),o=/^\s*\d+\s*$/;if(!r?.match||!o.test(r))throw new s.A((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!n?.match||!o.test(n))throw new s.A((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const l=parseInt(r,10),a=parseInt(n,10);return new e(l,a,i)}}},32173:(e,t,i)=>{i.d(t,{A:()=>u});var s,r=i(35143),n=(i(76460),i(81806),i(47249),i(50076),i(6409)),o=i(85842),l=i(44631);let a=s=class extends l.A{constructor(e){super(e),this.type="inherited"}clone(){return new s}};(0,r._)([(0,n.e)({inherited:"inherited"})],a.prototype,"type",void 0),a=s=(0,r._)([(0,o.$)("esri.layers.support.InheritedDomain")],a);const u=a},44135:(e,t,i)=>{i.d(t,{A:()=>f});var s,r=i(35143),n=i(45802),o=i(42553),l=i(46053),a=i(40565),u=(i(81806),i(47249),i(6409)),p=i(28379),d=i(85842),c=i(76866),h=i(6127);const m=new n.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let y=s=class extends o.A{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,t){let{description:i}=t,s=null;try{s=i?JSON.parse(i):null}catch(r){}return s?.value??null}readValueType(e,t){let{description:i}=t,s=null;try{s=i?JSON.parse(i):null}catch(r){}return s?m.fromJSON(s.fieldValueType):null}clone(){return new s({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],y.prototype,"alias",void 0),(0,r._)([(0,l.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],y.prototype,"defaultValue",void 0),(0,r._)([(0,l.MZ)()],y.prototype,"description",void 0),(0,r._)([(0,p.w)("description")],y.prototype,"readDescription",null),(0,r._)([(0,l.MZ)({types:c.gK,json:{read:{reader:c.rS},write:!0}})],y.prototype,"domain",void 0),(0,r._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0),(0,r._)([(0,l.MZ)({type:a.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],y.prototype,"length",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,r._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"nullable",void 0),(0,r._)([(0,u.e)(h.m)],y.prototype,"type",void 0),(0,r._)([(0,l.MZ)()],y.prototype,"valueType",void 0),(0,r._)([(0,p.w)("valueType",["description"])],y.prototype,"readValueType",null),(0,r._)([(0,l.MZ)({type:Boolean,json:{read:!1}})],y.prototype,"visible",void 0),y=s=(0,r._)([(0,d.$)("esri.layers.support.Field")],y);const f=y},44460:(e,t,i)=>{i.d(t,{Cb:()=>n,HW:()=>p,JR:()=>r,JZ:()=>a,WR:()=>l,b6:()=>d,fT:()=>s,nC:()=>u,yM:()=>o});const s=[252,146,31,255],r=[153,153,153,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},p={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},44631:(e,t,i)=>{i.d(t,{A:()=>d});var s=i(35143),r=i(45802),n=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(6409)),a=i(85842);const u=new r.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let p=class extends n.A{constructor(e){super(e),this.name=null,this.type=null}};(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,s._)([(0,l.e)(u),(0,o.MZ)({json:{write:{isRequired:!0}}})],p.prototype,"type",void 0),p=(0,s._)([(0,a.$)("esri.layers.support.Domain")],p);const d=p},50654:(e,t,i)=>{i.d(t,{A:()=>p});var s,r=i(35143),n=i(46053),o=(i(81806),i(76460),i(47249),i(6409)),l=i(85842),a=i(44631);let u=s=class extends a.A{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new s({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,r._)([(0,n.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],u.prototype,"maxValue",void 0),(0,r._)([(0,n.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],u.prototype,"minValue",void 0),(0,r._)([(0,o.e)({range:"range"})],u.prototype,"type",void 0),u=s=(0,r._)([(0,l.$)("esri.layers.support.RangeDomain")],u);const p=u},53521:(e,t,i)=>{i.d(t,{q:()=>r});var s=i(79369);class r{constructor(e,t){this._storage=new s.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,i,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},65460:(e,t,i)=>{i.d(t,{BI:()=>f,D3:()=>m,XJ:()=>y,lc:()=>h,mX:()=>_,rU:()=>g,tH:()=>F});var s=i(88685);const r="__begin__",n="__end__",o=new RegExp(r,"ig"),l=new RegExp(n,"ig"),a=new RegExp("^"+r,"i"),u=new RegExp(n+"$","i"),p='"',d=p+" + ",c=" + "+p;function h(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function m(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function y(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=h(e.labelExpression),t.type="conventional"),t}function f(e){const t=y(e);switch(t.type){case"conventional":return _(t.expression);case"arcade":return t.expression}return null}function g(e){const t=y(e);switch(t.type){case"conventional":return function(e){const t=e?.match(S);return t?.[1].trim()||null}(t.expression);case"arcade":return F(t.expression)}return null}function _(e){let t;return e?(t=(0,s.HC)(e,(e=>r+'$feature["'+e+'"]'+n)),t=a.test(t)?t.replace(a,""):p+t,t=u.test(t)?t.replace(u,""):t+p,t=t.replaceAll(o,d).replaceAll(l,c)):t='""',t}const S=/^\s*\{([^}]+)\}\s*$/i;const v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,z=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,b=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function F(e){if(!e)return null;let t=v.exec(e)||z.exec(e);return t?t[1]||t[3]:(t=b.exec(e),t?t[2]:null)}},72599:(e,t,i)=>{i.d(t,{A:()=>c});var s,r=i(35143),n=i(53084),o=i(46053),l=(i(81806),i(76460),i(6409)),a=i(85842),u=i(92115),p=i(44631);let d=s=class extends p.A{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new s({codedValues:(0,n.o8)(this.codedValues),name:this.name})}};(0,r._)([(0,o.MZ)({type:[u.H],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,r._)([(0,l.e)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=s=(0,r._)([(0,a.$)("esri.layers.support.CodedValueDomain")],d);const c=d},76866:(e,t,i)=>{i.d(t,{gK:()=>l,rS:()=>a});i(81806);var s=i(72599),r=i(44631),n=i(32173),o=i(50654);const l={key:"type",base:r.A,typeMap:{range:o.A,"coded-value":s.A,inherited:n.A}};function a(e){if(!e?.type)return null;switch(e.type){case"range":return o.A.fromJSON(e);case"codedValue":return s.A.fromJSON(e);case"inherited":return n.A.fromJSON(e)}return null}},79369:(e,t,i)=>{i.d(t,{F:()=>a,Ti:()=>r});var s=i(30015);const r=-3,n=r-1;var o,l;(l=o||(o={}))[l.ALL=0]="ALL",l[l.SOME=1]="SOME";class a{get size(){return this._size}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new s.A,this._users=new s.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){const i=this._db.get(e.id+t);return i?.size??0}put(e,t,i,s,l){t=e.id+t;const a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==i&&this._notifyRemove(t,a.entry,a.size,o.ALL)),s>this._maxSize)return void this._notifyRemove(t,i,s,o.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${t}`),void this._notifyRemove(t,i,0,o.ALL);const p=1+Math.max(l,n)-r;this._db.set(t,new u(i,s,p)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,t,i,s){t=e.id+t;const r=this._db.get(t);if(r&&r.entry===i){for(this._size-=r.size,e.size-=r.size;s>this._maxSize;){const e=this._notifyRemove(t,i,s,o.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);s=e}r.size=s,this._size+=s,e.size+=s,this._checkSize()}}pop(e,t){t=e.id+t;const i=this._db.get(t);if(i)return this._size-=i.size,e.size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(e,t){t=e.id+t;const i=this._db.get(t);if(void 0!==i)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}peek(e,t){const i=this._db.get(e.id+t);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},i=new Array;this._db.forEach(((e,s)=>{const r=e.lifetime;i[r]=(i[r]||0)+e.size,this._users.forAll((i=>{const{id:r,name:n}=i;if(s.startsWith(r)){const i=t[n]||0;t[n]=i+e.size}}))}));const s={};this._users.forAll((e=>{const i=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const r=t[i]||0;t[i]=r,s[i]=Math.round(100*e.hitRate)+"%"}else s[i]="0%"}));const n=Object.keys(t);n.sort(((e,i)=>t[i]-t[e])),n.forEach((i=>e[i]=Math.round(t[i]/2**20)+"MB / "+s[i]));for(let o=i.length-1;o>=0;--o){const t=i[o];t&&(e["Priority "+(o+r-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,i)=>{i.startsWith(t)&&(this._size-=e.size,this._db.delete(i),this._notifyRemove(i,e.entry,e.size,o.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,o.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,i,s){let r;return this._removeFuncs.some((n=>{if(e.startsWith(n[0])){const e=n[1](t,s,i);return"number"==typeof e&&(r=e),!0}return!1})),r}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const i=e?.id;let s=!0;for(;s;){s=!1;for(const[r,n]of this._db)if(0===n.lifetime&&(!i||r.startsWith(i))){if(this._purgeItem(r,n,e),t.size<=.9*t.maxSize)return;s||=this._db.has(r)}}for(const[r,n]of this._db)if((!i||r.startsWith(i))&&(this._purgeItem(r,n,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((t=>e.startsWith(t.id)));if(this._db.delete(e),t.lives<=1){this._size-=t.size,i&&(i.size-=t.size);const s=this._notifyRemove(e,t.entry,t.size,o.SOME);null!=s&&s>0&&(this._size+=s,i&&(i.size+=s),t.lives=t.lifetime,t.size=s,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class u{constructor(e,t,i){this.entry=e,this.size=t,this.lifetime=i,this.lives=i}}},84202:(e,t,i)=>{i.d(t,{A7:()=>u,Cx:()=>p,Hk:()=>d,JJ:()=>y,SF:()=>c,UK:()=>a,jM:()=>h,x3:()=>m});i(81806);var s=i(86875),r=i(7246),n=i(76940),o=i(86659),l=i(44460);const a=n.A.fromJSON(l.Cb),u=r.A.fromJSON(l.yM),p=s.A.fromJSON(l.WR),d=o.A.fromJSON(l.JZ);function c(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return a;case"polyline":return u;case"polygon":case"extent":return p}return null}const h=n.A.fromJSON(l.nC),m=r.A.fromJSON(l.HW),y=s.A.fromJSON(l.b6)},91524:(e,t,i)=>{i.d(t,{K:()=>c,Q:()=>u});var s=i(35143),r=i(45802),n=i(76460),o=i(46053),l=(i(81806),i(47249),i(6409)),a=i(85842);const u=(0,r.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),p="percent-of-total",d="field",c=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=null!=this.normalizationTotal;return t||i?(e=t&&d||i&&p||null,t&&i&&n.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==d&&e!==p||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,s._)([(0,o.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,s._)([(0,l.e)(u,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,s._)([(0,a.$)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},92115:(e,t,i)=>{i.d(t,{H:()=>a});var s,r=i(35143),n=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(85842));let a=s=class extends n.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new s({name:this.name,code:this.code})}};(0,r._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],a.prototype,"name",void 0),(0,r._)([(0,o.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],a.prototype,"code",void 0),a=s=(0,r._)([(0,l.$)("esri.layers.support.CodedValue")],a)}}]);
//# sourceMappingURL=10669.befa71a8.chunk.js.map