{"version":3,"file":"static/js/36680.a772d36b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/query/operations/editsZScale.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","../node_modules/@arcgis/core/rest/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as n}from\"../../../core/unitUtils.js\";import{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";function t(n,e,t){if(null==n.hasM||n.hasZ)for(const i of e)for(const n of i)n.length>2&&(n[2]*=t)}function i(e,t,i){if(!e&&!t||!i)return;const s=n(i);o(e,i,s),o(t,i,s)}function o(n,e,t){if(n)for(const i of n)s(i.geometry,e,t)}function s(i,o,s){if(!i?.spatialReference||e(i.spatialReference,o))return;const f=n(i.spatialReference)/s;if(1!==f)if(\"x\"in i)null!=i.z&&(i.z*=f);else if(\"rings\"in i)t(i,i.rings,f);else if(\"paths\"in i)t(i,i.paths,f);else if(\"points\"in i&&(null==i.hasM||i.hasZ))for(const n of i.points)n.length>2&&(n[2]*=f)}export{i as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"../../../geometry/support/zscale.js\";function t(t,o,r){if(!r?.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(null!=f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import o from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import p from\"../../geometry/SpatialReference.js\";import{fromJSON as m,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as c}from\"../../geometry/support/typeUtils.js\";import y from\"../../layers/support/Field.js\";var f;const h=new r({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let g=f=class extends o{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){return this.readFeaturesWithClass(e,r,t)}writeGeometryType(e,t,r,o){if(e)return void h.write(e,t,r,o);const{features:s}=this;if(s)for(const n of s)if(null!=n?.geometry)return void h.write(n.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=m(e);return o&&!r&&t.spatialReference&&(o.spatialReference=p.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new f(this.cloneProperties())}cloneProperties(){return s({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e?.[r];o.geometry=t?.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,n=e=>Math.round((e-o)/t),i=e=>Math.round((s-e)/r),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,i);for(let p=0,m=l.length;p<m;p++)a?.(l[p].geometry)||(l.splice(p,1),p--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[n,i]}=r,l=e=>e*n+o,a=e=>s-e*i;let p=null,m=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;p=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;m=r=>null==r?r:r*t+e}const u=this._getHydrationFunction(e,l,a,p,m);for(const{geometry:c}of t)null!=c&&u&&u(c);return this.transform=null,this}readFeaturesWithClass(e,t,r){const o=p.fromJSON(t.spatialReference),s=[];for(let n=0;n<e.length;n++){const t=e[n],i=r.fromJSON(t),l=t.geometry?.spatialReference;null==i.geometry||l||(i.geometry.spatialReference=o);const a=t.aggregateGeometries,p=i.aggregateGeometries;if(a&&null!=p)for(const e in p){const t=p[e],r=a[e],s=r?.spatialReference;null==t||s||(t.spatialReference=o)}s.push(i)}return s}_quantizePoints(e,t,r){let o,s;const n=[];for(let i=0,l=e.length;i<l;i++){const l=e[i];if(i>0){const e=t(l[0]),i=r(l[1]);e===o&&i===s||(n.push([e-o,i-s]),o=e,s=i)}else o=t(l[0]),s=r(l[1]),n.push([o,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let n=0,i=o.length;n<i;n++){const e=o[n],i=this._quantizePoints(e,t,r);i&&s.push(i)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r,o,s){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y),o&&(e.z=o(e.z))}:\"polyline\"===e||\"polygon\"===e?e=>{const n=u(e)?e.rings:e.paths;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];for(let o=0,s=e.length;o<s;o++){const s=e[o];o>0?(i+=s[0],l+=s[1]):(i=s[0],l=s[1]),s[0]=t(i),s[1]=r(l)}}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2]),r[3]=s(r[3])}}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2])}}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=s(r[2])}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),o&&null!=e.zmax&&null!=e.zmin&&(e.zmax=o(e.zmax),e.zmin=o(e.zmin)),s&&null!=e.mmax&&null!=e.mmin&&(e.mmax=s(e.mmax),e.mmin=s(e.mmin))}:\"multipoint\"===e?e=>{const n=e.points;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];o>0?(i+=e[0],l+=e[1]):(i=e[0],l=e[1]),e[0]=t(i),e[1]=r(l)}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2]),e[3]=s(e[3])}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2])}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=s(e[2])}}:null}};e([n({type:String,json:{write:!0}})],g.prototype,\"displayFieldName\",void 0),e([n({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"exceededTransferLimit\",void 0),e([n({type:[t],json:{write:!0}})],g.prototype,\"features\",void 0),e([i(\"features\")],g.prototype,\"readFeatures\",null),e([n({type:[y],json:{write:!0}})],g.prototype,\"fields\",void 0),e([n({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],g.prototype,\"geometryType\",void 0),e([a(\"geometryType\")],g.prototype,\"writeGeometryType\",null),e([n({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"hasM\",void 0),e([n({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"hasZ\",void 0),e([n({types:c,json:{write:!0}})],g.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],g.prototype,\"readQueryGeometry\",null),e([n({type:p,json:{write:!0}})],g.prototype,\"spatialReference\",void 0),e([a(\"spatialReference\")],g.prototype,\"writeSpatialReference\",null),e([n({json:{write:!0}})],g.prototype,\"transform\",void 0),g=f=e([l(\"esri.rest.support.FeatureSet\")],g),g.prototype.toJSON.isDefaultToJSON=!0;const d=g;export{d as default};\n"],"names":["t","n","e","hasM","hasZ","i","length","s","o","geometry","spatialReference","f","z","rings","paths","points","r","features","geometryType","outSpatialReference","h","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","g","constructor","super","this","displayFieldName","exceededTransferLimit","fields","queryGeometry","readFeatures","readFeaturesWithClass","writeGeometryType","write","type","readQueryGeometry","m","p","fromJSON","writeSpatialReference","toJSON","clone","cloneProperties","transform","Array","isArray","quantize","scale","translate","l","a","_getQuantizationFunction","Math","round","splice","unquantize","u","_getHydrationFunction","c","aggregateGeometries","push","_quantizePoints","x","y","xmin","ymin","xmax","ymax","zmax","zmin","mmax","mmin","String","json","prototype","Boolean","overridePolicy","enabled","read","reader","types","isDefaultToJSON","d"],"sourceRoot":""}