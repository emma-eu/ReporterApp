"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[42344],{43047:(t,e,n)=>{n.d(e,{a:()=>m,b:()=>f,c:()=>o,d:()=>d,e:()=>M,f:()=>b,g:()=>c,h:()=>y,j:()=>h,l:()=>w,n:()=>g,s:()=>i,t:()=>p});var r=n(53494);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function i(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function f(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function l(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)}function d(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function h(t){const e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)}function b(t){const e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function g(t,e){const n=e[0],r=e[1],o=e[2],i=e[3];let c=n*n+r*r+o*o+i*i;return c>0&&(c=1/Math.sqrt(c),t[0]=n*c,t[1]=r*c,t[2]=o*c,t[3]=i*c),t}function y(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function w(t,e,n,r){const o=e[0],i=e[1],c=e[2],u=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=c+r*(n[2]-c),t[3]=u+r*(n[3]-u),t}function p(t,e,n){const r=e[0],o=e[1],i=e[2],c=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*c,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*c,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*c,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*c,t}function m(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function M(t,e){const n=t[0],o=t[1],i=t[2],c=t[3],u=e[0],a=e[1],s=e[2],f=e[3],l=(0,r.FD)();return Math.abs(n-u)<=l*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-a)<=l*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(c-f)<=l*Math.max(1,Math.abs(c),Math.abs(f))}const A=u,U=a,C=s,v=l,O=d,I=h,z=b;Object.freeze(Object.defineProperty({__proto__:null,add:c,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},copy:o,copyVec3:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},dist:v,distance:l,div:C,divide:s,dot:y,equals:M,exactEquals:m,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},len:I,length:h,lerp:w,max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},mul:U,multiply:a,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},normalize:g,random:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=r.Ov;let o,i,c,u,a,s;do{o=2*n()-1,i=2*n()-1,a=o*o+i*i}while(a>=1);do{c=2*n()-1,u=2*n()-1,s=c*c+u*u}while(s>=1);const f=Math.sqrt((1-a)/s);return t[0]=e*o,t[1]=e*i,t[2]=e*c*f,t[3]=e*u*f,t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:f,scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},set:i,sqrDist:O,sqrLen:z,squaredDistance:d,squaredLength:b,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:A,subtract:u,transformMat4:p,transformQuat:function(t,e,n){const r=e[0],o=e[1],i=e[2],c=n[0],u=n[1],a=n[2],s=n[3],f=s*r+u*i-a*o,l=s*o+a*r-c*i,d=s*i+c*o-u*r,h=-c*r-u*o-a*i;return t[0]=f*s+h*-c+l*-a-d*-u,t[1]=l*s+h*-u+d*-c-f*-a,t[2]=d*s+h*-a+f*-u-l*-c,t[3]=e[3],t}},Symbol.toStringTag,{value:"Module"}))},44680:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,n,r,o,i,c,u,a){return[t,e,n,r,o,i,c,u,a]}n.d(e,{fA:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},55855:(t,e,n)=>{function r(){return[0,0,0,0]}function o(t){return[t[0],t[1],t[2],t[3]]}function i(t,e,n,r){return[t,e,n,r]}function c(t,e,n,r){return[t,e,n,r]}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0,0];const n=Math.min(4,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}function a(){return[0,0,0,0]}function s(){return i(1,1,1,1)}function f(){return i(1,0,0,0)}function l(){return i(0,1,0,0)}function d(){return i(0,0,1,0)}function h(){return i(0,0,0,1)}n.d(e,{CN:()=>c,Un:()=>g,ci:()=>u,fA:()=>i,o8:()=>o,uY:()=>b,vt:()=>r});const b=[0,0,0,0],g=s(),y=f(),w=l(),p=d(),m=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_W:m,UNIT_X:y,UNIT_Y:w,UNIT_Z:p,ZEROS:b,clone:o,create:r,createView:function(t,e){return new Float64Array(t,e,4)},freeze:c,fromArray:u,fromValues:i,ones:s,unitW:h,unitX:f,unitY:l,unitZ:d,zeros:a},Symbol.toStringTag,{value:"Module"}))},62562:(t,e,n)=>{n.d(e,{MA:()=>d,m0:()=>w,wH:()=>g});var r=n(50076),o=n(53084),i=n(76460),c=n(87041),u=n(66470);const a=()=>i.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(t,e,n){let o="",i=0;for(;i<n;){const c=t[e+i];if(c<128)o+=String.fromCharCode(c),i++;else if(c>=192&&c<224){if(i+1>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const u=(31&c)<<6|63&t[e+i+1];o+=String.fromCharCode(u),i+=2}else if(c>=224&&c<240){if(i+2>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(15&c)<<12|(63&t[e+i+1])<<6|63&t[e+i+2];o+=String.fromCharCode(u),i+=3}else{if(!(c>=240&&c<248))throw new r.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(7&c)<<18|(63&t[e+i+1])<<12|(63&t[e+i+2])<<6|63&t[e+i+3];if(u>=65536){const t=55296+(u-65536>>10),e=56320+(1023&u);o+=String.fromCharCode(t,e)}else o+=String.fromCharCode(u);i+=4}}}return o}function f(t,e){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<e.length;o++){const i=e[o],c=i.valueType||i.type,u=m[c];n.fields[i.property]=u(t,r),r+=p[c].BYTES_PER_ELEMENT}return n.byteCount=r,n}function l(t,e,n){const o=[];let i,c,u=0;for(c=0;c<t;c+=1){if(i=e[c],i>0){if(o.push(s(n,u,i-1)),0!==n[u+i-1])throw new r.A("string-array-error","Invalid string array: missing null termination.")}else o.push(null);u+=i}return o}function d(t,e){return new(0,p[e.valueType])(t,e.byteOffset,e.count*e.valuesPerElement)}function h(t,e,n){const i=null!=e.header?f(t,e.header):{byteOffset:0,byteCount:0,fields:{count:n}},c={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let u=i.byteCount;for(let a=0;a<e.ordering.length;a++){const t=e.ordering[a],n=(0,o.o8)(e[t]);if(n.count=i.fields.count??0,"String"===n.valueType){if(n.byteOffset=u,n.byteCount=i.fields[t+"ByteCount"],"UTF-8"!==n.encoding)throw new r.A("unsupported-encoding","Unsupported String encoding.",{encoding:n.encoding});if(n.timeEncoding&&"ECMA_ISO8601"!==n.timeEncoding)throw new r.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:n.timeEncoding})}else{if(!M(n.valueType))throw new r.A("unsupported-value-type","Unsupported binary valueType",{valueType:n.valueType});{const t=A(n.valueType);u+=u%t!=0?t-u%t:0,n.byteOffset=u,n.byteCount=t*n.valuesPerElement*n.count}}u+=n.byteCount??0,c.entries[t]=n}return c.byteCount=u-c.byteOffset,c}function b(t,e,n){if(e!==t&&a().error(`Invalid ${n} buffer size\n expected: ${t}, actual: ${e})`),e<t)throw new r.A("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function g(t,e){const n=f(t,e&&e.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,c=null!=i.vertexCount?i.vertexCount:i.count;for(const s of e.ordering){if(!e.vertexAttributes[s])continue;const t={...e.vertexAttributes[s],byteOffset:r,count:c},n=y[s]||"_"+s;o.vertexAttributes[n]=t,r+=A(t.valueType)*t.valuesPerElement*c}const u=i.faceCount;if(e.faces&&u){o.faces={};for(const t of e.ordering){if(!e.faces[t])continue;const n={...e.faces[t],byteOffset:r,count:u};o.faces[t]=n,r+=A(n.valueType)*n.valuesPerElement*u}}const a=i.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&a){o.featureAttributes={};for(const t of e.featureAttributeOrder){if(!e.featureAttributes[t])continue;const n={...e.featureAttributes[t],byteOffset:r,count:a};o.featureAttributes[t]=n,r+=("UInt64"===n.valueType?8:A(n.valueType))*n.valuesPerElement*a}}return b(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const y={position:u.r.POSITION,normal:u.r.NORMAL,color:u.r.COLOR,uv0:u.r.UV0,region:u.r.UVREGION};function w(t,e,n){if("lepcc-rgb"===t.encoding)return(0,c.mb)(e);if("lepcc-intensity"===t.encoding)return(0,c.Ax)(e);if(null!=t.encoding&&""!==t.encoding)throw new r.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(a().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(a().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const o=h(e,t,n);b(o.byteOffset+o.byteCount,e.byteLength,"attribute");const i=o.entries.attributeValues||o.entries.objectIds;if(i){if("String"===i.valueType){const t=o.entries.attributeByteCounts,n=d(e,t),r=function(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}(e,i);return i.timeEncoding?function(t,e,n){return l(t,e,n).map((t=>{const e=t?Date.parse(t):null;return null==e||Number.isNaN(e)?null:e}))}(t.count,n,r):l(t.count,n,r)}return d(e,i)}throw new r.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const p={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},m={Float32:(t,e)=>new DataView(t,0).getFloat32(e,!0),Float64:(t,e)=>new DataView(t,0).getFloat64(e,!0),UInt8:(t,e)=>new DataView(t,0).getUint8(e),Int8:(t,e)=>new DataView(t,0).getInt8(e),UInt16:(t,e)=>new DataView(t,0).getUint16(e,!0),Int16:(t,e)=>new DataView(t,0).getInt16(e,!0),UInt32:(t,e)=>new DataView(t,0).getUint32(e,!0),Int32:(t,e)=>new DataView(t,0).getInt32(e,!0)};function M(t){return p.hasOwnProperty(t)}function A(t){return M(t)?p[t].BYTES_PER_ELEMENT:0}},87041:(t,e,n)=>{n.d(e,{Ax:()=>w,Me:()=>s,mb:()=>b});var r=n(50076);const o=!0,i={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function c(t,e,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,n+i.identifierOffset,i.identifierLength)),version:e.getUint16(n+i.versionOffset,o),checksum:e.getUint32(n+i.checksumOffset,o)}}const u={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function a(t,e){return{sizeLo:t.getUint32(e+u.sizeLo,o),sizeHi:t.getUint32(e+u.sizeHi,o),minX:t.getFloat64(e+u.minX,o),minY:t.getFloat64(e+u.minY,o),minZ:t.getFloat64(e+u.minZ,o),maxX:t.getFloat64(e+u.maxX,o),maxY:t.getFloat64(e+u.maxY,o),maxZ:t.getFloat64(e+u.maxZ,o),errorX:t.getFloat64(e+u.errorX,o),errorY:t.getFloat64(e+u.errorY,o),errorZ:t.getFloat64(e+u.errorZ,o),count:t.getUint32(e+u.count,o),reserved:t.getUint32(e+u.reserved,o)}}function s(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:s}=c(t,e,n);if(n+=i.byteCount,"LEPCC     "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(s>1)throw new r.A("lepcc-decode-error","Unknown version");const l=a(e,n);if(n+=u.byteCount,l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const d=new Float64Array(3*l.count),h=[],b=[],g=[],y=[];if(n=f(t,n,h),n=f(t,n,b),n=f(t,n,g),n=f(t,n,y),n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad length");let w=0,p=0;for(let r=0;r<h.length;r++){p+=h[r];let t=0;for(let e=0;e<b[r];e++){t+=g[w];const e=y[w];d[3*w]=Math.min(l.maxX,l.minX+2*l.errorX*t),d[3*w+1]=Math.min(l.maxY,l.minY+2*l.errorY*p),d[3*w+2]=Math.min(l.maxZ,l.minZ+2*l.errorZ*e),w++}}return{errorX:l.errorX,errorY:l.errorY,errorZ:l.errorZ,result:d}}function f(t,e,n){const r=[];e=l(t,e,r);const o=[];for(let i=0;i<r.length;i++){o.length=0,e=l(t,e,o);for(let t=0;t<o.length;t++)n.push(o[t]+r[i])}return e}function l(t,e,n){const i=new DataView(t,e),c=i.getUint8(0),u=31&c,a=!!(32&c),s=(192&c)>>6;let f=0;if(0===s)f=i.getUint32(1,o),e+=5;else if(1===s)f=i.getUint16(1,o),e+=3;else{if(2!==s)throw new r.A("lepcc-decode-error","Bad count type");f=i.getUint8(1),e+=2}if(a)throw new r.A("lepcc-decode-error","LUT not implemented");const l=Math.ceil(f*u/8),d=new Uint8Array(t,e,l);let h=0,b=0,g=0;const y=-1>>>32-u;for(let r=0;r<f;r++){for(;b<u;)h|=d[g]<<b,b+=8,g+=1;n[r]=h&y,h>>>=u,b-=u,b+u>32&&(h|=d[g-1]>>8-b)}return e+g}const d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function h(t,e){return{sizeLo:t.getUint32(e+d.sizeLo,o),sizeHi:t.getUint32(e+d.sizeHi,o),count:t.getUint32(e+d.count,o),colorMapCount:t.getUint16(e+d.colorMapCount,o),lookupMethod:t.getUint8(e+d.lookupMethod),compressionMethod:t.getUint8(e+d.compressionMethod)}}function b(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:u}=c(t,e,n);if(n+=i.byteCount,"ClusterRGB"!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(u>1)throw new r.A("lepcc-decode-error","Unknown version");const a=h(e,n);if(n+=d.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===a.lookupMethod||1===a.lookupMethod)&&0===a.compressionMethod){if(3*a.colorMapCount+a.count+n!==t.byteLength||a.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const e=new Uint8Array(t,n,3*a.colorMapCount),o=new Uint8Array(t,n+3*a.colorMapCount,a.count),i=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++){const n=o[t];i[3*t]=e[3*n],i[3*t+1]=e[3*n+1],i[3*t+2]=e[3*n+2]}return i}if(0===a.lookupMethod&&0===a.compressionMethod){if(3*a.count+n!==t.byteLength||0!==a.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(t,n).slice()}if(a.lookupMethod<=2&&1===a.compressionMethod){if(n+3!==t.byteLength||1!==a.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const o=e.getUint8(n),i=e.getUint8(n+1),c=e.getUint8(n+2),u=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++)u[3*t]=o,u[3*t+1]=i,u[3*t+2]=c;return u}throw new r.A("lepcc-decode-error","Bad method "+a.lookupMethod+","+a.compressionMethod)}const g={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function y(t,e){return{sizeLo:t.getUint32(e+g.sizeLo,o),sizeHi:t.getUint32(e+g.sizeHi,o),count:t.getUint32(e+g.count,o),scaleFactor:t.getUint16(e+g.scaleFactor,o),bitsPerPoint:t.getUint8(e+g.bitsPerPoint),reserved:t.getUint8(e+g.reserved)}}function w(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:u}=c(t,e,n);if(n+=i.byteCount,"Intensity "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(u>1)throw new r.A("lepcc-decode-error","Unknown version");const a=y(e,n);if(n+=g.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const s=new Uint16Array(a.count);if(8===a.bitsPerPoint){if(a.count+n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const e=new Uint8Array(t,n,a.count);for(let t=0;t<a.count;t++)s[t]=e[t]*a.scaleFactor}else if(16===a.bitsPerPoint){if(2*a.count+n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const e=new Uint16Array(t,n,a.count);for(let t=0;t<a.count;t++)s[t]=e[t]*a.scaleFactor}else{const e=[];if(l(t,n,e)!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let t=0;t<a.count;t++)s[t]=e[t]*a.scaleFactor}return s}}}]);
//# sourceMappingURL=42344.49811afa.chunk.js.map