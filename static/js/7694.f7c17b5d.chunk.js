"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[7694],{6127:(e,t,n)=>{n.d(t,{m:()=>r});const r=new(n(45802).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},32173:(e,t,n)=>{n.d(t,{A:()=>u});var r,i=n(35143),l=(n(76460),n(81806),n(47249),n(50076),n(6409)),o=n(85842),a=n(44631);let s=r=class extends a.A{constructor(e){super(e),this.type="inherited"}clone(){return new r}};(0,i._)([(0,l.e)({inherited:"inherited"})],s.prototype,"type",void 0),s=r=(0,i._)([(0,o.$)("esri.layers.support.InheritedDomain")],s);const u=s},44135:(e,t,n)=>{n.d(t,{A:()=>h});var r,i=n(35143),l=n(45802),o=n(42553),a=n(46053),s=n(40565),u=(n(81806),n(47249),n(6409)),c=n(28379),d=n(85842),p=n(76866),y=n(6127);const m=new l.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let f=r=class extends o.A{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,t){let{description:n}=t,r=null;try{r=n?JSON.parse(n):null}catch(i){}return r?.value??null}readValueType(e,t){let{description:n}=t,r=null;try{r=n?JSON.parse(n):null}catch(i){}return r?m.fromJSON(r.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"alias",void 0),(0,i._)([(0,a.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],f.prototype,"defaultValue",void 0),(0,i._)([(0,a.MZ)()],f.prototype,"description",void 0),(0,i._)([(0,c.w)("description")],f.prototype,"readDescription",null),(0,i._)([(0,a.MZ)({types:p.gK,json:{read:{reader:p.rS},write:!0}})],f.prototype,"domain",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0),(0,i._)([(0,a.MZ)({type:s.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],f.prototype,"length",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"name",void 0),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"nullable",void 0),(0,i._)([(0,u.e)(y.m)],f.prototype,"type",void 0),(0,i._)([(0,a.MZ)()],f.prototype,"valueType",void 0),(0,i._)([(0,c.w)("valueType",["description"])],f.prototype,"readValueType",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{read:!1}})],f.prototype,"visible",void 0),f=r=(0,i._)([(0,d.$)("esri.layers.support.Field")],f);const h=f},44631:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(35143),i=n(45802),l=n(42553),o=n(46053),a=(n(81806),n(76460),n(47249),n(6409)),s=n(85842);const u=new i.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let c=class extends l.A{constructor(e){super(e),this.name=null,this.type=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,r._)([(0,a.e)(u),(0,o.MZ)({json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,r._)([(0,s.$)("esri.layers.support.Domain")],c);const d=c},50654:(e,t,n)=>{n.d(t,{A:()=>c});var r,i=n(35143),l=n(46053),o=(n(81806),n(76460),n(47249),n(6409)),a=n(85842),s=n(44631);let u=r=class extends s.A{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,i._)([(0,l.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]},isRequired:!0}}})],u.prototype,"maxValue",void 0),(0,i._)([(0,l.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]},isRequired:!0}}})],u.prototype,"minValue",void 0),(0,i._)([(0,o.e)({range:"range"})],u.prototype,"type",void 0),u=r=(0,i._)([(0,a.$)("esri.layers.support.RangeDomain")],u);const c=u},72599:(e,t,n)=>{n.d(t,{A:()=>p});var r,i=n(35143),l=n(53084),o=n(46053),a=(n(81806),n(76460),n(6409)),s=n(85842),u=n(92115),c=n(44631);let d=r=class extends c.A{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some((e=>(String(e.code)===n&&(t=e.name),!!t)))}return t}clone(){return new r({codedValues:(0,l.o8)(this.codedValues),name:this.name})}};(0,i._)([(0,o.MZ)({type:[u.H],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,i._)([(0,a.e)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=r=(0,i._)([(0,s.$)("esri.layers.support.CodedValueDomain")],d);const p=d},72940:(e,t,n)=>{n.r(t),n.d(t,{Dictionary:()=>o.A,Voxel:()=>m,arcade:()=>r.h,arcadeFeature:()=>a.A,convertFeatureLayerToFeatureSet:()=>k,convertJsonToArcade:()=>L,convertMapToFeatureSetCollection:()=>E,convertServiceUrlToWorkspace:()=>P,createExecContext:()=>M,createFeature:()=>D,createFunction:()=>V,createSyntaxTree:()=>F,dependsOnView:()=>R,enableFeatureSetOperations:()=>z,enableGeometryOperations:()=>G,evalSyntaxTree:()=>Z,executeAsyncFunction:()=>I,executeFunction:()=>$,extractFieldNames:()=>N,getArcadeType:()=>S,getViewInfo:()=>J,hasGeometryFunctions:()=>Y,hasGeometryOperations:()=>H,hasVariable:()=>C,loadScriptDependencies:()=>q,updateExecContext:()=>O});var r=n(69175),i=n(46405),l=n(66240),o=n(67253),a=n(48015),s=n(43036),u=n(9861),c=n(98264),d=n(85632);const p="Voxel.Position",y="Voxel.LocalTime";class m{constructor(e,t){this._graphic=e,this._timeZone=t,this.arcadeDeclaredClass="esri.arcade.Voxel",this._layer=e.layer}getPosition(){return void 0!==this._position?this._position:this._position=function(e){const t=e.getAttribute(p);if("string"!=typeof t)throw new u.D$(null,u.TX.InvalidParameter,null);const n=JSON.parse(t);if(!Array.isArray(n)||"number"!=typeof n[0]||"number"!=typeof n[1]||"number"!=typeof n[2])throw new u.D$(null,u.TX.InvalidParameter,null);return new c.A(n)}(this._graphic)}getLocalTime(){return void 0!==this._localTime?this._localTime:this._localTime=function(e,t){const n=e.getAttribute(y);if(null==n)return null;if(!(0,d.$P)(n))throw new u.D$(null,u.TX.InvalidParameter,null);return i.lY.dateJSAndZoneToArcadeDate(n,t)}(this._graphic,this._timeZone??"system")}keys(){return this._layer.fields.map((e=>e.name)).sort()}hasField(e){return this._layer.fieldsIndex.has(e)}field(e){const t=this._layer.fieldsIndex?.get(e)?.name;if(null==t)throw new u.D$(null,u.TX.FieldNotFound,null,{key:e});switch(t){case p:return this.getPosition();case y:return this.getLocalTime()}return this._graphic.attributes[t]??null}castToText(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={...this._graphic.attributes};t[p]=this.getPosition(),y in t&&(t[y]=this.getLocalTime());for(const n of Object.keys(t))this._layer.fieldsIndex?.has(n)||delete t[n];return(0,s.c)(t,{useNumbersForDates:e})}}var f=n(53084),h=n(16503),v=n(14902),g=n(76797),b=n(66388),w=n(19247),T=n(65215),A=n(23701);const x={vars:{$feature:"any",$view:"any"},spatialReference:null};function _(e){return e.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function S(e){return null==e?null:(0,d.cy)(e)||(0,s.m)(e)?"array":(0,s.g)(e)?"date":(0,d.Kg)(e)?"text":(0,d.Lm)(e)?"boolean":(0,d.Et)(e)?"number":e instanceof o.A?"dictionary":(0,s.n)(e)?"feature":e instanceof w.A?"point":e instanceof T.A?"polygon":e instanceof A.A?"polyline":e instanceof b.A?"multipoint":e instanceof g.A?"extent":e instanceof h.n?"dateOnly":e instanceof v.k?"time":(0,s.p)(e)?"featureSet":(0,s.o)(e)?"featureSetCollection":null}function F(e){if(!e)return null;try{return(0,r.p)(e)}catch(t){}return null}function V(e,t){const n="string"==typeof e?F(e):e;if(!n)return null;try{return t=t||(0,f.o8)(x),(0,r.c)(n,t)}catch(i){}return null}function M(e,t,n){return{vars:{$feature:null==e?new a.A:a.A.createFromGraphic(e,n),$view:t?.view},spatialReference:t?.sr,timeZone:n??null}}function D(e,t,n){return a.A.createFromGraphicLikeObject(t,e,n,null)}function O(e,t){null!=e.vars&&(e.vars.$feature=t)}function Z(e,t){let n;try{n=(0,r.e)(e,t)}catch(i){n=null}return n}function $(e,t){let n;try{n=e?e(t):null}catch(r){n=null}return n}function I(e,t){try{return e?e(t):Promise.resolve(null)}catch(n){return Promise.resolve(null)}}const j=new Set(["$feature","$aggregatedFeatures","$voxel"].map((e=>(0,l.X)(e))));function N(e,t){if(!e)return[];const n="string"==typeof e?F(e):e;if(!n)return[];const i=(0,r.a)(n).filter((e=>{let{varId:t}=e;return j.has(t)})).map((e=>{let{memberNamePattern:t}=e;return t})).flatMap((e=>{if(e.includes("*")){if(null==t)return[];const n=new RegExp(`^${e.split(/\*+/).map(_).join(".*")}$`,"i");return t.filter((e=>n.test(e)))}return e.toLowerCase()}));return[...new Set(i.sort())]}function R(e){return(0,r.r)(e,"$view")}function C(e,t){return!!e&&(0,r.r)(e,t)}function J(e){if(!e||null==e.spatialReference&&(null==e.scale||null==e.viewingMode))return;let t,n;const{timeProperties:r,timeZone:l}=e;if(null!=r){const{currentStart:e,currentEnd:o}=r;null!=l?(t=null!=e?i.lY.dateJSAndZoneToArcadeDate(e,l):null,n=null!=o?i.lY.dateJSAndZoneToArcadeDate(o,l):null):(t=null!=e?i.lY.dateJSToArcadeDate(e):null,n=null!=o?i.lY.dateJSToArcadeDate(o):null)}return{view:e.viewingMode&&null!=e.scale?new o.A({viewingMode:e.viewingMode,scale:e.scale,timeProperties:null!=t||null!=n?new o.A({currentStart:t,currentEnd:n,startIncluded:!0,endIncluded:!0}):null}):null,sr:e.spatialReference}}function P(e){let{url:t,spatialReference:n,lrucache:i,interceptor:l}=e;const o=(0,r.f)();return o?o.createFeatureSetCollectionFromService(t,n,i,l):null}function k(e){let{layer:t,spatialReference:n,outFields:i,returnGeometry:l,lrucache:o,interceptor:a}=e;if(null===t)return null;const s=(0,r.f)();return s?s.constructFeatureSet(t,n,i,l??!0,o,a):null}function E(e){if(null===e?.map)return null;const t=(0,r.f)();return t?t.createFeatureSetCollectionFromMap(e.map,e.spatialReference,e.lrucache,e.interceptor):null}function L(e,t){return o.A.convertJsonToArcade(e,t)}function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,r.l)(e,t,n)}function G(){return(0,r.b)()}function z(){return(0,r.d)()}function X(e,t){if(!e)return!1;if("string"==typeof e)return t(e);const n=e;if(function(e){return"type"in e&&("class-breaks"===e.type||"dictionary"===e.type||"dot-density"===e.type||"pie-chart"===e.type||"simple"===e.type||"unique-value"===e.type)}(n)){if("dot-density"===n.type){const e=n.attributes?.some((e=>t(e.valueExpression)));if(e)return e}const e=n.visualVariables,r=!!e&&e.some((e=>{let n=t(e.valueExpression);return"size"===e.type&&(U(e.minSize)&&(n=n||t(e.minSize.valueExpression)),U(e.maxSize)&&(n=n||t(e.maxSize.valueExpression))),n}));return!(!("valueExpression"in n)||!t(n.valueExpression))||r}if(function(e){return"esri.layers.support.LabelClass"===e.declaredClass}(n)){const e=n.labelExpressionInfo?.expression;return!(!e||!t(e))||!1}return!!function(e){return"esri.PopupTemplate"===e.declaredClass}(n)&&(!!n.expressionInfos&&n.expressionInfos.some((e=>t(e.expression)))||Array.isArray(n.content)&&n.content.some((e=>"expression"===e.type&&t(e.expressionInfo?.expression))))}function B(e){const t=F(e);return!!t&&(0,r.s)(t)}function Y(e){return X(e,B)}function K(e){const t=F(e);return!!t&&(0,r.g)(t)}function H(e){return X(e,K)}function U(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}},76866:(e,t,n)=>{n.d(t,{gK:()=>a,rS:()=>s});n(81806);var r=n(72599),i=n(44631),l=n(32173),o=n(50654);const a={key:"type",base:i.A,typeMap:{range:o.A,"coded-value":r.A,inherited:l.A}};function s(e){if(!e?.type)return null;switch(e.type){case"range":return o.A.fromJSON(e);case"codedValue":return r.A.fromJSON(e);case"inherited":return l.A.fromJSON(e)}return null}},92115:(e,t,n)=>{n.d(t,{H:()=>s});var r,i=n(35143),l=n(42553),o=n(46053),a=(n(81806),n(76460),n(47249),n(85842));let s=r=class extends l.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};(0,i._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],s.prototype,"name",void 0),(0,i._)([(0,o.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],s.prototype,"code",void 0),s=r=(0,i._)([(0,a.$)("esri.layers.support.CodedValue")],s)}}]);
//# sourceMappingURL=7694.f7c17b5d.chunk.js.map