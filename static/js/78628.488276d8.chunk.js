"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[78628],{4414:(e,t,s)=>{s.d(t,{O3:()=>c,PU:()=>h,YW:()=>d,ex:()=>l,hv:()=>p,zp:()=>a});var i=s(15941),r=s(76931),o=s(43047),n=s(55855);const l=2.4;function a(e){return(0,r.PN)(e*l)}function h(e){return(0,r.Lz)(e)/l}function u(e,t,s,r){let{color:n,ratio:l}=t,{color:a,ratio:h}=s;if(h===l){const e=1e-6;1===h?l-=e:h+=e}const u=(0,i.qE)((r-l)/(h-l),0,1);(0,o.l)(e,n.toArray(),a.toArray(),u)}function c(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((e=>{let{ratio:t}=e;return t>=0&&t<=1})).sort(((e,t)=>e.ratio-t.ratio)).map((e=>{let{color:t,ratio:s}=e;return{color:t,ratio:Math.max(s,.001)}})),e.length<1)return t;let s=e[0],i=e[0],r=1;const o=(0,n.vt)();for(let n=0;n<512;n++){const l=(n+.5)/512;for(;l>i.ratio&&r<e.length;)s=i,i=e[r++];u(o,s,i,l),t.set(o,4*n)}return t}function p(e,t,s){const i=Math.sqrt(e**2+t**2)/s;return i>1?0:3/(Math.PI*s**2)*(1-i**2)**2}function d(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},5766:(e,t,s)=>{s.d(t,{A:()=>d});var i,r=s(35143),o=s(53084),n=s(46053),l=(s(81806),s(76460),s(6409)),a=s(85842),h=s(71832),u=s(37287),c=s(23243);let p=i=class extends((0,u.h)(h.A)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map((s=>s.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new i({description:this.description,label:this.label,symbol:(0,o.o8)(this.symbol),visualVariables:(0,o.o8)(this.visualVariables),authoringInfo:(0,o.o8)(this.authoringInfo)})}};(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,r._)([(0,n.MZ)(c.Wp)],p.prototype,"symbol",void 0),(0,r._)([(0,l.e)({simple:"simple"})],p.prototype,"type",void 0),p=i=(0,r._)([(0,a.$)("esri.renderers.SimpleRenderer")],p);const d=p},29380:(e,t,s)=>{s.d(t,{A:()=>u});var i,r=s(35143),o=s(42553),n=s(46053),l=(s(81806),s(76460),s(47249),s(85842)),a=s(23243);let h=i=class extends o.A{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,r._)([(0,n.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],h.prototype,"minValue",void 0),(0,r._)([(0,n.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],h.prototype,"maxValue",void 0),(0,r._)([(0,n.MZ)(a.Wp)],h.prototype,"symbol",void 0),h=i=(0,r._)([(0,l.$)("esri.renderers.support.ClassBreakInfo")],h);const u=h},31394:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(61551),r=s(8995),o=s(13692);class n extends r.f{renderChildren(e){for(const t of this.children)t.setTransform(e.state);if(super.renderChildren(e),this._updateAttributeView(),this.children.some((e=>e.hasData))){switch(e.drawPhase){case i.S5.MAP:this._renderChildren(e,i.RI.All);break;case i.S5.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(e)}this._boundsRenderer&&this._boundsRenderer.doRender(e)}}_renderHighlight(e){(0,o.lB)(e,!1,(e=>{this._renderChildren(e,i.RI.Highlight)}))}}},53521:(e,t,s)=>{s.d(t,{q:()=>r});var i=s(79369);class r{constructor(e,t){this._storage=new i.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,s,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},63844:(e,t,s)=>{s.d(t,{A:()=>A});var i,r=s(35143),o=s(45802),n=s(53084),l=s(76460),a=s(46053),h=s(21403),u=s(6409),c=s(28379),p=s(85842),d=s(17707),m=s(40565),y=s(53430),f=s(71832),g=s(37287),_=s(29380),b=s(23243),v=s(84563),z=s(98976),x=s(94725);const w="percent-of-total",S="field",M=new o.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:w,esriNormalizeByField:S}),V=(0,m.dp)(_.A);let k=i=class extends((0,g.h)(f.A)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,s){if(!Array.isArray(e))return;let i=t.minValue;return e.map((e=>{const t=new _.A;return t.read(e,s),null==t.minValue&&(t.minValue=i),null==t.maxValue&&(t.maxValue=t.minValue),i=t.maxValue,t}))}writeClassBreakInfos(e,t,s,i){const r=e.map((e=>e.write({},i)));this._areClassBreaksConsecutive()&&r.forEach((e=>delete e.classMinValue)),t[s]=r}castField(e){return null==e?e:"function"==typeof e?(l.A.getLogger(this).error(".field: field must be a string value"),null):(0,m.GX)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,s=null!=this.normalizationTotal;return t||s?(e=t&&S||s&&w||null,t&&s&&l.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==S&&e!==w||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,s){let i=null;i="number"==typeof e?new _.A({minValue:e,maxValue:t,symbol:(0,x.dp)(s)}):V((0,n.o8)(e)),this.classBreakInfos.push(i),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const s=this.classBreakInfos.length;for(let i=0;i<s;i++){const s=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&null==t?.arcade&&l.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let s=t;this.valueExpression&&null==t?.arcade&&(s={...s,arcade:await(0,z.lw)()});const i=this.getBreakIndex(e,s);return-1!==i?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&null==t?.arcade)return void l.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const s=this.getBreakIndex(e,t);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let s=t;if(this.valueExpression&&null==t?.arcade){const e=await(0,z.lw)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),s={...s,arcade:e}}const i=this.getBreakIndex(e,s);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),s=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${s}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new i({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,n.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,n.o8)(this.visualVariables),legendOptions:(0,n.o8)(this.legendOptions),authoringInfo:(0,n.o8)(this.authoringInfo)})}async collectRequiredFields(e,t){const s=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(s)}async collectSymbolFields(e,t){const s=[...this.symbols.map((s=>s.collectRequiredFields(e,t))),(0,y.Dx)(e,t,this.valueExpression)];(0,y.rq)(e,t,this.field),(0,y.rq)(e,t,this.normalizationField),await Promise.all(s)}_getBreakIndexForExpression(e,t){const{viewingMode:s,scale:i,spatialReference:r,arcade:o,timeZone:n}=t??{},{valueExpression:l}=this;let a=this._compiledValueExpression.valueExpression===l?this._compiledValueExpression.compiledFunction:null;const h=o.arcadeUtils;if(!a){const e=h.createSyntaxTree(l);a=h.createFunction(e),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=l;const u=h.executeFunction(a,h.createExecContext(e,h.getViewInfo({viewingMode:s,scale:i,spatialReference:r}),n));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,s=e.attributes,i=this.normalizationType;let r=parseFloat(s[t]);if(i){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?s[this.normalizationField]:void 0);if("log"===i)r=Math.log(r)*Math.LOG10E;else if(i!==w||null==e||isNaN(e)){if(i===S&&!isNaN(t)){if(isNaN(r)||isNaN(t))return-1;r/=t}}else r=r/e*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let s=0;s<this.classBreakInfos.length;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return s}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let s=1;s<t;s++)if(e[s-1].maxValue!==e[s].minValue)return!1;return!0}};(0,r._)([(0,a.MZ)(b.As)],k.prototype,"backgroundFillSymbol",void 0),(0,r._)([(0,a.MZ)({type:[_.A],json:{write:{isRequired:!0}}})],k.prototype,"classBreakInfos",void 0),(0,r._)([(0,c.w)("classBreakInfos")],k.prototype,"readClassBreakInfos",null),(0,r._)([(0,d.K)("classBreakInfos")],k.prototype,"writeClassBreakInfos",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"defaultLabel",void 0),(0,r._)([(0,a.MZ)(b.z4)],k.prototype,"defaultSymbol",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"field",void 0),(0,r._)([(0,h.w)("field")],k.prototype,"castField",null),(0,r._)([(0,a.MZ)({type:Boolean})],k.prototype,"isMaxInclusive",void 0),(0,r._)([(0,a.MZ)({type:v.A,json:{write:!0}})],k.prototype,"legendOptions",void 0),(0,r._)([(0,a.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],k.prototype,"minValue",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],k.prototype,"normalizationTotal",void 0),(0,r._)([(0,a.MZ)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write}})],k.prototype,"normalizationType",null),(0,r._)([(0,u.e)({classBreaks:"class-breaks"})],k.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0),k=i=(0,r._)([(0,p.$)("esri.renderers.ClassBreaksRenderer")],k);const A=k},68528:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var i=s(35143),r=s(16868),o=s(94643),n=s(68134),l=(s(76460),s(81806),s(47249),s(50076),s(85842)),a=s(5766),h=s(86616),u=s(77725),c=s(56286),p=s(31394),d=s(69679),m=s(91196);let y=class extends((0,c.e)(m.A)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}async hitTest(e,t){if(!this.graphicsViews.length)return null;const s=this.layer;return this.graphicsViews.reverse().flatMap((t=>{const i=this._popupTemplates.get(t),r=t.hitTest(e);for(const e of r)e.layer=s,e.sourceLayer=s,e.popupTemplate=i;return r})).map((t=>({type:"graphic",graphic:t,layer:s,mapPoint:e})))}update(e){if(this.graphicsViews)for(const t of this.graphicsViews)t.processUpdate(e)}attach(){this.addAttachHandles([(0,n.wB)((()=>this.layer?.featureCollections),(e=>{this._clear();for(const{popupInfo:t,featureSet:s,layerDefinition:i}of e){const e=u.A.fromJSON(s),n=new o.A(e.features),l=i.drawingInfo,a=t?r.A.fromJSON(t):null,c=(0,h.r)(l.renderer),m=new d.A({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:n,renderer:c,container:new p.A(this.view.featuresTilingScheme)});this._graphicsViewMap[e.geometryType]=m,this._popupTemplates.set(m,a),"polygon"!==e.geometryType||this.layer.polygonSymbol?"polyline"!==e.geometryType||this.layer.lineSymbol?"point"!==e.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=c.symbol):this.layer.lineSymbol=c.symbol:this.layer.polygonSymbol=c.symbol,this.graphicsViews.push(m),this.container.addChild(m.container)}}),n.Vh),(0,n.wB)((()=>this.layer?.polygonSymbol),(e=>{this._graphicsViewMap.polygon.renderer=new a.A({symbol:e})}),n.Vh),(0,n.wB)((()=>this.layer?.lineSymbol),(e=>{this._graphicsViewMap.polyline.renderer=new a.A({symbol:e})}),n.Vh),(0,n.wB)((()=>this.layer?.pointSymbol),(e=>{this._graphicsViewMap.point.renderer=new a.A({symbol:e})}),n.Vh)])}detach(){this._clear()}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}_clear(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};y=(0,i._)([(0,l.$)("esri.views.2d.layers.GeoRSSLayerView2D")],y);const f=y},77725:(e,t,s)=>{s.d(t,{A:()=>b});var i,r=s(35143),o=s(39356),n=s(45802),l=s(42553),a=s(53084),h=s(46053),u=(s(81806),s(76460),s(28379)),c=s(85842),p=s(17707),d=s(13312),m=s(19902),y=s(31608),f=s(44135);const g=new n.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let _=i=class extends l.A{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,o.A)}writeGeometryType(e,t,s,i){if(e)return void g.write(e,t,s,i);const{features:r}=this;if(r)for(const o of r)if(null!=o?.geometry)return void g.write(o.geometry.type,t,s,i)}readQueryGeometry(e,t){if(!e)return null;const s=!!e.spatialReference,i=(0,m.rS)(e);return i&&!s&&t.spatialReference&&(i.spatialReference=d.A.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:s}=this;if(s)for(const i of s)if(i&&null!=i.geometry&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}clone(){return new i(this.cloneProperties())}cloneProperties(){return(0,a.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let s=0;s<t.features.length;s++){const i=t.features[s];if(i.geometry){const t=e?.[s];i.geometry=t?.toJSON()||i.geometry}}return t}quantize(e){const{scale:[t,s],translate:[i,r]}=e,o=this.features,n=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-i)/t)),(e=>Math.round((r-e)/s)));for(let l=0,a=o.length;l<a;l++)n?.(o[l].geometry)||(o.splice(l,1),l--,a--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:s}=this;if(!s)return this;const{translate:[i,r],scale:[o,n]}=s;let l=null,a=null;if(this.hasZ&&null!=s?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=s;l=s=>s*t+e}if(this.hasM&&null!=s?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=s;a=s=>null==s?s:s*t+e}const h=this._getHydrationFunction(e,(e=>e*o+i),(e=>r-e*n),l,a);for(const{geometry:u}of t)null!=u&&h&&h(u);return this.transform=null,this}readFeaturesWithClass(e,t,s){const i=d.A.fromJSON(t.spatialReference),r=[];for(let o=0;o<e.length;o++){const t=e[o],n=s.fromJSON(t),l=t.geometry?.spatialReference;null==n.geometry||l||(n.geometry.spatialReference=i);const a=t.aggregateGeometries,h=n.aggregateGeometries;if(a&&null!=h)for(const e in h){const t=h[e],s=a[e],r=s?.spatialReference;null==t||r||(t.spatialReference=i)}r.push(n)}return r}_quantizePoints(e,t,s){let i,r;const o=[];for(let n=0,l=e.length;n<l;n++){const l=e[n];if(n>0){const e=t(l[0]),n=s(l[1]);e===i&&n===r||(o.push([e-i,n-r]),i=e,r=n)}else i=t(l[0]),r=s(l[1]),o.push([i,r])}return o.length>0?o:null}_getQuantizationFunction(e,t,s){return"point"===e?e=>(e.x=t(e.x),e.y=s(e.y),e):"polyline"===e||"polygon"===e?e=>{const i=(0,m.Bi)(e)?e.rings:e.paths,r=[];for(let o=0,n=i.length;o<n;o++){const e=i[o],n=this._quantizePoints(e,t,s);n&&r.push(n)}return r.length>0?((0,m.Bi)(e)?e.rings=r:e.paths=r,e):null}:"multipoint"===e?e=>{const i=this._quantizePoints(e.points,t,s);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,s,i,r){return"point"===e?e=>{e.x=t(e.x),e.y=s(e.y),i&&(e.z=i(e.z))}:"polyline"===e||"polygon"===e?e=>{const o=(0,m.Bi)(e)?e.rings:e.paths;let n,l;for(let i=0,r=o.length;i<r;i++){const e=o[i];for(let i=0,r=e.length;i<r;i++){const r=e[i];i>0?(n+=r[0],l+=r[1]):(n=r[0],l=r[1]),r[0]=t(n),r[1]=s(l)}}if(i&&r)for(let t=0,s=o.length;t<s;t++){const e=o[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=i(s[2]),s[3]=r(s[3])}}else if(i)for(let t=0,s=o.length;t<s;t++){const e=o[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=i(s[2])}}else if(r)for(let t=0,s=o.length;t<s;t++){const e=o[t];for(let t=0,s=e.length;t<s;t++){const s=e[t];s[2]=r(s[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=s(e.ymin),e.xmax=t(e.xmax),e.ymax=s(e.ymax),i&&null!=e.zmax&&null!=e.zmin&&(e.zmax=i(e.zmax),e.zmin=i(e.zmin)),r&&null!=e.mmax&&null!=e.mmin&&(e.mmax=r(e.mmax),e.mmin=r(e.mmin))}:"multipoint"===e?e=>{const o=e.points;let n,l;for(let i=0,r=o.length;i<r;i++){const e=o[i];i>0?(n+=e[0],l+=e[1]):(n=e[0],l=e[1]),e[0]=t(n),e[1]=s(l)}if(i&&r)for(let t=0,s=o.length;t<s;t++){const e=o[t];e[2]=i(e[2]),e[3]=r(e[3])}else if(i)for(let t=0,s=o.length;t<s;t++){const e=o[t];e[2]=i(e[2])}else if(r)for(let t=0,s=o.length;t<s;t++){const e=o[t];e[2]=r(e[2])}}:null}};(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],_.prototype,"displayFieldName",void 0),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_.prototype,"exceededTransferLimit",void 0),(0,r._)([(0,h.MZ)({type:[o.A],json:{write:!0}})],_.prototype,"features",void 0),(0,r._)([(0,u.w)("features")],_.prototype,"readFeatures",null),(0,r._)([(0,h.MZ)({type:[f.A],json:{write:!0}})],_.prototype,"fields",void 0),(0,r._)([(0,h.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],_.prototype,"geometryType",void 0),(0,r._)([(0,p.K)("geometryType")],_.prototype,"writeGeometryType",null),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_.prototype,"hasM",void 0),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],_.prototype,"hasZ",void 0),(0,r._)([(0,h.MZ)({types:y.yR,json:{write:!0}})],_.prototype,"queryGeometry",void 0),(0,r._)([(0,u.w)("queryGeometry")],_.prototype,"readQueryGeometry",null),(0,r._)([(0,h.MZ)({type:d.A,json:{write:!0}})],_.prototype,"spatialReference",void 0),(0,r._)([(0,p.K)("spatialReference")],_.prototype,"writeSpatialReference",null),(0,r._)([(0,h.MZ)({json:{write:!0}})],_.prototype,"transform",void 0),_=i=(0,r._)([(0,c.$)("esri.rest.support.FeatureSet")],_),_.prototype.toJSON.isDefaultToJSON=!0;const b=_},79369:(e,t,s)=>{s.d(t,{F:()=>a,Ti:()=>r});var i=s(30015);const r=-3,o=r-1;var n,l;(l=n||(n={}))[l.ALL=0]="ALL",l[l.SOME=1]="SOME";class a{get size(){return this._size}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.A,this._users=new i.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){const s=this._db.get(e.id+t);return s?.size??0}put(e,t,s,i,l){t=e.id+t;const a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==s&&this._notifyRemove(t,a.entry,a.size,n.ALL)),i>this._maxSize)return void this._notifyRemove(t,s,i,n.ALL);if(void 0===s)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return console.warn(`Refusing to cache entry with size ${i} for key ${t}`),void this._notifyRemove(t,s,0,n.ALL);const u=1+Math.max(l,o)-r;this._db.set(t,new h(s,i,u)),this._size+=i,e.size+=i,this._checkSize()}updateSize(e,t,s,i){t=e.id+t;const r=this._db.get(t);if(r&&r.entry===s){for(this._size-=r.size,e.size-=r.size;i>this._maxSize;){const e=this._notifyRemove(t,s,i,n.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);i=e}r.size=i,this._size+=i,e.size+=i,this._checkSize()}}pop(e,t){t=e.id+t;const s=this._db.get(t);if(s)return this._size-=s.size,e.size-=s.size,this._db.delete(t),++this._hit,s.entry;++this._miss}get(e,t){t=e.id+t;const s=this._db.get(t);if(void 0!==s)return this._db.delete(t),s.lives=s.lifetime,this._db.set(t,s),++this._hit,s.entry;++this._miss}peek(e,t){const s=this._db.get(e.id+t);return s?++this._hit:++this._miss,s?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},s=new Array;this._db.forEach(((e,i)=>{const r=e.lifetime;s[r]=(s[r]||0)+e.size,this._users.forAll((s=>{const{id:r,name:o}=s;if(i.startsWith(r)){const s=t[o]||0;t[o]=s+e.size}}))}));const i={};this._users.forAll((e=>{const s=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const r=t[s]||0;t[s]=r,i[s]=Math.round(100*e.hitRate)+"%"}else i[s]="0%"}));const o=Object.keys(t);o.sort(((e,s)=>t[s]-t[e])),o.forEach((s=>e[s]=Math.round(t[s]/2**20)+"MB / "+i[s]));for(let n=s.length-1;n>=0;--n){const t=s[n];t&&(e["Priority "+(n+r-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemove(s,e.entry,e.size,n.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,n.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,s,i){let r;return this._removeFuncs.some((o=>{if(e.startsWith(o[0])){const e=o[1](t,i,s);return"number"==typeof e&&(r=e),!0}return!1})),r}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const s=e?.id;let i=!0;for(;i;){i=!1;for(const[r,o]of this._db)if(0===o.lifetime&&(!s||r.startsWith(s))){if(this._purgeItem(r,o,e),t.size<=.9*t.maxSize)return;i||=this._db.has(r)}}for(const[r,o]of this._db)if((!s||r.startsWith(s))&&(this._purgeItem(r,o,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((t=>e.startsWith(t.id)));if(this._db.delete(e),t.lives<=1){this._size-=t.size,s&&(s.size-=t.size);const i=this._notifyRemove(e,t.entry,t.size,n.SOME);null!=i&&i>0&&(this._size+=i,s&&(s.size+=i),t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class h{constructor(e,t,s){this.entry=e,this.size=t,this.lifetime=s,this.lives=s}}},86616:(e,t,s)=>{s.d(t,{L:()=>a,r:()=>n});var i=s(62754),r=s(7982),o=s(49176);function n(e,t){return a(e,null,t)}const l=(0,r.C)({types:o.Hg});function a(e,t,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(s?.messages&&s.messages.push(new i.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):l(e,t,s):null}}}]);
//# sourceMappingURL=78628.488276d8.chunk.js.map