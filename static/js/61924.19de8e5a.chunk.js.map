{"version":3,"file":"static/js/61924.19de8e5a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{round as l,numDigits as t,percentChange as n}from\"../../../renderers/support/numberUtils.js\";import{updateReferenceSizeSymbol as o}from\"../../../smartMapping/renderers/support/referenceSizeUtils.js\";import s from\"../../../symbols/SimpleLineSymbol.js\";import i from\"../../../symbols/SimpleMarkerSymbol.js\";import{applyCIMSymbolColor as r}from\"../../../symbols/support/cimSymbolUtils.js\";import{isSymbol3D as a}from\"../../../symbols/support/typeUtils.js\";import{isVolumetricSymbol as u,getSymbolOutlineSize as c}from\"../../../symbols/support/utils.js\";import{getReferenceSizeAuthoringInfoVisualVariable as m,getSymbolForFlowRenderer as p,createStopLabel as f}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as y}from\"../../../support/themeUtils.js\";const b=30,h=12,d=24,w=[255,255,255],S=[200,200,200],g=[128,128,128],v=20,z=5;function j(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function k(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function V(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function x(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function U(e,l){const t=e.length-1;return e.map(((e,n)=>f(e,n,t,l)))}async function I(e,t,n,o,s,i,r){const a=t.legendOptions,p=a?.customValues,f=r||await D(e,n),y=t.stops,b=!!f,h=!!p,w=null!=t.minSize&&null!=t.maxSize,S=y&&y.length>1,g=!!t.target;if(!b||!h&&!(w||S&&!g))return;const v=u(f);let z=!1,j=null,k=null;j=v&&!S?l([t.minDataValue,t.maxDataValue]):p??await T(t,f,o,s?.type);const V=e?.authoringInfo,x=\"univariate-color-size\"===V?.type,I=x&&\"above-and-below\"===V?.univariateTheme,q=!!m(e);if(!j&&S&&(j=y.map((e=>e.value)),z=y.some((e=>!!e.label)),\"flow\"===e.type&&(j=l(j)),z&&(k=y.map((e=>e.label)))),v&&null!=j&&j?.length>2&&!I&&(j=[j[0],j[j.length-1]]),!j)return null;x&&5!==j?.length&&(j=P({minSize:j[0],maxSize:j[j.length-1]}));const B=v?L(e,j):null,E=c(f),R=z?null:U(j,i);return(await Promise.all(j.map((async(l,i)=>{const r=v?B[i]:await H(t,f,l,o,s?.type);return{value:l,symbol:!q||\"class-breaks\"!==e.type&&\"unique-value\"!==e.type?O(I&&\"class-breaks\"===e.type?C(e,i):f,r):M(e,r,t.maxSize,n)??f,label:z?k[i]:R[i],size:q?d:r,outlineSize:E}})))).reverse()}function L(e,l){const t=e?.authoringInfo,n=\"univariate-color-size\"===t?.type;let o=[h,b];if(n){const e=l[0],t=l[l.length-1],n=h,s=b;o=l.map((l=>n+(l-e)/(t-e)*(s-n)))}return n&&\"below\"===t?.univariateTheme&&o.reverse(),o}function M(l,t,n,s){const i=\"class-breaks\"===l.type,r=i?l.classBreakInfos?.[0]?.symbol?.clone():l.uniqueValueInfos?.[0]?.symbol?.clone();return r&&\"type\"in r&&\"cim\"===r.type?(o(r,{color:s??(i?null:new e(S)),innerDotSize:t*(d/n)||1,outerRingSize:d}),r):null}function C(e,l){const t=e.classBreakInfos,n=t.length,o=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone(),s=e.visualVariables?.some((e=>\"color\"===e.type));return s&&(o.type.includes(\"3d\")?B(o):E(o)),o}async function D(e,l){if(\"flow\"===e.type)return p(e,l);if(\"pie-chart\"===e.type)return new i({color:null,outline:e.outline?.width?e.outline:new s});let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l?.[0]?.symbol,n=null!=l&&l.length>1}return!t||q(t)?null:(t=t.clone(),(l||n)&&(t.type.includes(\"3d\")?B(t):E(t)),t)}function q(e){return a(e)?e.symbolLayers?.some((e=>\"fill\"===e?.type))??!1:e?.type.includes(\"fill\")??!1}function B(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:g}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource?.href?e.material={color:S}:(e.material={color:w},e.outline={color:g,size:1.5})}))}function E(l){const t=y();if(\"cim\"===l.type)r(l,new e(S));else if(l.type.includes(\"line\"))l.color=g;else if(l.color=t?g:w,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=g)}else l.outline={color:g,width:1.5}}async function T(e,t,n,o){const s=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,o),i=s&&P(s);if(!s||!i)return;let r=i.map((l=>R(l,e,s)));r=l(r);for(let l=1;l<r.length-1;l++){const s=await A(e,t,r[l],r[l-1],n,o);s&&(r[l]=s[0],i[l]=s[1])}return r}function P(e){const l=e.minSize,t=e.maxSize,n=z,o=(t-l)/(n-1),s=[];for(let i=0;i<n;i++)s.push(l+o*i);return s}function R(e,l,t){const n=t.minSize,o=t.maxSize,s=l.minDataValue,i=l.maxDataValue;let r;if(e<=n)r=s;else if(e>=o)r=i;else{r=(e-n)/(o-n)*(i-s)+s}return r}async function A(e,o,s,i,r,a){const u=await H(e,o,s,r,a),c=await H(e,o,i,r,a),m=t(s),p=m.fractional,f=v;let y=m.integer,b=null,h=null;s>0&&s<1&&(b=10**p,y=t(s*=b).integer);for(let t=y-1;t>=0;t--){const i=10**t;let m=Math.floor(s/i)*i,p=Math.ceil(s/i)*i;null!=b&&(m/=b,p/=b);let y=(m+p)/2;[,y]=l([m,y,p],{indexes:[1]});const d=await H(e,o,m,r,a),w=await H(e,o,p,r,a),S=await H(e,o,y,r,a),g=n(u,d,c,null),v=n(u,w,c,null),z=n(u,S,c,null);let j=g.previous<=f,k=v.previous<=f;if(j&&k&&(g.previous<=v.previous?(j=!0,k=!1):(k=!0,j=!1)),j?h=[m,d]:k?h=[p,w]:z.previous<=f&&(h=[y,S]),h)break}return h}async function H(e,l,t,n,o){const{getSize:s}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return s(e,t,{scale:n,view:o,shape:\"simple-marker\"===l.type?l.style:null})}function O(e,l){const t=e.clone();if(a(t))u(t)||t.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=l)}));else if(j(t))t.size=l;else if(k(t)){const e=t.width,n=t.height;t.height=l,t.width=l*(e/n)}else V(t)?t.width=l:x(t)&&t.font&&(t.font.size=l);return t}export{I as getRampStops,M as getReferenceSizeSymbol,b as realWorldMaxSize,h as realWorldMinSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{clone as r}from\"../../../core/lang.js\";import n from\"../../../renderers/visualVariables/support/SizeStop.js\";import t from\"../../../symbols/CIMSymbol.js\";import{PlacementPolygonCenterMethod as i}from\"../../../symbols/cim/enums.js\";var a;function o(r){if(null!=r.minDataValue&&null!=r.maxDataValue&&null!=r.minSize&&null!=r.maxSize&&\"number\"==typeof r.minSize&&\"number\"==typeof r.maxSize)return[new n({value:r.minDataValue,size:r.minSize}),new n({value:r.maxDataValue,size:r.maxSize})];throw new e(\"create-reference-size-symbol\",\"Invalid size variable\")}function l(e){const{view:r,field:n,normalizationField:t,sizeStops:i,sizeByScaleEnabled:o}=e,{value:l,size:s}=i[0],{value:m,size:c}=i[1];let u,y=0;n&&(y=`$feature[\"${n}\"]`,u=`\\n      if(!HasValue($feature, \"${n}\")){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n    `),t&&(y=`$feature[\"${n}\"] / $feature[\"${t}\"]`,u=`if(!HasValue($feature, \"${n}\") || !HasValue($feature, \"${t}\") || $feature[\"${t}\"] <= 0){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n      $feature[\"${t}\"];`);const p={type:\"CIMExpressionInfo\",title:\"Size in pixels of outer ring\",expression:o?`\\n      ${u}\\n      var maxSize = ${c};\\n      var referenceScale = ${r.scale};\\n      return (maxSize * (referenceScale / $view.scale));\\n    `:`${u}\\n      return ${c}`,returnType:\"Default\"},f={type:\"CIMExpressionInfo\",title:\"Size in pixels of inner ring\",expression:`\\n        ${u}\\n        var value = ${y};\\n\\n        var referenceScale = ${r.scale};\\n        var referenceScaleRatio = ${o?\"(referenceScale / $view.scale)\":1};\\n        var maxSize = ${c} * referenceScaleRatio;\\n        var minSize = ${s} * referenceScaleRatio;\\n\\n        var minDataValue = ${l};\\n        var maxDataValue = ${m};\\n\\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\\n\\n        var innerDotSize = Constrain(maxSize * ratio, minSize, maxSize);\\n        return innerDotSize;\\n      `,returnType:\"Default\"};return[{type:\"CIMPrimitiveOverride\",primitiveName:a.OuterRing,propertyName:\"Size\",valueExpressionInfo:p},{type:\"CIMPrimitiveOverride\",primitiveName:a.InnerDot,propertyName:\"Size\",valueExpressionInfo:f}]}function s(e){switch(e){case\"circle\":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case\"square\":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case\"diamond\":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case\"hexagon-pointy\":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case\"hexagon-flat\":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function m(e){const{type:r,color:n,colorLocked:t}=e;return{type:\"CIMVectorMarker\",enable:!0,colorLocked:!1,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:a.OuterRing,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:n.toArray(),colorLocked:!!t,effects:[{type:\"CIMGeometricEffectDonut\",width:.75}]}]}}],scaleSymbolsProportionally:!1,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:i.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:20}}function c(e){const{type:r,color:n}=e;return{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:a.InnerDot,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:s(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:n.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:i.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:10}}function u(e){const{primitiveOverrides:r}=e;return new t({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[m(e),c(e)]},primitiveOverrides:r}})}function y(e){return\"CIMVectorMarker\"===e?.type?e.markerGraphics?.[0]:void 0}function p(e){return\"CIMPolygonSymbol\"===e?.symbol?.type?e.symbol.symbolLayers?.[0]:void 0}function f(e,r){\"CIMVectorMarker\"===e?.type&&null!=r&&(e.size=r)}function v(e,r){const n=y(e);n&&null!=r&&(n.geometry=s(r))}function S(e,r){const n=p(y(e));n&&null!=r&&(n.color=r.toArray())}function z(e,r,n){const t=p(y(e));t&&null!=r&&n&&(t.colorLocked=r)}function d(e,n){const{outerRingSize:t,innerDotSize:i,type:o,color:l,colorLocked:s,primitiveOverrides:m}=n,c=\"CIMPolygonSymbol\"===e.data.symbol?.type?e.data.symbol.symbolLayers:null;if(2===c?.length)for(const r of c){const e=r.primitiveName===a.OuterRing;f(r,e?t:i),v(r,o),S(r,l),z(r,s,e)}return null!=t&&null!=i&&(e.data.primitiveOverrides=null),void 0!==m&&(e.data.primitiveOverrides=r(m)),e}!function(e){e.OuterRing=\"reference-size-outer-ring\",e.InnerDot=\"reference-size-inner-dot\"}(a||(a={}));export{l as createPrimitiveOverrides,u as createReferenceSizeSymbol,o as getReferenceSizeStops,d as updateReferenceSizeSymbol};\n"],"names":["b","h","d","w","S","g","v","z","async","I","e","t","n","o","s","i","r","a","legendOptions","p","customValues","f","D","y","stops","minSize","maxSize","length","target","u","j","k","l","minDataValue","maxDataValue","T","type","V","authoringInfo","x","univariateTheme","q","m","map","value","some","label","P","B","L","E","c","R","U","Promise","all","H","symbol","O","C","M","size","outlineSize","reverse","classBreakInfos","clone","uniqueValueInfos","color","innerDotSize","outerRingSize","visualVariables","includes","outline","width","symbolLayers","forEach","material","resource","href","toHex","getSizeRangeAtScale","A","push","fractional","integer","Math","floor","ceil","indexes","previous","getSize","scale","view","shape","style","declaredClass","height","font","rings","markerGraphics","geometry","toArray","colorLocked","primitiveOverrides","data","primitiveName","OuterRing","InnerDot"],"sourceRoot":""}