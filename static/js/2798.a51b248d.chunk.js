"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[2798],{11270:(e,t,i)=>{i.d(t,{q:()=>w});var r=i(35143),n=i(50076),s=i(90534),a=i(46053),o=i(40565),l=(i(81806),i(47249),i(28379)),p=i(85842),y=i(17707),u=i(80979),c=i(6527),d=i(29584);const m={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},S={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},g={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},h={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":m,"web-map/basemap":S,"web-map/tables":g,"link-chart/operational-layers":{...m,LinkChartLayer:!0},"link-chart/basemap":S,"link-chart/tables":g,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var L=i(95363),b=i(59187);const w=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,i){return"Group Layer"===i?.portalItem?.type?void 0:e}writeListMode(e,t,i,r){(r&&"ground"===r.layerContainerType||e&&(0,d.R)(this,i,{},r))&&(t[i]=e)}writeOperationalLayerType(e,t,i){e&&(t[i]=e)}writeTitle(e,t){t.title=e??"Layer"}readVisibilityTimeExtent(e){return e?b.A.fromArray(e):null}writeVisibilityTimeExtent(e,t,i,r){e&&"tables"!==r.layerContainerType&&(e.isEmpty?r?.messages&&r.messages.push(new n.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[i]=e.toArray())}read(e,t){t&&(t.layer=this),(0,c.t)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,i=h[e];let r=!!i?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(r=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(r=!1),!r)return t.messages?.push(new n.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const i=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof n.A&&"web-document-write:property-required"===e.name)).length;return(0,s.w8)(i?.url)?(t?.messages?.push(new n.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:i}beforeSave(){}};return(0,r._)([(0,a.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,r._)([(0,l.w)("id",["id"])],t.prototype,"readId",null),(0,r._)([(0,a.MZ)(L.C1)],t.prototype,"listMode",void 0),(0,r._)([(0,y.K)("listMode")],t.prototype,"writeListMode",null),(0,r._)([(0,a.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:u.K,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),(0,r._)([(0,y.K)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,r._)([(0,a.MZ)(L.ke)],t.prototype,"opacity",void 0),(0,r._)([(0,a.MZ)({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,r._)([(0,y.K)("title"),(0,y.K)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,r._)([(0,a.MZ)({type:b.A,json:{origins:{"web-scene":{write:{layerContainerTypes:u.K}}}}})],t.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,l.w)("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),(0,r._)([(0,y.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[o.jz,o.Uv]]}})],t.prototype,"writeVisibilityTimeExtent",null),(0,r._)([(0,a.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:u.K}}})],t.prototype,"visible",void 0),t=(0,r._)([(0,p.$)("esri.layers.mixins.OperationalLayer")],t),t}},72798:(e,t,i)=>{i.r(t),i.d(t,{default:()=>R});var r=i(35143),n=i(95085),s=i(69539),a=i(69098),o=i(42553),l=i(76931),p=i(46053),y=i(40565),u=(i(81806),i(47249),i(85842));let c=class extends(o.A.JSONSupportMixin(a.A)){constructor(e){super(e),this.type="simple",this.color=new s.A("black"),this.lineSize=2,this.fontSize=10,this.textColor=new s.A("black"),this.textBackgroundColor=new s.A([255,255,255,.6])}};(0,r._)([(0,p.MZ)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,r._)([(0,p.MZ)({type:s.A,nonNullable:!0,json:{type:[y.jz],write:{isRequired:!0}}})],c.prototype,"color",void 0),(0,r._)([(0,p.MZ)({type:Number,cast:l.cr,nonNullable:!0,range:{min:(0,l.PN)(1)},json:{write:{isRequired:!0}}})],c.prototype,"lineSize",void 0),(0,r._)([(0,p.MZ)({type:Number,cast:l.cr,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,"fontSize",void 0),(0,r._)([(0,p.MZ)({type:s.A,nonNullable:!0,json:{type:[y.jz],write:{isRequired:!0}}})],c.prototype,"textColor",void 0),(0,r._)([(0,p.MZ)({type:s.A,nonNullable:!0,json:{type:[y.jz],write:{isRequired:!0}}})],c.prototype,"textBackgroundColor",void 0),c=(0,r._)([(0,u.$)("esri.analysis.DimensionSimpleStyle")],c);const d=c;var m;!function(e){e.Horizontal="horizontal",e.Vertical="vertical",e.Direct="direct"}(m||(m={}));const S=[m.Horizontal,m.Vertical,m.Direct];var g=i(73582),h=i(21403),L=i(19247);let b=class extends(o.A.JSONSupportMixin(a.A)){constructor(e){super(e),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=m.Direct,this.offset=0,this.orientation=0}};(0,r._)([(0,p.MZ)({type:["length"],json:{write:{isRequired:!0}}})],b.prototype,"type",void 0),(0,r._)([(0,p.MZ)({type:L.A,json:{write:{isRequired:!0}}})],b.prototype,"startPoint",void 0),(0,r._)([(0,p.MZ)({type:L.A,json:{write:{isRequired:!0}}})],b.prototype,"endPoint",void 0),(0,r._)([(0,p.MZ)({type:S,nonNullable:!0,json:{write:{isRequired:!0}}})],b.prototype,"measureType",void 0),(0,r._)([(0,p.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],b.prototype,"offset",void 0),(0,r._)([(0,p.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,h.w)((e=>g.ie.normalize((0,y.GB)(e),0,!0)))],b.prototype,"orientation",void 0),b=(0,r._)([(0,u.$)("esri.analysis.LengthDimension")],b);const w=b;var v=i(94643),M=i(3975),A=i(68134),I=(i(76460),i(76797)),_=i(9624);const T=v.A.ofType(w);let G=class extends n.A{constructor(e){super(e),this.type="dimension",this.style=new d,this.extent=null}initialize(){this.addHandles((0,A.wB)((()=>this._computeExtent()),(e=>{null==e?.pending&&this._set("extent",null!=e?e.extent:null)}),A.pc))}get dimensions(){return this._get("dimensions")||new T}set dimensions(e){this._set("dimensions",(0,M.V)(e,this.dimensions,T))}get spatialReference(){for(const e of this.dimensions){if(null!=e.startPoint)return e.startPoint.spatialReference;if(null!=e.endPoint)return e.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce(((e,t)=>(e.push(t.startPoint,t.endPoint),e)),[])}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==e)return{pending:null,extent:null};const t=[];for(const n of this.dimensions)null!=n.startPoint&&t.push(n.startPoint),null!=n.endPoint&&t.push(n.endPoint);const i=(0,_.projectOrLoadMany)(t,e);if(null!=i.pending)return{pending:i.pending,extent:null};let r=null;return null!=i.geometries&&(r=i.geometries.reduce(((e,t)=>null==e?null!=t?I.A.fromPoint(t):null:null!=t?e.union(I.A.fromPoint(t)):e),null)),{pending:null,extent:r}}clear(){this.dimensions.removeAll()}};(0,r._)([(0,p.MZ)({type:["dimension"]})],G.prototype,"type",void 0),(0,r._)([(0,p.MZ)({cast:M.H,type:T,nonNullable:!0})],G.prototype,"dimensions",null),(0,r._)([(0,p.MZ)({readOnly:!0})],G.prototype,"spatialReference",null),(0,r._)([(0,p.MZ)({types:{key:"type",base:null,typeMap:{simple:d}},nonNullable:!0})],G.prototype,"style",void 0),(0,r._)([(0,p.MZ)({value:null,readOnly:!0})],G.prototype,"extent",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],G.prototype,"requiredPropertiesForEditing",null),G=(0,r._)([(0,u.$)("esri.analysis.DimensionAnalysis")],G);const f=G;var x=i(77717),O=i(17707),Z=i(25515),E=i(11270);let C=class extends((0,E.q)((0,x.P)(Z.A))){constructor(e){if(super(e),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new f,this.opacity=1,e){const{source:t,style:i}=e;t&&i&&(t.style=i)}}initialize(){this.addHandles([(0,A.wB)((()=>this.source),((e,t)=>{null!=t&&t.parent===this&&(t.parent=null),null!=e&&(e.parent=this)}),A.pc)])}async load(){return this.addResolvingPromise(this.source.waitComputeExtent()),this}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(e){this.source.style=e}get fullExtent(){return this.source.extent}releaseAnalysis(e){this.source===e&&(this.source=new f)}get analysis(){return this.source}set analysis(e){this.source=e}get dimensions(){return this.source.dimensions}set dimensions(e){this.source.dimensions=e}writeDimensions(e,t,i,r){t.dimensions=e.filter((e=>{let{startPoint:t,endPoint:i}=e;return null!=t&&null!=i})).map((e=>e.toJSON(r))).toJSON()}};(0,r._)([(0,p.MZ)({json:{read:!1},readOnly:!0})],C.prototype,"type",void 0),(0,r._)([(0,p.MZ)({type:["ArcGISDimensionLayer"]})],C.prototype,"operationalLayerType",void 0),(0,r._)([(0,p.MZ)({nonNullable:!0})],C.prototype,"source",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],C.prototype,"spatialReference",null),(0,r._)([(0,p.MZ)({types:{key:"type",base:null,typeMap:{simple:d}},json:{write:{ignoreOrigin:!0}}})],C.prototype,"style",null),(0,r._)([(0,p.MZ)({readOnly:!0})],C.prototype,"fullExtent",null),(0,r._)([(0,p.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],C.prototype,"opacity",void 0),(0,r._)([(0,p.MZ)({type:["show","hide"]})],C.prototype,"listMode",void 0),(0,r._)([(0,p.MZ)({type:v.A.ofType(w),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],C.prototype,"dimensions",null),(0,r._)([(0,O.K)("web-scene","dimensions")],C.prototype,"writeDimensions",null),C=(0,r._)([(0,u.$)("esri.layers.DimensionLayer")],C);const R=C},95085:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(35143),n=i(91967),s=i(18690),a=i(69098),o=i(5632),l=i(42553),p=i(46053),y=(i(81806),i(76460),i(85842));let u=0,c=class extends(l.A.JSONSupportMixin(a.A.ClonableMixin(o.A.IdentifiableMixin(n.A)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${u++}`,this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":case"viewshed":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(s.Ru)}};(0,r._)([(0,p.MZ)({type:String,constructOnly:!0,clonable:!1})],c.prototype,"id",void 0),(0,r._)([(0,p.MZ)({type:String})],c.prototype,"title",void 0),(0,r._)([(0,p.MZ)({clonable:!1,value:null})],c.prototype,"parent",null),(0,r._)([(0,p.MZ)({readOnly:!0})],c.prototype,"isEditable",null),c=(0,r._)([(0,y.$)("esri.analysis.Analysis")],c);const d=c}}]);
//# sourceMappingURL=2798.a51b248d.chunk.js.map