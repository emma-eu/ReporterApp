"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[47646],{20459:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(76099);function o(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:s(e[t])}}}function s(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];!function(e){const t=e?.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...o):(0,i.OU)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},47646:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(35143),o=n(68134),s=n(46053),l=(n(81806),n(76460),n(47249),n(85842)),a=n(25329),r=n(91967);let d=class extends r.A{constructor(e){super(e),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles((0,o.on)((()=>this.view?.ui),"expand",(e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()})))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){const t=!!e;this._set("expanded",t);const n=this.view?.ui;n&&n.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){return this.view?.ready?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&(0,o.z7)((()=>e.ready),(()=>{this.view===e&&this._watchViewpoint()}),{once:!0,initial:!0}))}_viewpointHandleChange(e){this._viewpointHandle&&(e?(0,o.z7)((()=>this.view?.stationary),(()=>this._viewpointHandle?.resume()),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this.removeHandles(e),this._viewpointHandle=null;const{autoCollapse:t,view:n}=this;if(!n||!t)return;const i=(0,o.C1)((()=>"3d"===n.type?n.camera:n.viewpoint),(()=>this._collapse()));this.addHandles(i,e),this._viewpointHandle=i}_collapse(){this.expanded=!1}};(0,i._)([(0,s.MZ)({value:!1})],d.prototype,"autoCollapse",null),(0,i._)([(0,s.MZ)({value:!1})],d.prototype,"expanded",null),(0,i._)([(0,s.MZ)()],d.prototype,"group",void 0),(0,i._)([(0,s.MZ)({readOnly:!0})],d.prototype,"state",null),(0,i._)([(0,s.MZ)({value:null})],d.prototype,"view",null),d=(0,i._)([(0,l.$)("esri.widgets.Expand.ExpandViewModel")],d);const p=d;var c=n(94126),h=n(98108),u=n(95752),_=n(54761),g=n(63582);const v="esri-expand",w={base:v,toggle:`${v}__toggle`,popoverContent:`${v}__popover-content`,panel:`${v}__panel`,panelContent:`${v}__panel-content`,sheet:`${v}__sheet`,panelIconNumber:`${v}__panel-icon-number`,contentContainer:`${v}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${v}__icon--expanded`,iconNumber:`${v}__icon-number`,content:`${v}__content`,contentExpanded:`${v}__content--expanded`},m="chevrons-left",y="chevrons-right";let b=class extends a.A{constructor(e,t){super(e,t),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new p,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=e=>{e.target===this._popoverEl&&(this.viewModel.expanded=e.currentTarget.open)},this._handleSheetClose=e=>{this.viewModel.expanded=e.currentTarget.open},this._handlePanelClose=e=>{this.viewModel.expanded=!e.currentTarget.closed},this._handleKeyDown=e=>{this.viewModel.expanded&&"Escape"===e.key&&!this._willCloseOnEsc(e)&&e.preventDefault()},this._storeToggleActionEl=e=>{this._toggleActionEl=e},this._storePopoverEl=e=>{this._popoverEl=e}}initialize(){this.addHandles((0,o.wB)((()=>this.viewModel?.view?.size),(()=>this._popoverEl?.reposition()),o.Vh))}loadDependencies(){return(0,c.W)({action:()=>Promise.all([n.e(49408),n.e(85375)]).then(n.bind(n,85375)),icon:()=>n.e(16702).then(n.bind(n,16702)),panel:()=>Promise.all([n.e(49408),n.e(65251),n.e(85375),n.e(67696),n.e(3671),n.e(32647)]).then(n.bind(n,32647)),popover:()=>Promise.all([n.e(49408),n.e(65251),n.e(85375),n.e(67696),n.e(51866)]).then(n.bind(n,51866)),sheet:()=>Promise.all([n.e(67696),n.e(22064),n.e(67272)]).then(n.bind(n,67272))})}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:n,expandTooltip:i}=this;return(e?n||t?.collapse:i||t?.expand)??""}get _displaySheet(){switch(this.mode){case"drawer":return!0;case"auto":return"xsmall"===this.viewModel.view?.widthBreakpoint;default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIcon(){return y}set collapseIcon(e){this._overrideIfSome("collapseIcon",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIcon(){return(0,u.p4)(this.content)?this.content.icon:m}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get icon(){return null}get label(){return((0,u.p4)(this.content)?this.content.label:null)??this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:e,_toggleActionEl:t,viewModel:{expanded:n},label:i,placement:o}=this;return(0,_.K)("div",{class:this.classes(w.base,h.D.widget)},this._renderToggle(),e?(0,_.K)("calcite-sheet",{class:w.sheet,heightScale:"l",label:i,onkeydown:this._handleKeyDown,open:n,position:"block-end",onCalciteSheetClose:this._handleSheetClose},(0,_.K)("calcite-panel",{class:w.panel,closable:!0,closed:!n,heading:i,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},(0,_.K)("div",{class:w.panelContent},this._renderContent()))):t?(0,_.K)("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:i,onkeydown:this._handleKeyDown,open:n,overlayPositioning:"fixed",placement:o??this._getPlacement(),referenceElement:t,onCalcitePopoverClose:this._handlePopoverClose},(0,_.K)("div",{class:w.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:e,view:t}=this,n=e&&t?t.ui.getPosition(e):null;if(!n||"manual"===n)return"auto";const[i,o]=n.split("-");return`${"right"===o?"left":"right"}-${"bottom"===i?"end":"start"}`}_willCloseOnEsc(e){const{closeOnEsc:t}=this;return"function"==typeof t?t(e):t}_renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?(0,_.K)("span",{class:w.iconNumber,key:"expand__icon-number"},t):null}_renderToggleButton(){const{expanded:e,expandTitle:t,expandIcon:n,collapseIcon:i}=this,o=e?i:n,s=o===m||o===y;return(0,_.K)("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:h.D.widgetButton,onclick:this.toggle,scale:"s",text:t,title:t},o?(0,_.K)("calcite-icon",{class:this.classes(w.icon,s&&w.iconFlip),icon:o,scale:"s"}):null)}_renderToggle(){return(0,_.K)("div",{class:w.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:e}=this;return"string"==typeof e?(0,_.K)("div",{class:w.contentContainer,innerHTML:e,key:"content__string"}):(0,u.p4)(e)?(0,_.K)("div",{class:w.contentContainer,key:"content__widget"},e.render()):e instanceof HTMLElement?(0,_.K)("div",{afterCreate:this._attachToNode,bind:e,class:w.contentContainer,key:"content__html-element"}):(0,u.xk)(e)?(0,_.K)("div",{afterCreate:this._attachToNode,bind:e.domNode,class:w.contentContainer,key:"content__node"}):null}_attachToNode(e){e.appendChild(this)}};(0,i._)([(0,s.MZ)({readOnly:!0})],b.prototype,"expandTitle",null),(0,i._)([(0,s.MZ)()],b.prototype,"_toggleActionEl",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"_displaySheet",null),(0,i._)([(0,s.MZ)()],b.prototype,"autoCollapse",null),(0,i._)([(0,s.MZ)()],b.prototype,"closeOnEsc",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"collapseIcon",null),(0,i._)([(0,s.MZ)()],b.prototype,"collapseTooltip",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"content",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"expanded",null),(0,i._)([(0,s.MZ)()],b.prototype,"expandIcon",null),(0,i._)([(0,s.MZ)()],b.prototype,"expandTooltip",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"focusTrapDisabled",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"group",null),(0,i._)([(0,s.MZ)()],b.prototype,"icon",null),(0,i._)([(0,s.MZ)()],b.prototype,"iconNumber",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"label",null),(0,i._)([(0,s.MZ)(),(0,g.G)("esri/widgets/Expand/t9n/Expand")],b.prototype,"messages",void 0),(0,i._)([(0,s.MZ)(),(0,g.G)("esri/t9n/common")],b.prototype,"messagesCommon",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"mode",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"placement",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"view",null),(0,i._)([(0,s.MZ)({type:p})],b.prototype,"viewModel",void 0),b=(0,i._)([(0,l.$)("esri.widgets.Expand")],b);const x=b},95752:(e,t,n)=>{n.d(t,{p4:()=>i,xk:()=>o});n(20459),n(54761),n(76099);function i(e){return e&&"function"==typeof e.render}function o(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},98108:(e,t,n)=>{n.d(t,{D:()=>i});const i={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}}}]);
//# sourceMappingURL=47646.6399dda5.chunk.js.map