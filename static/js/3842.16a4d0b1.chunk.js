"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[3842,5515],{5682:(t,e,r)=>{r.d(e,{j:()=>i});var n=r(35143),o=r(46053),s=(r(81806),r(76460),r(47249),r(85842));const i=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const t={minScale:this.minScale,maxScale:this.maxScale},e=this.parent;e&&"effectiveScaleRange"in e&&function(t,e){t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale}(t,e.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===t.minScale&&r.maxScale===t.maxScale?r:t}};return(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=(0,n._)([(0,s.$)("esri.layers.mixins.ScaleRangeLayer")],e),e}},19463:(t,e,r)=>{r.d(e,{CW:()=>y,Fm:()=>l,Hz:()=>h,JQ:()=>d,JZ:()=>_,ND:()=>f,R_:()=>i,U9:()=>c,fu:()=>o,nr:()=>m,oF:()=>s,rq:()=>u,z$:()=>p});const n=[["binary","application/octet-stream","bin",""]];function o(t,e){return null!=v(e.name,t?.supportedFormats??[])}function s(t,e){if(!t)return!1;const r=u(e,t.supportedFormats??[]);return null!=r&&t.editFormats.includes(r)}function i(t,e){return g(function(t,e){const r=t.toLowerCase();return M(e).find((t=>b(t)===r))}(t,e))}function a(t,e){return g(v(t,e))}function l(t,e){return b(function(t,e){return M(e).find((e=>g(e)===t))}(t,e))}function u(t,e){return a(t.name,e)??i(t.type,e)}function p(t,e,r){return i(t,r)??a(e,r)}function c(t){let{supportedFormats:e}=t;return p("model/gltf-binary","glb",e)}function d(t){const e=c(t);return null!=e&&t.editFormats.includes(e)}function y(t){let{supportedFormats:e}=t;return p("model/gltf+json","gltf",e)}function h(t){if(!t)return null;const e=c(t),r=y(t);let n=null;for(const o of t.queryFormats){if(o===e)return o;o===r&&(n=o)}return n}function m(t){let{supportedFormats:e}=t;return p("application/esri3do-SR_world","wld",e)}function f(t){let{supportedFormats:e}=t;return p("application/esri3do-SR_prj","prj",e)}function M(t){return[...n,...t]}function v(t,e){const r=t.toLowerCase();return M(e).find((t=>S(t).some((t=>r.endsWith(t)))))}function g(t){return t?.[0]}function b(t){return t?.[1].toLowerCase()}function S(t){return t?.[2].split(",").map((t=>t.toLowerCase()))??[]}function _(t){return t.tables?.find((t=>"assetMaps"===t.role))}},20664:(t,e,r)=>{r.d(e,{A:()=>h,B:()=>y,C:()=>p,D:()=>m,E:()=>c,F:()=>f,G:()=>j,H:()=>z,I:()=>B,L:()=>E,a:()=>Q,b:()=>v,c:()=>i,d:()=>u,e:()=>T,f:()=>A,g:()=>l,h:()=>M,i:()=>a,j:()=>g,k:()=>S,l:()=>s,m:()=>C,n:()=>x,o:()=>q,p:()=>I,q:()=>O,r:()=>P,s:()=>b,t:()=>Z,u:()=>w,v:()=>_,w:()=>F,x:()=>d,y:()=>N,z:()=>k});var n=r(9392),o=r(53494);function s(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function l(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function p(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function c(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function d(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function y(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function h(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function m(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t[0]=Math.min(Math.max(t[0],e),r),t[1]=Math.min(Math.max(t[1],e),r),t[2]=Math.min(Math.max(t[2],e),r),t}function M(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function v(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function g(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function b(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function S(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function w(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function x(t,e){const r=e[0],n=e[1],o=e[2];let s=r*r+n*n+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,r){const n=e[0],o=e[1],s=e[2],i=r[0],a=r[1],l=r[2];return t[0]=o*l-s*a,t[1]=s*i-n*l,t[2]=n*a-o*i,t}function C(t,e,r,n){const o=e[0],s=e[1],i=e[2];return t[0]=o+n*(r[0]-o),t[1]=s+n*(r[1]-s),t[2]=i+n*(r[2]-i),t}function Z(t,e,r){const n=e[0],o=e[1],s=e[2];return t[0]=r[0]*n+r[4]*o+r[8]*s+r[12],t[1]=r[1]*n+r[5]*o+r[9]*s+r[13],t[2]=r[2]*n+r[6]*o+r[10]*s+r[14],t}function O(t,e,r){const n=e[0],o=e[1],s=e[2];return t[0]=n*r[0]+o*r[3]+s*r[6],t[1]=n*r[1]+o*r[4]+s*r[7],t[2]=n*r[2]+o*r[5]+s*r[8],t}function F(t,e,r){const n=r[0],o=r[1],s=r[2],i=r[3],a=e[0],l=e[1],u=e[2],p=o*u-s*l,c=s*a-n*u,d=n*l-o*a,y=o*d-s*c,h=s*p-n*d,m=n*c-o*p,f=2*i;return t[0]=a+p*f+2*y,t[1]=l+c*f+2*h,t[2]=u+d*f+2*m,t}function E(t,e,r,n){const o=[],s=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],s[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),s[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),s[2]=o[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function P(t,e){x(D,t),x(R,e);const r=A(D,R);return r>1?0:r<-1?Math.PI:Math.acos(r)}const D=(0,n.vt)(),R=(0,n.vt)();function I(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function B(t,e){if(t===e)return!0;const r=t[0],n=t[1],s=t[2],i=e[0],a=e[1],l=e[2],u=(0,o.FD)();return Math.abs(r-i)<=u*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=u*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-l)<=u*Math.max(1,Math.abs(s),Math.abs(l))}function q(t,e,r){const n=r[0]-e[0],o=r[1]-e[1],s=r[2]-e[2];let i=n*n+o*o+s*s;return i>0?(i=1/Math.sqrt(i),t[0]=n*i,t[1]=o*i,t[2]=s*i,t):(t[0]=0,t[1]=0,t[2]=0,t)}const Q=u,L=p,U=c,j=g,N=b,z=s,k=S;Object.freeze(Object.defineProperty({__proto__:null,abs:d,add:l,angle:P,bezier:function(t,e,r,n,o,s){const i=1-s,a=i*i,l=s*s,u=a*i,p=3*s*a,c=3*l*i,d=l*s;return t[0]=e[0]*u+r[0]*p+n[0]*c+o[0]*d,t[1]=e[1]*u+r[1]*p+n[1]*c+o[1]*d,t[2]=e[2]*u+r[2]*p+n[2]*c+o[2]*d,t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},clamp:f,copy:i,cross:T,crossAndNormalize:function(t,e,r){const n=e[0],o=e[1],s=e[2],i=r[0],a=r[1],l=r[2],u=o*l-s*a,p=s*i-n*l,c=n*a-o*i,d=Math.sqrt(u*u+p*p+c*c);return t[0]=u/d,t[1]=p/d,t[2]=c/d,t},direction:q,dist:j,distance:g,div:U,divide:c,dot:A,equals:B,exactEquals:I,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},hermite:function(t,e,r,n,o,s){const i=s*s,a=i*(2*s-3)+1,l=i*(s-2)+s,u=i*(s-1),p=i*(3-2*s);return t[0]=e[0]*a+r[0]*l+n[0]*u+o[0]*p,t[1]=e[1]*a+r[1]*l+n[1]*u+o[1]*p,t[2]=e[2]*a+r[2]*l+n[2]*u+o[2]*p,t},inverse:w,len:z,length:s,lerp:C,max:m,min:h,mul:L,multiply:p,negate:_,normalize:x,random:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=o.Ov,n=2*r()*Math.PI,s=2*r()-1,i=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=s*e,t},rotateX:function(t,e,r,n){const o=[],s=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],s[0]=o[0],s[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),s[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t},rotateY:function(t,e,r,n){const o=[],s=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],s[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),s[1]=o[1],s[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t},rotateZ:E,round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:M,scaleAndAdd:v,set:a,sign:y,sqrDist:N,sqrLen:k,squaredDistance:b,squaredLength:S,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:Q,subtract:u,transformMat3:O,transformMat4:Z,transformQuat:F},Symbol.toStringTag,{value:"Module"}))},25515:(t,e,r)=>{r.d(e,{A:()=>b});var n=r(35143),o=r(3825),s=r(50076),i=r(54099),a=r(5632),l=r(49304),u=r(76460),p=r(50346),c=r(90534),d=r(46053),y=(r(81806),r(47249),r(85842)),h=r(76797),m=r(13312),f=r(86560);var M=r(59187);let v=0,g=class extends(i.A.EventedMixin(a.A.IdentifiableMixin(l.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new h.A(-180,-90,180,90,m.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await r.e(2544).then(r.bind(r,62544))).fromUrl(e)}static fromPortalItem(t){return async function(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:n}=await r.e(2487).then(r.bind(r,2487));try{return await n(e)}catch(o){const t=e?.portalItem,r=t?.id||"unset",n=t?.portal?.url||f.A.portalUrl;throw u.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+r+"')",o),o}}(t)}initialize(){this.when().catch((t=>{(0,p.zf)(t)||u.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const e=this.parent;return t&&e&&"effectiveVisible"in e&&(t&&=e.effectiveVisible),t}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,c.An)(this.url)}createLayerView(t,e){return Promise.reject(new s.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,o.A)(t,{query:{f:"json"},responseType:"json"})).data;throw new s.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,n._)([(0,d.MZ)({type:String})],g.prototype,"attributionDataUrl",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],g.prototype,"effectiveVisible",null),(0,n._)([(0,d.MZ)({type:h.A})],g.prototype,"fullExtent",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],g.prototype,"hasAttributionData",null),(0,n._)([(0,d.MZ)({type:String,clonable:!1})],g.prototype,"id",void 0),(0,n._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],g.prototype,"legendEnabled",void 0),(0,n._)([(0,d.MZ)({type:["show","hide","hide-children"]})],g.prototype,"listMode",void 0),(0,n._)([(0,d.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],g.prototype,"opacity",void 0),(0,n._)([(0,d.MZ)({clonable:!1})],g.prototype,"parent",void 0),(0,n._)([(0,d.MZ)({readOnly:!0})],g.prototype,"parsedUrl",null),(0,n._)([(0,d.MZ)({type:Boolean,readOnly:!0})],g.prototype,"persistenceEnabled",void 0),(0,n._)([(0,d.MZ)({type:Boolean})],g.prototype,"popupEnabled",void 0),(0,n._)([(0,d.MZ)({type:Boolean})],g.prototype,"attributionVisible",void 0),(0,n._)([(0,d.MZ)({type:m.A})],g.prototype,"spatialReference",void 0),(0,n._)([(0,d.MZ)({type:String})],g.prototype,"title",void 0),(0,n._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],g.prototype,"type",void 0),(0,n._)([(0,d.MZ)()],g.prototype,"url",void 0),(0,n._)([(0,d.MZ)({type:M.A})],g.prototype,"visibilityTimeExtent",void 0),(0,n._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],g.prototype,"visible",void 0),g=(0,n._)([(0,y.$)("esri.layers.Layer")],g);const b=g},31362:(t,e,r)=>{r.d(e,{d:()=>i});var n=r(35143),o=r(46053),s=(r(81806),r(76460),r(47249),r(85842));const i=t=>{let e=class extends t{constructor(){super(...arguments),this.customParameters=null}};return(0,n._)([(0,o.MZ)({type:Object,json:{write:{overridePolicy:t=>({enabled:!!(t&&Object.keys(t).length>0)})}}})],e.prototype,"customParameters",void 0),e=(0,n._)([(0,s.$)("esri.layers.mixins.CustomParametersMixin")],e),e}},44141:(t,e,r)=>{r.d(e,{S:()=>h,d:()=>A});var n=r(81806),o=r(13096),s=r(19463);function i(t,e,r){return!!l(t,e,r)}function a(t,e,r){return l(t,e,r)}function l(t,e,r){return t&&t.hasOwnProperty(e)?t[e]:r}const u={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function p(t){const e=t?.supportedSpatialAggregationStatistics?.map((t=>t.toLowerCase()));return{envelope:!!e?.includes("envelopeaggregate"),centroid:!!e?.includes("centroidaggregate"),convexHull:!!e?.includes("convexhullaggregate")}}function c(t,e){const r=t?.supportedOperationsWithCacheHint?.map((t=>t.toLowerCase()));return!!r?.includes(e.toLowerCase())}function d(t){const e=t?.supportedStatisticTypes?.map((t=>t.toLowerCase()));return{count:!!e?.includes("count"),sum:!!e?.includes("sum"),min:!!e?.includes("min"),max:!!e?.includes("max"),avg:!!e?.includes("avg"),var:!!e?.includes("var"),stddev:!!e?.includes("stddev"),percentileContinuous:!!e?.includes("percentile_continuous"),percentileDiscrete:!!e?.includes("percentile_discrete"),envelope:!!e?.includes("envelopeaggregate"),centroid:!!e?.includes("centroidaggregate"),convexHull:!!e?.includes("convexhullaggregate")}}function y(t){const e=t?.supportedNormalizationTypes?.map((t=>t.toLowerCase()));return{field:!!e?.includes("field"),log:!!e?.includes("log"),naturalLog:!!e?.includes("naturallog"),percentOfTotal:!!e?.includes("percentoftotal"),squareRoot:!!e?.includes("squareroot")}}function h(t,e){return{analytics:m(t),attachment:f(t),data:M(t),metadata:v(t),operations:g(t.capabilities,t,e),query:b(t,e),queryAttributeBins:w(t),queryRelated:S(t),queryTopFeatures:_(t),editing:x(t)}}function m(t){return{supportsCacheHint:c(t.advancedQueryCapabilities,"queryAnalytics")}}function f(t){const e=t.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:c(t.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:i(t.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:i(t,"supportsAttachmentsResizing",!1)};return e&&Array.isArray(e)&&e.forEach((t=>{const e=u[t.name];e&&(r[e]=!!t.isEnabled)})),r}function M(t){return{isVersioned:i(t,"isDataVersioned",!1),isBranchVersioned:i(t,"isDataBranchVersioned",!1),supportsAttachment:i(t,"hasAttachments",!1),supportsM:i(t,"hasM",!1),supportsZ:i(t,"hasZ",!1)}}function v(t){return{supportsAdvancedFieldProperties:i(t,"supportsFieldDescriptionProperty",!1)}}function g(t,e,r){const n=t?t.toLowerCase().split(",").map((t=>t.trim())):[],s=r?(0,o.qg)(r):null,a=n.includes(null!=s&&"MapServer"===s.serverType?"data":"query"),l=n.includes("editing")&&!e.datesInUnknownTimezone;let u=l&&n.includes("create"),p=l&&n.includes("delete"),c=l&&n.includes("update");const d=n.includes("changetracking"),y=e.advancedQueryCapabilities;return l&&!(u||p||c)&&(u=p=c=!0),{supportsCalculate:i(e,"supportsCalculate",!1),supportsTruncate:i(e,"supportsTruncate",!1),supportsValidateSql:i(e,"supportsValidateSql",!1),supportsAdd:u,supportsDelete:p,supportsEditing:l,supportsChangeTracking:d,supportsQuery:a,supportsQueryAnalytics:i(y,"supportsQueryAnalytic",!1),supportsQueryAttachments:i(y,"supportsQueryAttachments",!1),supportsQueryBins:i(y,"supportsQueryBins",!1),supportsQueryTopFeatures:i(y,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:i(e,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:i(e,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:i(e,"supportsAsyncConvert3D",!1)}}function b(t,e){const r=t.advancedQueryCapabilities,l=t.ownershipBasedAccessControlForFeatures,u=t.archivingInfo,d=t.currentVersion,y=e?.includes("MapServer"),h=!y||d>=(0,n.A)("mapserver-pbf-version-support"),m=(0,o.Wo)(e),f=new Set((t.supportedQueryFormats??"").split(",").map((t=>t.toLowerCase().trim())));return{maxRecordCount:a(t,"maxRecordCount",void 0),maxRecordCountFactor:a(t,"maxRecordCountFactor",void 0),standardMaxRecordCount:a(t,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:p(r),supportsCacheHint:i(r,"supportsQueryWithCacheHint",!1)||c(r,"query"),supportsCentroid:i(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:m,supportsCurrentUser:i(r,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:i(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:i(r,"supportsDisjointSpatialRel",!1),supportsDistance:i(r,"supportsQueryWithDistance",!1),supportsDistinct:i(r,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:i(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:h&&f.has("pbf"),supportsFullTextSearch:i(r,"supportsFullTextSearch",!1),supportsGeometryProperties:i(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:i(r,"supportsHavingClause",!1),supportsHistoricMoment:i(u,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:i(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:i(r,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:i(r,"supportsPagination",!1),supportsPercentileStatistics:i(r,"supportsPercentileStatistics",!1),supportsQuantization:i(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:i(t,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:i(l,"allowAnonymousToQuery",!0),supportsQueryByOthers:i(l,"allowOthersToQuery",!0),supportsQueryGeometry:i(t,"supportsReturningQueryGeometry",!1),supportsResultType:i(r,"supportsQueryWithResultType",!1),supportsReturnMesh:!!(0,s.Hz)(t.infoFor3D),supportsSpatialAggregationStatistics:i(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:i(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:i(t,"useStandardizedQueries",!1),supportsStatistics:i(r,"supportsStatistics",t.supportsStatistics),supportsTopFeaturesQuery:i(r,"supportsTopFeaturesQuery",!1),supportsTrueCurve:i(r,"supportsTrueCurve",!1),tileMaxRecordCount:a(t,"tileMaxRecordCount",void 0)}}function S(t){const e=t.advancedQueryCapabilities,r=i(e,"supportsAdvancedQueryRelated",!1);return{supportsPagination:i(e,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:c(e,"queryRelated")}}function _(t){return{supportsCacheHint:c(t.advancedQueryCapabilities,"queryTopFilter")}}function w(t){const e=t?t.queryBinsCapabilities:void 0;return{supportsDate:i(e,"supportsDateBin",!1),supportsFixedInterval:i(e,"supportsFixedIntervalBin",!1),supportsAutoInterval:i(e,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:i(e,"supportsFixedBoundariesBin",!1),supportsStackBy:i(e,"supportsStackBy",!1),supportsSplitBy:i(e,"supportsSplitBy",!1),supportsSnapToData:i(e,"supportsSnapToData",!1),supportsReturnFullIntervalBin:i(e,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:i(e,"supportsFirstDayOfWeek",!1),supportsNormalization:i(e,"supportsNormalization",!1),supportedStatistics:d(e),supportedNormalizationTypes:y(e)}}function x(t){const e=t.ownershipBasedAccessControlForFeatures,r=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:i(t,"allowGeometryUpdates",!0),supportsGlobalId:i(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:i(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:i(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:i(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:i(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:i(e,"allowAnonymousToDelete",!0),supportsDeleteByOthers:i(e,"allowOthersToDelete",!0),supportsUpdateByAnonymous:i(e,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:i(e,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:i(r,"supportsAsyncApplyEdits",!1),zDefault:a(t,"zDefault",void 0)}}function A(t){return{operations:{supportsAppend:i(t,"supportsAppend",!1),supportsCoverageQuery:t?.playbackInfo?.klv["0601"]??!1,supportsExportClip:i(t,"supportsExportClip",!1),supportsExportFrameset:i(t,"supportsExportFrameset",!1),supportsMensuration:i(t,"supportsMensuration",!1),supportsUpdate:i(t,"supportsUpdate",!1)}}}},44680:(t,e,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,r,n,o,s,i,a,l){return[t,e,r,n,o,s,i,a,l]}r.d(e,{fA:()=>o,vt:()=>n,zK:()=>s});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:n,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},59187:(t,e,r)=>{r.d(e,{A:()=>y});var n,o=r(35143),s=r(42553),i=r(18288),a=r(46053),l=(r(81806),r(76460),r(47249),r(28379)),u=r(85842),p=r(17707),c=r(36693);let d=n=class extends s.A{static get allTime(){return h}static get empty(){return m}static fromArray(t){return new n({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new n({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=t.start?.getTime()??t.start,o=t.end?.getTime()??t.end;return e===n&&r===o}expandTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.qU;if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=(0,i.lL)(r,t,e));let o=this.end;if(o){const r=(0,i.lL)(o,t,e);o=o.getTime()===r.getTime()?r:(0,i.S1)(r,1,t,e)}return new n({start:r,end:o})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return n.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,o=t.start?.getTime()??-1/0,s=t.end?.getTime()??1/0;let i,a;return o>=e&&o<=r?i=o:e>=o&&e<=s&&(i=e),r>=o&&r<=s?a=r:s>=e&&s<=r&&(a=s),null==i||null==a||isNaN(i)||isNaN(a)?n.empty:new n({start:i===-1/0?null:new Date(i),end:a===1/0?null:new Date(a)})}offset(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.qU;if(this.isEmpty||this.isAllTime)return this.clone();const o=new n,{start:s,end:a}=this;return null!=s&&(o.start=(0,i.S1)(s,t,e,r)),null!=a&&(o.end=(0,i.S1)(a,t,e,r)),o}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return h.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new n({start:e,end:r})}};(0,o._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,o._)([(0,l.w)("end")],d.prototype,"readEnd",null),(0,o._)([(0,p.K)("end")],d.prototype,"writeEnd",null),(0,o._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,o._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,o._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,o._)([(0,l.w)("start")],d.prototype,"readStart",null),(0,o._)([(0,p.K)("start")],d.prototype,"writeStart",null),d=n=(0,o._)([(0,u.$)("esri.time.TimeExtent")],d);const y=d,h=new d,m=new d({start:void 0,end:void 0})},63919:(t,e,r)=>{r.d(e,{$0:()=>M,B8:()=>l,D_:()=>i,Ge:()=>b,I0:()=>v,KC:()=>u,Oe:()=>m,Tl:()=>d,a4:()=>p,dR:()=>g,e$:()=>y,hZ:()=>s,hs:()=>h,kN:()=>f,lw:()=>c,mg:()=>a,z0:()=>o});var n=r(53494);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t,e,r,n,o,s,i,a,l,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=s,t[5]=i,t[6]=a,t[7]=l,t[8]=u,t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){if(t===e){const r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function l(t,e){const r=e[0],n=e[1],o=e[2],s=e[3],i=e[4],a=e[5],l=e[6],u=e[7],p=e[8],c=p*i-a*u,d=-p*s+a*l,y=u*s-i*l;let h=r*c+n*d+o*y;return h?(h=1/h,t[0]=c*h,t[1]=(-p*n+o*u)*h,t[2]=(a*n-o*i)*h,t[3]=d*h,t[4]=(p*r-o*l)*h,t[5]=(-a*r+o*s)*h,t[6]=y*h,t[7]=(-u*r+n*l)*h,t[8]=(i*r-n*s)*h,t):null}function u(t,e){const r=e[0],n=e[1],o=e[2],s=e[3],i=e[4],a=e[5],l=e[6],u=e[7],p=e[8];return t[0]=i*p-a*u,t[1]=o*u-n*p,t[2]=n*a-o*i,t[3]=a*l-s*p,t[4]=r*p-o*l,t[5]=o*s-r*a,t[6]=s*u-i*l,t[7]=n*l-r*u,t[8]=r*i-n*s,t}function p(t){const e=t[0],r=t[1],n=t[2],o=t[3],s=t[4],i=t[5],a=t[6],l=t[7],u=t[8];return e*(u*s-i*l)+r*(-u*o+i*a)+n*(l*o-s*a)}function c(t,e,r){const n=e[0],o=e[1],s=e[2],i=e[3],a=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=r[0],y=r[1],h=r[2],m=r[3],f=r[4],M=r[5],v=r[6],g=r[7],b=r[8];return t[0]=d*n+y*i+h*u,t[1]=d*o+y*a+h*p,t[2]=d*s+y*l+h*c,t[3]=m*n+f*i+M*u,t[4]=m*o+f*a+M*p,t[5]=m*s+f*l+M*c,t[6]=v*n+g*i+b*u,t[7]=v*o+g*a+b*p,t[8]=v*s+g*l+b*c,t}function d(t,e,r){const n=e[0],o=e[1],s=e[2],i=e[3],a=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=r[0],y=r[1];return t[0]=n,t[1]=o,t[2]=s,t[3]=i,t[4]=a,t[5]=l,t[6]=d*n+y*i+u,t[7]=d*o+y*a+p,t[8]=d*s+y*l+c,t}function y(t,e,r){const n=e[0],o=e[1],s=e[2],i=e[3],a=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=Math.sin(r),y=Math.cos(r);return t[0]=y*n+d*i,t[1]=y*o+d*a,t[2]=y*s+d*l,t[3]=y*i-d*n,t[4]=y*a-d*o,t[5]=y*l-d*s,t[6]=u,t[7]=p,t[8]=c,t}function h(t,e,r){const n=r[0],o=r[1],s=r[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function m(t,e,r){const n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t}function f(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function M(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function v(t,e){const r=e[0],n=e[1],o=e[2],s=e[3],i=r+r,a=n+n,l=o+o,u=r*i,p=n*i,c=n*a,d=o*i,y=o*a,h=o*l,m=s*i,f=s*a,M=s*l;return t[0]=1-c-h,t[3]=p-M,t[6]=d+f,t[1]=p+M,t[4]=1-u-h,t[7]=y-m,t[2]=d-f,t[5]=y+m,t[8]=1-u-c,t}function g(t,e){const r=e[0],n=e[1],o=e[2],s=e[4],i=e[5],a=e[6],l=e[8],u=e[9],p=e[10],c=p*i-a*u,d=-p*s+a*l,y=u*s-i*l,h=r*c+n*d+o*y;if(!h)return null;const m=1/h;return t[0]=c*m,t[1]=(-p*n+o*u)*m,t[2]=(a*n-o*i)*m,t[3]=d*m,t[4]=(p*r-o*l)*m,t[5]=(-a*r+o*s)*m,t[6]=y*m,t[7]=(-u*r+n*l)*m,t[8]=(i*r-n*s)*m,t}function b(t,e){const r=e[0],n=e[1],o=e[2],s=e[3],i=e[4],a=e[5],l=e[6],u=e[7],p=e[8],c=e[9],d=e[10],y=e[11],h=e[12],m=e[13],f=e[14],M=e[15],v=r*a-n*i,g=r*l-o*i,b=r*u-s*i,S=n*l-o*a,_=n*u-s*a,w=o*u-s*l,x=p*m-c*h,A=p*f-d*h,T=p*M-y*h,C=c*f-d*m,Z=c*M-y*m,O=d*M-y*f;let F=v*O-g*Z+b*C+S*T-_*A+w*x;return F?(F=1/F,t[0]=(a*O-l*Z+u*C)*F,t[1]=(l*T-i*O-u*A)*F,t[2]=(i*Z-a*T+u*x)*F,t[3]=(o*Z-n*O-s*C)*F,t[4]=(r*O-o*T+s*A)*F,t[5]=(n*T-r*Z-s*x)*F,t[6]=(m*w-f*_+M*S)*F,t[7]=(f*b-h*w-M*g)*F,t[8]=(h*_-m*b+M*v)*F,t):null}function S(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}const _=c,w=S;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},adjoint:u,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},determinant:p,equals:function(t,e){const r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],u=t[6],p=t[7],c=t[8],d=e[0],y=e[1],h=e[2],m=e[3],f=e[4],M=e[5],v=e[6],g=e[7],b=e[8],S=(0,n.FD)();return Math.abs(r-d)<=S*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-y)<=S*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-h)<=S*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(i-m)<=S*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-f)<=S*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(l-M)<=S*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-v)<=S*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(p-g)<=S*Math.max(1,Math.abs(p),Math.abs(g))&&Math.abs(c-b)<=S*Math.max(1,Math.abs(c),Math.abs(b))},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromMat4:o,fromQuat:v,fromRotation:M,fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:f,identity:i,invert:l,isOrthoNormal:function(t){const e=(0,n.FD)(),r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],l=t[5],u=t[6],p=t[7],c=t[8];return Math.abs(1-(r*r+i*i+u*u))<=e&&Math.abs(1-(o*o+a*a+p*p))<=e&&Math.abs(1-(s*s+l*l+c*c))<=e},mul:_,multiply:c,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},normalFromMat4:b,normalFromMat4Legacy:g,projection:function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:y,scale:h,scaleByVec2:m,set:s,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:w,subtract:S,translate:d,transpose:a},Symbol.toStringTag,{value:"Module"}))},65624:(t,e,r)=>{r.d(e,{LF:()=>p,dM:()=>c,sU:()=>l});var n=r(35143),o=r(46053),s=(r(81806),r(76460),r(47249),r(85842)),i=r(80979),a=r(44081);const l={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:i.K}},"portal-item":{read:!0,write:{layerContainerTypes:i.K}}}}},u={read:{reader:a.LF},write:{allowNull:!0,writer:a.M9,layerContainerTypes:i.K}},p={json:{read:!1,write:!1,origins:{"web-map":u,"portal-item":u}}},c=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,n._)([(0,o.MZ)(l)],e.prototype,"blendMode",void 0),(0,n._)([(0,o.MZ)(p)],e.prototype,"effect",void 0),e=(0,n._)([(0,s.$)("esri.layers.mixins.BlendLayer")],e),e}},79426:(t,e,r)=>{r.r(e),r.d(e,{default:()=>q});var n=r(35143),o=r(3825),s=r(50076),i=r(15941),a=r(77717),l=r(68134),u=r(46053),p=(r(81806),r(76460),r(47249),r(28379)),c=r(85842),d=r(76797),y=r(23701),h=r(13312),m=r(25515),f=r(65624),M=r(31362),v=r(5682),g=r(13096),b=r(95363),S=r(69098),_=r(42553);let w=class extends(S.A.ClonableMixin(_.A)){constructor(t){super(t),this.framerate=null,this.containerFormat=null,this.gop=null,this.aspectRatio=null,this.klv=null}};(0,n._)([(0,u.MZ)({type:String})],w.prototype,"framerate",void 0),(0,n._)([(0,u.MZ)({type:String})],w.prototype,"containerFormat",void 0),(0,n._)([(0,u.MZ)({type:Number})],w.prototype,"gop",void 0),(0,n._)([(0,u.MZ)({type:String})],w.prototype,"aspectRatio",void 0),(0,n._)([(0,u.MZ)({type:Object})],w.prototype,"klv",void 0),w=(0,n._)([(0,c.$)("esri.layers.support.PlaybackInfo")],w);const x=w;var A=r(44141),T=r(58296),C=r(90360),Z=r(91967),O=r(17707),F=r(19247);let E=class extends Z.A{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,n._)([(0,u.MZ)()],E.prototype,"sourcePoint",void 0),(0,n._)([(0,u.MZ)({type:F.A})],E.prototype,"mapPoint",void 0),E=(0,n._)([(0,c.$)("esri.layers.support.VideoFrame.ControlPoint")],E);let P=class extends(S.A.ClonableMixin(_.A)){constructor(t){super(t),this.frame=null,this.controlPoints=null}readControlPoints(t){return t.map((t=>({sourcePoint:{x:t.frameX,y:t.frameY},mapPoint:new F.A(t.point)})))}writeControlPoints(t,e){null!=t&&function(t){return null!=t?.sourcePoint&&null!=t.mapPoint}(t[0])&&(e.controlPoints=t.map((t=>{const e=t.sourcePoint,r=t.mapPoint;return{frameX:e.x,frameY:e.y,point:r.toJSON()}})))}};(0,n._)([(0,u.MZ)({type:String})],P.prototype,"frame",void 0),(0,n._)([(0,u.MZ)({type:[E],json:{write:{allowNull:!1,isRequired:!0}}})],P.prototype,"controlPoints",void 0),(0,n._)([(0,p.w)("controlPoints")],P.prototype,"readControlPoints",null),(0,n._)([(0,O.K)("controlPoints")],P.prototype,"writeControlPoints",null),P=(0,n._)([(0,c.$)("esri.layers.support.VideoFrame")],P);const D=P;var R=r(80782),I=r(19172);let B=class extends((0,f.dM)((0,v.j)((0,a.P)((0,M.d)(m.A))))){constructor(t){super(t),this._trailPoints=[],this.capabilities=null,this.connectionInfo=null,this.controller=new R.default,this.copyright=null,this.created=null,this.description=null,this.elevationSource=null,this.frame=null,this.frameCount=null,this.fullExtent=null,this.initialExtent=null,this.layerId=null,this.playbackInfo=null,this.posterUrl=null,this.qualities=null,this.serviceItemId=null,this.sourceJSON=null,this.sourceQuality=null,this.sourceType=null,this.spatialReference=h.A.WGS84,this.telemetryDisplay=null,this.title=null,this.type="video",this.url=null,this.videoLayersInfo=null,this.videoTimeExtent=null}initialize(){this.telemetryDisplay=new C.A({frame:!1,frameCenter:!1,frameOutline:!0,lineOfSight:!0,sensorLocation:!0,sensorTrail:!0}),this.addHandles([(0,l.wB)((()=>this.metadata),(()=>{this.notifyChange("telemetry"),this.notifyChange("groundControlPoints"),this.notifyChange("frameHorizonPoints")})),(0,l.wB)((()=>this.telemetry?.sensorLocation),(t=>this._setSensorTrail(t)),l.Vh)])}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this._fetchService(e)),Promise.resolve(this)}get buffered(){return this.controller.buffered}readCapabilitiesFromService(t,e){return(0,A.d)(e)}readConnectionInfo(t,e){const r=Object.values(e.connectionUrl);return r?.length&&(this.controller.playerUrl=r[0]),e.connectionUrl}get currentTime(){return this.controller.currentTime}get duration(){return this.controller.duration}get ended(){return this.controller.ended}get frameHorizonPoints(){return(0,I.SC)(this.metadata)}get groundControlPoints(){return(0,I.I0)(this.metadata)}get loop(){return this.controller.loop}set loop(t){this.controller.loop=t}get metadata(){return this.controller?.currentMetadata}get mimeType(){return this.controller?.mimeType}get muted(){return this.controller.muted}set muted(t){this.controller.muted=t}get playbackRate(){return this.controller.rate}set playbackRate(t){this.controller.rate=t}get playerUrl(){return this.controller.playerUrl}get playing(){return this.controller.playing}get state(){return this.controller.state}get telemetry(){return(0,I.YI)(this.metadata)}get videoElement(){return this.controller?.element}get videoHeight(){return this.controller?.videoHeight}readLayerInfosFromService(t,e){return(0,I.Yv)(e)}get videoWidth(){return this.controller?.videoWidth}get waiting(){return this.controller.waiting}play(){this.controller.play()}pause(){this.controller.pause()}reset(){this.controller.reset()}setCurrentTime(t){if(!this.duration)return;const e=(0,i.qE)(t,0,this.duration);this.controller.setCurrentTime(e)}toGround(t,e){return this.controller?.sensorModel?.metadataSupportsTransforms?this.controller.sensorModel.transformImageToGeo(t,e):null}toVideo(t){if(!this.controller?.sensorModel?.metadataSupportsTransforms)return null;const e=this.controller.sensorModel.transformGeoToImage(t.x,t.y,t.z);return{x:e[0],y:e[1]}}async _fetchService(t){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const e=(0,g.qg)(this.parsedUrl?.path);if(null==e)throw new s.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");let r=null;const{data:n,ssl:i}=await(0,o.A)(e.url.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters},signal:t}),a=n;if(this.url=e.url.path,i&&(this.url=this.url.replace(/^http:/i,"https:")),!a?.currentVersion)return a.currentVersion="11.2",this.sourceJSON=a,void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let l=e?.sublayer;if(null==l&&a.layers?.length&&(l=a.layers[0].id),null==l)throw new s.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");this.url=`${e.url.path}/${l}`,r=await(0,o.A)(this.url,{query:{f:"json",...this.customParameters},signal:t});const u={...a,...r.data};this.sourceJSON=u,this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl})}_setSensorTrail(t){if(!t)return;const e=(0,I.yQ)(t,this._trailPoints);this._trailPoints=[...e];const r=this._trailPoints.map((t=>t.toArray())),n=new y.A({hasZ:t.hasZ,paths:[r]});this.telemetry.sensorTrail=n.clone()}};(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"buffered",null),(0,n._)([(0,u.MZ)({readOnly:!0,json:{read:!1}})],B.prototype,"capabilities",void 0),(0,n._)([(0,p.w)("service","capabilities",["supportsAppend","supportsCoverageQuery","supportsExportClip","supportsExportFrameset","supportsMensuration","supportsUpdate"])],B.prototype,"readCapabilitiesFromService",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"connectionInfo",void 0),(0,n._)([(0,p.w)("connectionInfo",["connectionUrl"])],B.prototype,"readConnectionInfo",null),(0,n._)([(0,u.MZ)()],B.prototype,"controller",void 0),(0,n._)([(0,u.MZ)({type:String})],B.prototype,"copyright",void 0),(0,n._)([(0,u.MZ)({readOnly:!0,type:Date})],B.prototype,"created",void 0),(0,n._)([(0,u.MZ)({type:Number})],B.prototype,"currentTime",null),(0,n._)([(0,u.MZ)({type:String})],B.prototype,"description",void 0),(0,n._)([(0,u.MZ)({type:Number})],B.prototype,"duration",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"elevationSource",void 0),(0,n._)([(0,u.MZ)({type:Boolean})],B.prototype,"ended",null),(0,n._)([(0,u.MZ)({type:D})],B.prototype,"frame",void 0),(0,n._)([(0,u.MZ)({readOnly:!0,type:Number})],B.prototype,"frameCount",void 0),(0,n._)([(0,u.MZ)({type:d.A})],B.prototype,"fullExtent",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"frameHorizonPoints",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"groundControlPoints",null),(0,n._)([(0,u.MZ)({type:d.A})],B.prototype,"initialExtent",void 0),(0,n._)([(0,u.MZ)({readOnly:!0,json:{read:{source:"id"}}})],B.prototype,"layerId",void 0),(0,n._)([(0,u.MZ)({type:Boolean})],B.prototype,"loop",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"metadata",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"mimeType",null),(0,n._)([(0,u.MZ)({type:Boolean})],B.prototype,"muted",null),(0,n._)([(0,u.MZ)({type:x})],B.prototype,"playbackInfo",void 0),(0,n._)([(0,u.MZ)({type:Number})],B.prototype,"playbackRate",null),(0,n._)([(0,u.MZ)({type:String})],B.prototype,"playerUrl",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"playing",null),(0,n._)([(0,u.MZ)({readOnly:!0,json:{read:{source:"poster"}}})],B.prototype,"posterUrl",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"qualities",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"serviceItemId",void 0),(0,n._)([(0,u.MZ)()],B.prototype,"sourceJSON",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"sourceQuality",void 0),(0,n._)([(0,u.MZ)({readOnly:!0,json:{name:"serviceType"}})],B.prototype,"sourceType",void 0),(0,n._)([(0,u.MZ)()],B.prototype,"spatialReference",void 0),(0,n._)([(0,u.MZ)({readOnly:!0,type:String})],B.prototype,"state",null),(0,n._)([(0,u.MZ)({readOnly:!0,type:T.A})],B.prototype,"telemetry",null),(0,n._)([(0,u.MZ)({type:C.A})],B.prototype,"telemetryDisplay",void 0),(0,n._)([(0,u.MZ)({readOnly:!1,json:{read:{source:"name"}}})],B.prototype,"title",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"type",void 0),(0,n._)([(0,u.MZ)(b.OZ)],B.prototype,"url",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"videoElement",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"videoHeight",null),(0,n._)([(0,u.MZ)({readOnly:!0,json:{read:!1}})],B.prototype,"videoLayersInfo",void 0),(0,n._)([(0,p.w)("service","videoLayersInfo",["id","name","poster","serviceType","type"])],B.prototype,"readLayerInfosFromService",null),(0,n._)([(0,u.MZ)({readOnly:!0,nonNullable:!1,json:{read:{reader:I.nX,source:"time"}}})],B.prototype,"videoTimeExtent",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"videoWidth",null),(0,n._)([(0,u.MZ)({readOnly:!0})],B.prototype,"waiting",null),B=(0,n._)([(0,c.$)("esri.layers.VideoLayer")],B);const q=B},90360:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(35143),o=r(69098),s=r(42553),i=r(46053),a=(r(81806),r(76460),r(47249),r(85842));let l=class extends(o.A.ClonableMixin(s.A)){constructor(t){super(t),this.frame=null,this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"frame",void 0),(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"frameCenter",void 0),(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"frameOutline",void 0),(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"lineOfSight",void 0),(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"sensorLocation",void 0),(0,n._)([(0,i.MZ)({type:Boolean})],l.prototype,"sensorTrail",void 0),l=(0,n._)([(0,a.$)("esri.layers.support.TelemetryDisplay")],l);const u=l}}]);
//# sourceMappingURL=3842.16a4d0b1.chunk.js.map