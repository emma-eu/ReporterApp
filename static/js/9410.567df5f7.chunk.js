"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[9410],{1900:(e,t,r)=>{r.d(t,{A:()=>p});var i=r(50076),n=r(42553),s=r(76460),a=r(87663),l=r(64920),o=r(53430),u=r(36693),c=r(67478),y=r(24241);const d=new Map;class p{static fromJSON(e){return new p(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new p(e.fields??[],S(e))}static fromLayerJSON(e){return new p(e.fields??[],S(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const r=[];for(const i of this.fields){const e=i?.name,t=h(e);if(e&&t){const n=f(e);this._fieldsMap.set(e,i),this._fieldsMap.set(n,i),this._normalizedFieldsMap.set(t,i),r.push(`${n}:${i.type}:${this._timeZoneByFieldName?.get(e)}`),(0,o.vE)(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):(0,o.WA)(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),(0,o.te)(i)||(0,o.Xz)(i)||(i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,o.te)(e)||(0,o.Xz)(e)||e.nullable||void 0!==(0,o.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(f(e))??this._normalizedFieldsMap.get(h(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(s.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new i.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.n$):m.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?l.GB.instance:t===u.n$?y.mQ.utcInstance:(0,a.tE)(d,t,(()=>y.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,o.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>n.A.isSerializable(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function f(e){return e.trim().toLowerCase()}function h(e){return(0,o.rS)(e)?.toLowerCase()??""}const m=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function S(e){const t=new Map;if(!e.fields)return t;const r=!0===e.datesInUnknownTimezone,{timeInfo:i,editFieldsInfo:n}=e,s=(i?"startField"in i?i.startField:i.startTimeField:"")??"",a=(i?"endField"in i?i.endField:i.endTimeField:"")??"",l=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.ZS)(e.dateFieldsTimeReference):null,o=n?function(e){return"timeZone"in e}(n)?n.timeZone??l:n.dateFieldsTimeReference?(0,c.ZS)(n.dateFieldsTimeReference):l??u.n$:null,y=i?function(e){return"timeZone"in e}(i)?i.timeZone??l:i.timeReference?(0,c.ZS)(i.timeReference):l:null,d=new Map([[f(n?.creationDateField??""),o],[f(n?.editDateField??""),o],[f(s),y],[f(a),y]]);for(const{name:c,type:p}of e.fields)if(m.has(p))t.set(c,u.L5);else if("date"!==p&&"esriFieldTypeDate"!==p)t.set(c,null);else if(r)t.set(c,u.L5);else{const e=d.get(f(c??""))??l;t.set(c,e)}return t}},5682:(e,t,r)=>{r.d(t,{j:()=>a});var i=r(35143),n=r(46053),s=(r(81806),r(76460),r(47249),r(85842));const a=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}};return(0,i._)([(0,n.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,i._)([(0,n.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,i._)([(0,s.$)("esri.layers.mixins.ScaleRangeLayer")],t),t}},11270:(e,t,r)=>{r.d(t,{q:()=>M});var i=r(35143),n=r(50076),s=r(90534),a=r(46053),l=r(40565),o=(r(81806),r(47249),r(28379)),u=r(85842),c=r(17707),y=r(80979),d=r(6527),p=r(29584);const f={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},h={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},m={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},S={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":f,"web-map/basemap":h,"web-map/tables":m,"link-chart/operational-layers":{...f,LinkChartLayer:!0},"link-chart/basemap":h,"link-chart/tables":m,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var g=r(95363),b=r(59187);const M=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,r){return"Group Layer"===r?.portalItem?.type?void 0:e}writeListMode(e,t,r,i){(i&&"ground"===i.layerContainerType||e&&(0,p.R)(this,r,{},i))&&(t[r]=e)}writeOperationalLayerType(e,t,r){e&&(t[r]=e)}writeTitle(e,t){t.title=e??"Layer"}readVisibilityTimeExtent(e){return e?b.A.fromArray(e):null}writeVisibilityTimeExtent(e,t,r,i){e&&"tables"!==i.layerContainerType&&(e.isEmpty?i?.messages&&i.messages.push(new n.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[r]=e.toArray())}read(e,t){t&&(t.layer=this),(0,d.t)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,r=S[e];let i=!!r?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(i=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(i=!1),!i)return t.messages?.push(new n.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const r=super.write(e,{...t,layer:this}),i=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof n.A&&"web-document-write:property-required"===e.name)).length;return(0,s.w8)(r?.url)?(t?.messages?.push(new n.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&i?null:r}beforeSave(){}};return(0,i._)([(0,a.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,i._)([(0,o.w)("id",["id"])],t.prototype,"readId",null),(0,i._)([(0,a.MZ)(g.C1)],t.prototype,"listMode",void 0),(0,i._)([(0,c.K)("listMode")],t.prototype,"writeListMode",null),(0,i._)([(0,a.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:y.K,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),(0,i._)([(0,c.K)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,i._)([(0,a.MZ)(g.ke)],t.prototype,"opacity",void 0),(0,i._)([(0,a.MZ)({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,i._)([(0,c.K)("title"),(0,c.K)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,i._)([(0,a.MZ)({type:b.A,json:{origins:{"web-scene":{write:{layerContainerTypes:y.K}}}}})],t.prototype,"visibilityTimeExtent",void 0),(0,i._)([(0,o.w)("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),(0,i._)([(0,c.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[l.jz,l.Uv]]}})],t.prototype,"writeVisibilityTimeExtent",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:y.K}}})],t.prototype,"visible",void 0),t=(0,i._)([(0,u.$)("esri.layers.mixins.OperationalLayer")],t),t}},21617:(e,t,r)=>{r.d(t,{J:()=>M});var i=r(35143),n=(r(81806),r(76460)),s=r(50346),a=r(46053),l=r(21403),o=(r(47249),r(85842)),u=r(80979),c=r(94643),y=r(68134),d=r(49281);const p=new c.A,f=new WeakMap;function h(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function m(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:m(t,e%t):0}let S=0,g=0;function b(){const e=Date.now();let t=!1;for(const r of p){const i=r.deref();i?i.refreshInterval&&e-(f.get(i)??0)+5>=6e4*i.refreshInterval&&(f.set(i,e),i.refresh(e)):t=!0}if(t)for(let r=p.length-1;r>=0;r--)p.at(r).deref()||p.removeAt(r)}(0,d.fm)((()=>{const e=Date.now();let t=0;for(const r of p){const i=r.deref();i&&(t=m(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?f.get(i)||f.set(i,e):f.delete(i))}if(t!==g){if(g=t,clearInterval(S),0===g)return void(S=0);S=setInterval(b,g)}}),y.OH);const M=e=>{let t=class extends e{constructor(){super(...arguments),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,s.sg)((()=>this.hasDataChanged())),this.when().then((()=>{var e;this.destroyed||h(e=this)&&p.push(new WeakRef(e))}),(()=>{}))}destroy(){!function(e){const t=p.find((t=>t.deref()===e));t&&p.remove(t)}(this)}castRefreshInterval(e){return e>=.1?e:e<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,s.QZ)(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{n.A.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}get test(){}};return(0,i._)([(0,a.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:u.K}}}}})],t.prototype,"refreshInterval",void 0),(0,i._)([(0,l.w)("refreshInterval")],t.prototype,"castRefreshInterval",null),(0,i._)([(0,a.MZ)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],t.prototype,"refreshParameters",null),t=(0,i._)([(0,o.$)("esri.layers.mixins.RefreshableLayer")],t),t}},41324:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var i,n=r(35143),s=r(94643),a=r(73763),l=r(77717),o=r(50346),u=r(68134),c=r(90534),y=r(46053),d=(r(81806),r(76460),r(47249),r(28379)),p=r(85842),f=r(17707),h=r(76797),m=r(13312),S=r(25515),g=r(65624),b=r(11270),M=r(94729),v=r(21617),I=r(5682),w=r(95363),L=r(54099),_=r(42553),C=r(49304),A=r(88685),T=r(40565),F=r(69834);let P=i=class extends(L.A.EventedMixin(_.A.JSONSupportMixin(C.A))){constructor(){super(...arguments),this.description=null,this.fullExtent=null,this.id=null,this.networkLink=null,this.parent=null,this.sublayers=null,this.title=null,this.sourceJSON=null,this.layer=null,this.addHandles([(0,u.on)((()=>this.sublayers),"after-add",(e=>{let{item:t}=e;t.parent=this,t.layer=this.layer}),u.OH),(0,u.on)((()=>this.sublayers),"after-remove",(e=>{let{item:t}=e;t.layer=t.parent=null}),u.OH),(0,u.wB)((()=>this.sublayers),((e,t)=>{if(t)for(const r of t)r.layer=r.parent=null;if(e)for(const r of e)r.parent=this,r.layer=this.layer}),u.OH),(0,u.wB)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),u.OH)])}initialize(){(0,u.C_)((()=>this.networkLink)).then((()=>(0,u.C_)((()=>!0===this.visible)))).then((()=>this.load()))}load(e){if(!this.networkLink)return;if(this.networkLink.viewFormat)return;const t=null!=e?e.signal:null,r=this._fetchService(this._get("networkLink")?.href??"",t).then((e=>{const t=(0,F.Qm)(e.sublayers);this.fullExtent=h.A.fromJSON(t),this.sourceJSON=e;const r=(0,T.dp)(s.A.ofType(i),(0,F.Jy)(i,e));this.sublayers?this.sublayers.addMany(r):this.sublayers=r,this.layer?.emit("sublayer-update"),this.layer&&this.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(r),Promise.resolve(this)}get visible(){return this._get("visible")}set visible(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}readVisible(e,t){return!!t.visibility}_fetchService(e,t){return(0,F.Ox)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((e=>(0,F._4)(e.data)))}};(0,n._)([(0,y.MZ)()],P.prototype,"description",void 0),(0,n._)([(0,y.MZ)({type:h.A})],P.prototype,"fullExtent",void 0),(0,n._)([(0,y.MZ)()],P.prototype,"id",void 0),(0,n._)([(0,y.MZ)({readOnly:!0,value:null})],P.prototype,"networkLink",void 0),(0,n._)([(0,y.MZ)({json:{write:{allowNull:!0}}})],P.prototype,"parent",void 0),(0,n._)([(0,y.MZ)({type:s.A.ofType(P),json:{write:{allowNull:!0}}})],P.prototype,"sublayers",void 0),(0,n._)([(0,y.MZ)({value:null,json:{read:{source:"name",reader:e=>(0,A._e)(e)}}})],P.prototype,"title",void 0),(0,n._)([(0,y.MZ)({value:!0})],P.prototype,"visible",null),(0,n._)([(0,d.w)("visible",["visibility"])],P.prototype,"readVisible",null),(0,n._)([(0,y.MZ)()],P.prototype,"sourceJSON",void 0),(0,n._)([(0,y.MZ)()],P.prototype,"layer",void 0),P=i=(0,n._)([(0,p.$)("esri.layers.support.KMLSublayer")],P);const E=P,O=["kml","xml"];let k=class extends((0,g.dM)((0,v.J)((0,I.j)((0,b.q)((0,M.A)((0,l.P)(S.A))))))){constructor(){super(...arguments),this._visibleFolders=[],this.allSublayers=new a.A({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.outSpatialReference=m.A.WGS84,this.path=null,this.legendEnabled=!1,this.operationalLayerType="KML",this.sublayers=null,this.type="kml",this.url=null}initialize(){this.addHandles([(0,u.wB)((()=>this.sublayers),((e,t)=>{t&&t.forEach((e=>{e.parent=null,e.layer=null})),e&&e.forEach((e=>{e.parent=this,e.layer=this}))}),u.OH),this.on("sublayer-update",(()=>this.notifyChange("fullExtent")))])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}readSublayersFromItemOrWebMap(e,t){this._visibleFolders=t.visibleFolders}readSublayers(e,t,r){return(0,F.Jy)(E,t,r,this._visibleFolders)}writeSublayers(e,t){const r=[],i=e.toArray();for(;i.length;){const e=i[0];e.networkLink||(e.visible&&r.push(e.id),e.sublayers&&i.push(...e.sublayers.toArray())),i.shift()}t.visibleFolders=r}get title(){const e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,c.e7)(this.url,O)||"KML":e}set title(e){this._set("title",e)}get visibleSublayers(){const e=this.sublayers,t=[],r=e=>{e.visible&&(t.push(e),e.sublayers&&e.sublayers.forEach(r))};return e&&e.forEach(r),t}get fullExtent(){return this._recomputeFullExtent()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(o.QP).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){super.destroy(),this.allSublayers.destroy()}async _fetchService(e){const t=await Promise.resolve().then((()=>this.resourceInfo?{ssl:!1,data:this.resourceInfo}:(0,F.Ox)(this.url??"",this.outSpatialReference,this.refreshInterval,e))),r=(0,F._4)(t.data);this.read(r,{origin:"service"})}_recomputeFullExtent(){let e=null;null!=this.extent&&(e=this.extent.clone());const t=r=>{if(r.sublayers)for(const i of r.sublayers.items)t(i),i.visible&&i.fullExtent&&(null!=e?e.union(i.fullExtent):e=i.fullExtent.clone())};return t(this),e}};(0,n._)([(0,y.MZ)({readOnly:!0})],k.prototype,"allSublayers",void 0),(0,n._)([(0,y.MZ)({type:m.A})],k.prototype,"outSpatialReference",void 0),(0,n._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],k.prototype,"path",void 0),(0,n._)([(0,y.MZ)({readOnly:!0,json:{read:!1,write:!1}})],k.prototype,"legendEnabled",void 0),(0,n._)([(0,y.MZ)({type:["show","hide","hide-children"]})],k.prototype,"listMode",void 0),(0,n._)([(0,y.MZ)({type:["KML"]})],k.prototype,"operationalLayerType",void 0),(0,n._)([(0,y.MZ)({})],k.prototype,"resourceInfo",void 0),(0,n._)([(0,y.MZ)({type:s.A.ofType(E),json:{write:{ignoreOrigin:!0}}})],k.prototype,"sublayers",void 0),(0,n._)([(0,d.w)(["web-map","portal-item"],"sublayers",["visibleFolders"])],k.prototype,"readSublayersFromItemOrWebMap",null),(0,n._)([(0,d.w)("service","sublayers",["sublayers"])],k.prototype,"readSublayers",null),(0,n._)([(0,f.K)("sublayers")],k.prototype,"writeSublayers",null),(0,n._)([(0,y.MZ)({readOnly:!0,json:{read:!1}})],k.prototype,"type",void 0),(0,n._)([(0,y.MZ)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],k.prototype,"title",null),(0,n._)([(0,y.MZ)(w.OZ)],k.prototype,"url",void 0),(0,n._)([(0,y.MZ)({readOnly:!0})],k.prototype,"visibleSublayers",null),(0,n._)([(0,y.MZ)({type:h.A})],k.prototype,"extent",void 0),(0,n._)([(0,y.MZ)()],k.prototype,"fullExtent",null),k=(0,n._)([(0,p.$)("esri.layers.KMLLayer")],k);const x=k},44081:(e,t,r)=>{r.d(t,{LF:()=>l,M9:()=>o,zu:()=>u});var i=r(50076),n=r(48611),s=r(7847),a=r(58503);function l(e,t,r){try{return function(e){if(!e||0===e.length)return null;if(function(e){const t=e[0];return!!t&&"scale"in t}(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:u(r.value)});return t}return u(e)}(e)}catch(i){r?.messages?.push(i)}return null}function o(e,t,r,i){try{const i=function(e){const t=(0,s.q)(e);return t?(0,a.dw)(t)?t.map((e=>e.toJSON())):t.map((e=>{let{scale:t,effects:r}=e;return{scale:t,value:r.map((e=>e.toJSON()))}})):null}(e);(0,n.sM)(r,i,t)}catch(o){i.messages&&i.messages.push(o)}}function u(e){if(!e?.length)return"";const t=[];for(const r of e){let e=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[c(r,"amount")];break;case"blur":e=[c(r,"radius","pt")];break;case"hue-rotate":e=[c(r,"angle","deg")];break;case"drop-shadow":e=[c(r,"xoffset","pt"),c(r,"yoffset","pt"),c(r,"blurRadius","pt"),y(r,"color")];break;case"bloom":e=[c(r,"strength"),c(r,"radius","pt"),c(r,"threshold")]}const i=`${r.type}(${e.filter(Boolean).join(" ")})`;(0,s.q)(i),t.push(i)}return t.join(" ")}function c(e,t,r){if(null==e[t])throw new i.A("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function y(e,t){if(null==e[t])throw new i.A("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}},44460:(e,t,r)=>{r.d(t,{Cb:()=>s,HW:()=>c,JR:()=>n,JZ:()=>o,WR:()=>l,b6:()=>y,fT:()=>i,nC:()=>u,yM:()=>a});const i=[252,146,31,255],n=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},y={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},65624:(e,t,r)=>{r.d(t,{LF:()=>c,dM:()=>y,sU:()=>o});var i=r(35143),n=r(46053),s=(r(81806),r(76460),r(47249),r(85842)),a=r(80979),l=r(44081);const o={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:a.K}},"portal-item":{read:!0,write:{layerContainerTypes:a.K}}}}},u={read:{reader:l.LF},write:{allowNull:!0,writer:l.M9,layerContainerTypes:a.K}},c={json:{read:!1,write:!1,origins:{"web-map":u,"portal-item":u}}},y=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,i._)([(0,n.MZ)(o)],t.prototype,"blendMode",void 0),(0,i._)([(0,n.MZ)(c)],t.prototype,"effect",void 0),t=(0,i._)([(0,s.$)("esri.layers.mixins.BlendLayer")],t),t}},72945:(e,t,r)=>{r.d(t,{It:()=>p,LG:()=>a,OM:()=>u,Sm:()=>c,Y:()=>l,bK:()=>o,mm:()=>d,sQ:()=>y});var i=r(9624),n=r(13312),s=r(45417);function a(e,t){if(!l(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function l(e,t){return!!e.typeKeywords?.includes(t)}function o(e){return l(e,d.HOSTED_SERVICE)}function u(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function c(e,t,r){r?a(e,t):u(e,t)}async function y(e){const t=e.clone().normalize();let r;if(t.length>1)for(const i of t)r?i.width>r.width&&(r=i):r=i;else r=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,s.ci)(e);const r=n.A.WGS84;return await(0,i.initializeProjection)(t,r),(0,i.project)(e,r)}(r)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function p(e){const{portal:t,isOrgItem:r,itemControl:i}=e,n=t.user?.privileges;let s=!n||n.includes("features:user:edit"),a=!!r&&!!n?.includes("features:user:fullEdit");const l="update"===i||"admin"===i;return l?a=s=!0:a&&(s=!0),{features:{edit:s,fullEdit:a},content:{updateItem:l}}}},84202:(e,t,r)=>{r.d(t,{A7:()=>u,Cx:()=>c,Hk:()=>y,JJ:()=>h,SF:()=>d,UK:()=>o,jM:()=>p,x3:()=>f});r(81806);var i=r(86875),n=r(7246),s=r(76940),a=r(86659),l=r(44460);const o=s.A.fromJSON(l.Cb),u=n.A.fromJSON(l.yM),c=i.A.fromJSON(l.WR),y=a.A.fromJSON(l.JZ);function d(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return o;case"polyline":return u;case"polygon":case"extent":return c}return null}const p=s.A.fromJSON(l.nC),f=n.A.fromJSON(l.HW),h=i.A.fromJSON(l.b6)},94729:(e,t,r)=>{r.d(t,{A:()=>I});var i=r(35143),n=r(86560),s=r(55171),a=r(3825),l=r(98773),o=r(50076),u=r(76460),c=r(30726),y=r(50346),d=r(90534),p=r(46053),f=(r(81806),r(47249),r(28379)),h=r(85842),m=r(17707),S=r(31933),g=r(65308),b=r(70652),M=r(38665),v=r(72945);const I=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,c.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,r){if(t.itemId)return new b.default({id:t.itemId,portal:r?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await r.e(3814).then(r.bind(r,73814));return(0,y.Te)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap,populateGroupLayer:e.populateGroupLayer},t)}catch(i){throw(0,y.zf)(i)||u.A.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,y.QP)(e),!0))))}async setUserPrivileges(e,t){if(!n.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:r,fullEdit:i},content:{updateItem:n}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",i),this._set("userHasUpdateItemPrivileges",n)}catch(r){(0,y.QP)(r)}}async _fetchUserPrivileges(e,t){let r=this.portalItem;if(!e||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(t);const i=!s.id?.findCredential(this.url),n=e===r.id;if(n&&r.portal.user)return this._getUserPrivileges(r,i);let a,l;if(n)a=r.portal.url;else try{a=await(0,S.wI)(this.url,t)}catch(p){(0,y.QP)(p)}if(!a||!(0,d.b8)(a,r.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;l=await(s.id?.getCredential(`${a}/sharing`,{prompt:!1,signal:e}))}catch(p){(0,y.QP)(p)}const o=!0,u=!1,c=!1;if(!l)return{features:{edit:o,fullEdit:u},content:{updateItem:c}};try{if(n?await r.reload():(r=new b.default({id:e,portal:{url:a}}),await r.load(t)),r.portal.user)return this._getUserPrivileges(r,i)}catch(p){(0,y.QP)(p)}return{features:{edit:o,fullEdit:u},content:{updateItem:c}}}_getUserPrivileges(e,t){const r=(0,v.It)(e);return t&&(r.features.edit=!0),r}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(r){(0,y.QP)(r)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?s.id?.findCredential(this.url):null;if(!t)return!0;const r=w.credential===t?w.user:await this._fetchEditingUser(e);return w.credential=t,w.user=r,null==r?.privileges||r.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const r=s.id?.findServerInfo(this.url??"");if(!r?.owningSystemUrl)return null;const i=`${r.owningSystemUrl}/sharing/rest`,n=g.A.getDefault();if(n&&n.loaded&&(0,d.S8)(n.restUrl)===(0,d.S8)(i))return n.user;const o=`${i}/community/self`,u=null!=e?e.signal:null,c=await(0,l.Ke)((0,a.A)(o,{authMode:"no-prompt",query:{f:"json"},signal:u}));return c.ok?M.A.fromJSON(c.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||g.A.getDefault());return r&&i&&!(0,d.ut)(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new o.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,i._)([(0,p.MZ)({type:b.default})],t.prototype,"portalItem",null),(0,i._)([(0,f.w)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,i._)([(0,m.K)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,i._)([(0,p.MZ)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,i._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,i._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,i._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,i._)([(0,h.$)("esri.layers.mixins.PortalLayer")],t),t},w={credential:null,user:null}},97763:(e,t,r)=>{r.d(t,{$w:()=>S,Bu:()=>P,DW:()=>C,FH:()=>$,FM:()=>u,G9:()=>s,GV:()=>b,Go:()=>c,K3:()=>D,Kn:()=>L,MM:()=>p,MO:()=>U,Nl:()=>E,Ny:()=>M,O2:()=>O,UE:()=>k,YC:()=>H,YF:()=>G,ZO:()=>N,_1:()=>T,_H:()=>I,_W:()=>g,_d:()=>_,bs:()=>B,dI:()=>V,e6:()=>y,gQ:()=>o,iA:()=>R,jn:()=>h,lW:()=>d,mA:()=>f,n5:()=>x,pM:()=>A,pV:()=>w,pk:()=>j,rB:()=>z,s4:()=>n,xo:()=>F,yH:()=>v,yX:()=>q,zb:()=>Z,zr:()=>m});var i=r(13442);function n(e,t,r,i){return function(e){return"function"==typeof e}(e)?e(t,r,i):e}function s(e){return[e.r,e.g,e.b,e.a]}const a=" /-,\n";function l(e){let t=e.length;for(;t--;)if(!a.includes(e.charAt(t)))return!1;return!0}function o(e,t){const r=[];let i=0,n=-1;do{if(n=e.indexOf("[",i),n>=i){if(n>i){const t=e.slice(i,n);r.push([t,null,l(t)])}if(i=n+1,n=e.indexOf("]",i),n>=i){if(n>i){const s=t[e.slice(i,n)];s&&r.push([null,s,!1])}i=n+1}}}while(-1!==n);if(i<e.length){const t=e.slice(i);r.push([t,null,l(t)])}return r}function u(e,t,r,i){let n="",s=null;for(const a of t){const[t,i,l]=a;if(t)l?s=t:(s&&(n+=s,s=null),n+=t);else{let t=i;null!=r&&(t=U(i,r));const a=e.attributes[t];a&&(s&&(n+=s,s=null),n+=a)}}return function(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}(n,i)}function c(e,t,r,i,n,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const l=t/n,o=r/s,u=Math.ceil(l/2),c=Math.ceil(o/2);for(let y=0;y<s;y++)for(let r=0;r<n;r++){const d=4*(r+(a?s-y-1:y)*n);let p=0,f=0,h=0,m=0,S=0,g=0,b=0;const M=(y+.5)*o;for(let i=Math.floor(y*o);i<(y+1)*o;i++){const n=Math.abs(M-(i+.5))/c,s=(r+.5)*l,a=n*n;for(let o=Math.floor(r*l);o<(r+1)*l;o++){let r=Math.abs(s-(o+.5))/u;const n=Math.sqrt(a+r*r);n>=-1&&n<=1&&(p=2*n*n*n-3*n*n+1,p>0&&(r=4*(o+i*t),b+=p*e[r+3],h+=p,e[r+3]<255&&(p=p*e[r+3]/250),m+=p*e[r],S+=p*e[r+1],g+=p*e[r+2],f+=p))}}i[d]=m/f,i[d+1]=S/f,i[d+2]=g/f,i[d+3]=b/h}}function y(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function d(e){return e.data?.symbol??null}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function f(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function h(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function m(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e||isNaN(e)?t:e},g=(e,t)=>null!=e?e:t,b=(e,t)=>e??t,M=e=>e.tintColor?y(e.tintColor):[255,255,255,1],v=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function I(){return Promise.all([r.e(2612),r.e(7983)]).then(r.bind(r,1669))}function w(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function L(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function _(e){let t="normal",r="normal";if(e){const i=e.toLowerCase();i.includes("italic")?t="italic":i.includes("oblique")&&(t="oblique"),i.includes("bold")?r="bold":i.includes("light")&&(r="lighter")}return{style:t,weight:r}}function C(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function A(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=A(t);if(null!=e)return e}break;case"CIMTextSymbol":return A(e.symbol);case"CIMSolidFill":return e.color}return null}function T(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=T(e);if(null!=t)return t}break}case"CIMTextSymbol":return T(e.symbol);case"CIMSolidStroke":return e.color}}function F(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=F(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return F(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function P(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function E(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function O(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const k=e=>e.includes("data:image/svg+xml");function x(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function G(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function Z(e,t,r,i,n,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const{infos:l}=s;let o=1,u=0,c=0,y=0,d=1;for(const{absoluteAnchorPoint:h,offsetX:m,offsetY:S,rotation:g,size:b,frameHeight:M,rotateClockWise:v,scaleSymbolsProportionally:I}of l)d=h?1:o,c=K(m,S,u,d,c),y=J(m,S,u,d,y),M&&(I||a)&&(o*=b/M),u=W(g,v,u);const p=K(i,n,u,d,c),f=J(i,n,u,d,y);return{size:e*o,rotation:W(t,r,u),offsetX:p,offsetY:f}}function N(e){if(null==e)return!1;if(Array.isArray(e))return e.every((e=>N(e)));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function R(e,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderlinecolor"===t||"tintcolor"===t)return[...i.K[t]];const r=i.D[e];if(!r)throw new Error(`InternalError: default value for type ${e}.`);return r[t]}function D(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function $(e){return e?.dashTemplate&&(e.dashTemplate=D(e.dashTemplate)),e}function B(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return B(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return B(e.symbol)}}return"Normal"}function H(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=r.size??i.D.CIMVectorMarker.size;e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=r.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&m(r.markerPlacement)){const e=r.size??i.D.CIMVectorMarker.size;e>t&&(t=e)}break;case"CIMPictureFill":{const e=r.height;null!=e&&e>t&&(t=e)}}return t}}}function U(e,t){if(null!==t){const r=t.get(e);return r?r.name:e}return e}function j(e){return e.map((e=>({...e,propertyName:G(e.propertyName)})))}function z(e){const t={};for(const r in e){const i=e[r];t[G(r)]=i}return t}function J(e,t,r,i,n){const s=r*Math.PI/180;if(s){const r=Math.cos(s);return(Math.sin(s)*e+r*t)*i+n}return t*i+n}function K(e,t,r,i,n){const s=r*Math.PI/180;return s?(Math.cos(s)*e-Math.sin(s)*t)*i+n:e*i+n}function W(e,t,r){return t?r-e:r+e}function V(e,t,r){const i="Color"===r||"TintColor"===r||"ToColor"===r,n="Rotation"===r||"Angle"===r||"ToRotation"===r;let s=t[G(r)];if(null!=s&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180)),null==s&&(s=R(t.type,r.toLowerCase()),null!=s&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]]:n&&(s*=Math.PI/180))),null!=t.primitiveName){const a=e[t.primitiveName];if(null!=a){const e=a[r];null==e||("string"==typeof e||"number"==typeof e||Array.isArray(e)?(s=e,null!=s&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180))):(s={valueExpressionInfo:e,defaultValue:s},null!=s&&(i?s={type:"Process",op:"ArcadeColor",value:s}:n&&(s={type:"Process",op:"Divide",left:s,right:180/Math.PI}))))}}if(null==s)throw new Error(`Failed to derive a value or an expression for "${r}".`);return s}function q(e,t){return Math.max(Math.min((e??t)/100,1),0)}}}]);
//# sourceMappingURL=9410.567df5f7.chunk.js.map