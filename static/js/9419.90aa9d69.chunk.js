"use strict";(self.webpackChunkfeedback_map=self.webpackChunkfeedback_map||[]).push([[839,1146,1425,1800,4874,5603,8066,8654,9419],{6127:(e,t,i)=>{i.d(t,{m:()=>r});const r=new(i(45802).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},20665:(e,t,i)=>{i.d(t,{A:()=>c});var r=i(35143),n=i(91967),s=i(98773),o=i(94643),l=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),p=i(53430),u=i(98976);let d=class extends n.A{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,s.UT)((()=>(0,u.lw)())):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??i.e(9912).then(i.bind(i,9912)).then((e=>this._featureUtils=e))}get calculatedExpressions(){const e=new o.A;if(!this.expressionsUsedInTitle.length)return e;if(!this._arcadeTask?.value){for(const t of this.expressionsUsedInTitle??[])e.push({name:t.name,invalid:!0});return e}for(const t of this.expressionsUsedInTitle)try{const i=this._arcadeTask.value.arcade.parseScript(t.expression,["$layer","$map","$datastore"]);if(i.isAsync){e.push({name:t.name,invalid:!0});break}e.push({name:t.name,syntax:i,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(i,{vars:{$feature:"any"}})})}catch{e.push({name:t.name,invalid:!0});break}return e}get expressionsUsedInTitle(){let e=this.effectivePopupTemplate?.title??"";return"string"!=typeof e?[]:(e=e.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter((t=>e.includes(`{expression/${t.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some((e=>!0===e.invalid))}get requiredFields(){const e=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const i of this.calculatedExpressions?.toArray()??[])try{const t=this._arcadeTask.value.arcade.extractFieldLiterals(i.syntax);for(const i of t){const t=i.split("."),r=this.fieldsIndex.get(t.at(-1)??"");r&&e.add(r.name)}}catch{}const t=this._extractFieldNames(this.workingTitle);for(const i of t){const t=this.fieldsIndex.get(i);t&&e.add(t.name)}return e}get titleFromDisplayField(){let e="";return this.displayField&&(e=this.fieldsIndex.get(this.displayField)?.name??""),e||(e=this.fieldsIndex.get(this.objectIdField)?.name??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===e||null==e||this.hasBadExpressions||"string"!=typeof e?this.titleFromDisplayField:e}async getTitle(e,t,i){try{const{attributes:r}=t,n=i?.timeZone??"system",[{substituteFieldsInLinksAndAttributes:s}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);if(i.fetchMissingFields&&(t=await this._checkAndReQueryGraphic(e,t)),this.workingTitle&&this.fieldInfoMap){const i=this._createFormattedAttributes(e,t,n).global;return s({attributes:r,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:i,layer:e,text:this.workingTitle})}return""}catch{}return""}async _checkAndReQueryGraphic(e,t){const i=t.getObjectId();if(null==i)return t;if(!(0,p.Kl)(this.requiredFields,t)){const t=e.createQuery();t.where="1=1",t.outFields=[...this.requiredFields],t.objectIds=[i];const r=await e.queryFeatures(t);if(1===r?.features.length)return r.features[0]}return t}_createFieldInfoMap(e){const t=new Map;if(!e)return t;for(const i of e){if(!i.fieldName)continue;const e=this.fieldsIndex.get(i.fieldName),r=e?.name??i.fieldName;i.fieldName=r,t.set(r.toLowerCase(),i)}return t}_createFormattedAttributes(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"system";const r=this.effectivePopupTemplate?.fieldInfos??[],n={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const i=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(const e of this.calculatedExpressions)try{n[`expression/${e.name}`]=e.func({vars:{$feature:i}})}catch{}}const s={...t.attributes,...n};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:s,graphic:t,timeZone:i,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return(0,p.nw)(e).filter((e=>!(0===e.indexOf("relationships/")||0===e.indexOf("expression/"))))}};(0,r._)([(0,l.MZ)({readOnly:!0})],d.prototype,"_arcadeTask",null),(0,r._)([(0,l.MZ)()],d.prototype,"_featureUtils",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],d.prototype,"featureUtilsPromise",null),(0,r._)([(0,l.MZ)({readOnly:!0})],d.prototype,"calculatedExpressions",null),(0,r._)([(0,l.MZ)()],d.prototype,"displayField",void 0),(0,r._)([(0,l.MZ)()],d.prototype,"effectivePopupTemplate",void 0),(0,r._)([(0,l.MZ)()],d.prototype,"expressionsUsedInTitle",null),(0,r._)([(0,l.MZ)()],d.prototype,"fieldsIndex",void 0),(0,r._)([(0,l.MZ)()],d.prototype,"fieldInfoMap",null),(0,r._)([(0,l.MZ)()],d.prototype,"fields",void 0),(0,r._)([(0,l.MZ)()],d.prototype,"objectIdField",void 0),(0,r._)([(0,l.MZ)()],d.prototype,"requiredFields",null),d=(0,r._)([(0,a.$)("esri.layers.support.TitleCreator")],d);const c=d},25515:(e,t,i)=>{i.d(t,{A:()=>b});var r=i(35143),n=i(3825),s=i(50076),o=i(54099),l=i(5632),a=i(49304),p=i(76460),u=i(50346),d=i(90534),c=i(46053),h=(i(81806),i(47249),i(85842)),y=i(76797),f=i(13312),m=i(86560);var g=i(59187);let v=0,_=class extends(o.A.EventedMixin(l.A.IdentifiableMixin(a.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new y.A(-180,-90,180,90,f.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=f.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await Promise.all([i.e(652),i.e(2544)]).then(i.bind(i,62544))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await Promise.all([i.e(9624),i.e(652),i.e(2487)]).then(i.bind(i,2487));try{return await r(t)}catch(n){const e=t?.portalItem,i=e?.id||"unset",r=e?.portal?.url||m.A.portalUrl;throw p.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+i+"')",n),n}}(e)}initialize(){this.when().catch((e=>{(0,u.zf)(e)||p.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,d.An)(this.url)}createLayerView(e,t){return Promise.reject(new s.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.A)(e,{query:{f:"json"},responseType:"json"})).data;throw new s.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,c.MZ)({type:String})],_.prototype,"attributionDataUrl",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],_.prototype,"effectiveVisible",null),(0,r._)([(0,c.MZ)({type:y.A})],_.prototype,"fullExtent",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],_.prototype,"hasAttributionData",null),(0,r._)([(0,c.MZ)({type:String,clonable:!1})],_.prototype,"id",void 0),(0,r._)([(0,c.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"legendEnabled",void 0),(0,r._)([(0,c.MZ)({type:["show","hide","hide-children"]})],_.prototype,"listMode",void 0),(0,r._)([(0,c.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],_.prototype,"opacity",void 0),(0,r._)([(0,c.MZ)({clonable:!1})],_.prototype,"parent",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],_.prototype,"parsedUrl",null),(0,r._)([(0,c.MZ)({type:Boolean,readOnly:!0})],_.prototype,"persistenceEnabled",void 0),(0,r._)([(0,c.MZ)({type:Boolean})],_.prototype,"popupEnabled",void 0),(0,r._)([(0,c.MZ)({type:Boolean})],_.prototype,"attributionVisible",void 0),(0,r._)([(0,c.MZ)({type:f.A})],_.prototype,"spatialReference",void 0),(0,r._)([(0,c.MZ)({type:String})],_.prototype,"title",void 0),(0,r._)([(0,c.MZ)({readOnly:!0,json:{read:!1}})],_.prototype,"type",void 0),(0,r._)([(0,c.MZ)()],_.prototype,"url",void 0),(0,r._)([(0,c.MZ)({type:g.A})],_.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,c.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"visible",void 0),_=(0,r._)([(0,h.$)("esri.layers.Layer")],_);const b=_},32173:(e,t,i)=>{i.d(t,{A:()=>p});var r,n=i(35143),s=(i(76460),i(81806),i(47249),i(50076),i(6409)),o=i(85842),l=i(44631);let a=r=class extends l.A{constructor(e){super(e),this.type="inherited"}clone(){return new r}};(0,n._)([(0,s.e)({inherited:"inherited"})],a.prototype,"type",void 0),a=r=(0,n._)([(0,o.$)("esri.layers.support.InheritedDomain")],a);const p=a},37534:(e,t,i)=>{i.d(t,{Rr:()=>a,fY:()=>u,ne:()=>p});var r=i(35143),n=i(48611),s=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),l=i(51162);function a(e,t,i){if(!e)return null;const r=e.find((e=>!!e.field));if(!r)return null;const n=new l.A;return n.read(r,i),[n]}const p={type:[l.A],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:a},write:{writer:function(e,t,i,r){const s=e.find((e=>!!e.field));s&&(0,n.sM)(i,[s.toJSON()],t)}}}},u=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,r._)([(0,s.MZ)(p)],t.prototype,"orderBy",void 0),t=(0,r._)([(0,o.$)("esri.layers.mixins.OrderedLayer")],t),t}},44135:(e,t,i)=>{i.d(t,{A:()=>m});var r,n=i(35143),s=i(45802),o=i(42553),l=i(46053),a=i(40565),p=(i(81806),i(47249),i(6409)),u=i(28379),d=i(85842),c=i(76866),h=i(6127);const y=new s.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let f=r=class extends o.A{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,t){let{description:i}=t,r=null;try{r=i?JSON.parse(i):null}catch(n){}return r?.value??null}readValueType(e,t){let{description:i}=t,r=null;try{r=i?JSON.parse(i):null}catch(n){}return r?y.fromJSON(r.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],f.prototype,"alias",void 0),(0,n._)([(0,l.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],f.prototype,"defaultValue",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"description",void 0),(0,n._)([(0,u.w)("description")],f.prototype,"readDescription",null),(0,n._)([(0,l.MZ)({types:c.gK,json:{read:{reader:c.rS},write:!0}})],f.prototype,"domain",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"editable",void 0),(0,n._)([(0,l.MZ)({type:a.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],f.prototype,"length",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],f.prototype,"name",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"nullable",void 0),(0,n._)([(0,p.e)(h.m)],f.prototype,"type",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"valueType",void 0),(0,n._)([(0,u.w)("valueType",["description"])],f.prototype,"readValueType",null),(0,n._)([(0,l.MZ)({type:Boolean,json:{read:!1}})],f.prototype,"visible",void 0),f=r=(0,n._)([(0,d.$)("esri.layers.support.Field")],f);const m=f},44631:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(35143),n=i(45802),s=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(6409)),a=i(85842);const p=new n.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let u=class extends s.A{constructor(e){super(e),this.name=null,this.type=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,l.e)(p),(0,o.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,a.$)("esri.layers.support.Domain")],u);const d=u},50654:(e,t,i)=>{i.d(t,{A:()=>u});var r,n=i(35143),s=i(46053),o=(i(81806),i(76460),i(47249),i(6409)),l=i(85842),a=i(44631);let p=r=class extends a.A{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,n._)([(0,s.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],p.prototype,"maxValue",void 0),(0,n._)([(0,s.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],p.prototype,"minValue",void 0),(0,n._)([(0,o.e)({range:"range"})],p.prototype,"type",void 0),p=r=(0,n._)([(0,l.$)("esri.layers.support.RangeDomain")],p);const u=p},51162:(e,t,i)=>{i.d(t,{A:()=>d});var r,n=i(35143),s=i(45802),o=i(42553),l=i(46053),a=(i(81806),i(76460),i(47249),i(85842));const p=new s.J({asc:"ascending",desc:"descending"});let u=r=class extends o.A{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new r({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],u.prototype,"valueExpression",void 0),(0,n._)([(0,l.MZ)({type:p.apiValues,json:{type:p.jsonValues,read:p.read,write:p.write}})],u.prototype,"order",void 0),u=r=(0,n._)([(0,a.$)("esri.layers.support.OrderByInfo")],u);const d=u},57831:(e,t,i)=>{i.d(t,{q:()=>n});var r=i(86729);function n(e,t,i){if(!i?.features||!i.hasZ)return;const n=(0,r.N)(i.geometryType,t,e.outSpatialReference);if(null!=n)for(const r of i.features)n(r.geometry)}},59649:(e,t,i)=>{i.d(t,{A:()=>s});var r=i(99486),n=i(99702);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.values().next().value;this._peeker=e,this._observable=new n.I,this._items=new Set}get length(){return(0,r.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return(0,r.gc)(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,r.gc)(this._observable),yield*this._items}}},61701:(e,t,i)=>{var r;i.d(t,{X:()=>r}),function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"}(r||(r={}))},65460:(e,t,i)=>{i.d(t,{BI:()=>m,D3:()=>y,XJ:()=>f,lc:()=>h,mX:()=>v,rU:()=>g,tH:()=>M});var r=i(88685);const n="__begin__",s="__end__",o=new RegExp(n,"ig"),l=new RegExp(s,"ig"),a=new RegExp("^"+n,"i"),p=new RegExp(s+"$","i"),u='"',d=u+" + ",c=" + "+u;function h(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function y(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function f(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=h(e.labelExpression),t.type="conventional"),t}function m(e){const t=f(e);switch(t.type){case"conventional":return v(t.expression);case"arcade":return t.expression}return null}function g(e){const t=f(e);switch(t.type){case"conventional":return function(e){const t=e?.match(_);return t?.[1].trim()||null}(t.expression);case"arcade":return M(t.expression)}return null}function v(e){let t;return e?(t=(0,r.HC)(e,(e=>n+'$feature["'+e+'"]'+s)),t=a.test(t)?t.replace(a,""):u+t,t=p.test(t)?t.replace(p,""):t+u,t=t.replaceAll(o,d).replaceAll(l,c)):t='""',t}const _=/^\s*\{([^}]+)\}\s*$/i;const b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,w=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,x=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function M(e){if(!e)return null;let t=b.exec(e)||w.exec(e);return t?t[1]||t[3]:(t=x.exec(e),t?t[2]:null)}},72599:(e,t,i)=>{i.d(t,{A:()=>c});var r,n=i(35143),s=i(53084),o=i(46053),l=(i(81806),i(76460),i(6409)),a=i(85842),p=i(92115),u=i(44631);let d=r=class extends u.A{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new r({codedValues:(0,s.o8)(this.codedValues),name:this.name})}};(0,n._)([(0,o.MZ)({type:[p.H],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,n._)([(0,l.e)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=r=(0,n._)([(0,a.$)("esri.layers.support.CodedValueDomain")],d);const c=d},76866:(e,t,i)=>{i.d(t,{gK:()=>l,rS:()=>a});i(81806);var r=i(72599),n=i(44631),s=i(32173),o=i(50654);const l={key:"type",base:n.A,typeMap:{range:o.A,"coded-value":r.A,inherited:s.A}};function a(e){if(!e?.type)return null;switch(e.type){case"range":return o.A.fromJSON(e);case"codedValue":return r.A.fromJSON(e);case"inherited":return s.A.fromJSON(e)}return null}},77725:(e,t,i)=>{i.d(t,{A:()=>_});var r,n=i(35143),s=i(39356),o=i(45802),l=i(42553),a=i(53084),p=i(46053),u=(i(81806),i(76460),i(28379)),d=i(85842),c=i(17707),h=i(13312),y=i(19902),f=i(31608),m=i(44135);const g=new o.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let v=r=class extends l.A{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,s.A)}writeGeometryType(e,t,i,r){if(e)return void g.write(e,t,i,r);const{features:n}=this;if(n)for(const s of n)if(null!=s?.geometry)return void g.write(s.geometry.type,t,i,r)}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=(0,y.rS)(e);return r&&!i&&t.spatialReference&&(r.spatialReference=h.A.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i)for(const r of i)if(r&&null!=r.geometry&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}clone(){return new r(this.cloneProperties())}cloneProperties(){return(0,a.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const t=e?.[i];r.geometry=t?.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,n]}=e,s=this.features,o=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((n-e)/i)));for(let l=0,a=s.length;l<a;l++)o?.(s[l].geometry)||(s.splice(l,1),l--,a--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,n],scale:[s,o]}=i;let l=null,a=null;if(this.hasZ&&null!=i?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=i;l=i=>i*t+e}if(this.hasM&&null!=i?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=i;a=i=>null==i?i:i*t+e}const p=this._getHydrationFunction(e,(e=>e*s+r),(e=>n-e*o),l,a);for(const{geometry:u}of t)null!=u&&p&&p(u);return this.transform=null,this}readFeaturesWithClass(e,t,i){const r=h.A.fromJSON(t.spatialReference),n=[];for(let s=0;s<e.length;s++){const t=e[s],o=i.fromJSON(t),l=t.geometry?.spatialReference;null==o.geometry||l||(o.geometry.spatialReference=r);const a=t.aggregateGeometries,p=o.aggregateGeometries;if(a&&null!=p)for(const e in p){const t=p[e],i=a[e],n=i?.spatialReference;null==t||n||(t.spatialReference=r)}n.push(o)}return n}_quantizePoints(e,t,i){let r,n;const s=[];for(let o=0,l=e.length;o<l;o++){const l=e[o];if(o>0){const e=t(l[0]),o=i(l[1]);e===r&&o===n||(s.push([e-r,o-n]),r=e,n=o)}else r=t(l[0]),n=i(l[1]),s.push([r,n])}return s.length>0?s:null}_getQuantizationFunction(e,t,i){return"point"===e?e=>(e.x=t(e.x),e.y=i(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=(0,y.Bi)(e)?e.rings:e.paths,n=[];for(let s=0,o=r.length;s<o;s++){const e=r[s],o=this._quantizePoints(e,t,i);o&&n.push(o)}return n.length>0?((0,y.Bi)(e)?e.rings=n:e.paths=n,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,i);return r&&r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,i,r,n){return"point"===e?e=>{e.x=t(e.x),e.y=i(e.y),r&&(e.z=r(e.z))}:"polyline"===e||"polygon"===e?e=>{const s=(0,y.Bi)(e)?e.rings:e.paths;let o,l;for(let r=0,n=s.length;r<n;r++){const e=s[r];for(let r=0,n=e.length;r<n;r++){const n=e[r];r>0?(o+=n[0],l+=n[1]):(o=n[0],l=n[1]),n[0]=t(o),n[1]=i(l)}}if(r&&n)for(let t=0,i=s.length;t<i;t++){const e=s[t];for(let t=0,i=e.length;t<i;t++){const i=e[t];i[2]=r(i[2]),i[3]=n(i[3])}}else if(r)for(let t=0,i=s.length;t<i;t++){const e=s[t];for(let t=0,i=e.length;t<i;t++){const i=e[t];i[2]=r(i[2])}}else if(n)for(let t=0,i=s.length;t<i;t++){const e=s[t];for(let t=0,i=e.length;t<i;t++){const i=e[t];i[2]=n(i[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=i(e.ymin),e.xmax=t(e.xmax),e.ymax=i(e.ymax),r&&null!=e.zmax&&null!=e.zmin&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),n&&null!=e.mmax&&null!=e.mmin&&(e.mmax=n(e.mmax),e.mmin=n(e.mmin))}:"multipoint"===e?e=>{const s=e.points;let o,l;for(let r=0,n=s.length;r<n;r++){const e=s[r];r>0?(o+=e[0],l+=e[1]):(o=e[0],l=e[1]),e[0]=t(o),e[1]=i(l)}if(r&&n)for(let t=0,i=s.length;t<i;t++){const e=s[t];e[2]=r(e[2]),e[3]=n(e[3])}else if(r)for(let t=0,i=s.length;t<i;t++){const e=s[t];e[2]=r(e[2])}else if(n)for(let t=0,i=s.length;t<i;t++){const e=s[t];e[2]=n(e[2])}}:null}};(0,n._)([(0,p.MZ)({type:String,json:{write:!0}})],v.prototype,"displayFieldName",void 0),(0,n._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"exceededTransferLimit",void 0),(0,n._)([(0,p.MZ)({type:[s.A],json:{write:!0}})],v.prototype,"features",void 0),(0,n._)([(0,u.w)("features")],v.prototype,"readFeatures",null),(0,n._)([(0,p.MZ)({type:[m.A],json:{write:!0}})],v.prototype,"fields",void 0),(0,n._)([(0,p.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],v.prototype,"geometryType",void 0),(0,n._)([(0,c.K)("geometryType")],v.prototype,"writeGeometryType",null),(0,n._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasM",void 0),(0,n._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasZ",void 0),(0,n._)([(0,p.MZ)({types:f.yR,json:{write:!0}})],v.prototype,"queryGeometry",void 0),(0,n._)([(0,u.w)("queryGeometry")],v.prototype,"readQueryGeometry",null),(0,n._)([(0,p.MZ)({type:h.A,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,n._)([(0,c.K)("spatialReference")],v.prototype,"writeSpatialReference",null),(0,n._)([(0,p.MZ)({json:{write:!0}})],v.prototype,"transform",void 0),v=r=(0,n._)([(0,d.$)("esri.rest.support.FeatureSet")],v),v.prototype.toJSON.isDefaultToJSON=!0;const _=v},91485:(e,t,i)=>{i.d(t,{A:()=>h});var r=i(35143),n=i(69098),s=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(28379)),a=i(85842),p=i(17707),u=i(76866),d=i(15427);let c=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i of Object.keys(e))t[i]=(0,u.rS)(e[i]);return t}writeDomains(e,t){const i={};for(const r of Object.keys(e))e[r]&&(i[r]=e[r]?.toJSON());t.domains=i}};(0,r._)([(0,o.MZ)({json:{write:!0}})],c.prototype,"id",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],c.prototype,"name",void 0),(0,r._)([(0,o.MZ)({json:{write:!0}})],c.prototype,"domains",void 0),(0,r._)([(0,l.w)("domains")],c.prototype,"readDomains",null),(0,r._)([(0,p.K)("domains")],c.prototype,"writeDomains",null),(0,r._)([(0,o.MZ)({type:[d.A],json:{write:!0}})],c.prototype,"templates",void 0),c=(0,r._)([(0,a.$)("esri.layers.support.FeatureType")],c);const h=c},91524:(e,t,i)=>{i.d(t,{K:()=>c,Q:()=>p});var r=i(35143),n=i(45802),s=i(76460),o=i(46053),l=(i(81806),i(47249),i(6409)),a=i(85842);const p=(0,n.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),u="percent-of-total",d="field",c=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=null!=this.normalizationTotal;return t||i?(e=t&&d||i&&u||null,t&&i&&s.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==d&&e!==u||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,r._)([(0,o.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,r._)([(0,l.e)(p,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,r._)([(0,a.$)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},91605:(e,t,i)=>{i.d(t,{A:()=>_});var r,n=i(35143),s=i(18690),o=i(45802),l=i(42553),a=i(31633),p=i(62754),u=i(46053),d=(i(81806),i(76460),i(28379)),c=i(85842),h=i(17707);const y=(0,o.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),f=y.jsonValues.slice();(0,s.Xy)(f,"orthometric");const m=(0,o.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let g=r=class extends l.A{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return y.write(e,t,i)}readHeightModel(e,t,i){return y.read(e)||(i?.messages&&i.messages.push(function(e,t){return new p.A("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:i})),null)}readHeightUnit(e,t,i){return m.read(e)||(i?.messages&&i.messages.push(v(e,{context:i})),null)}readHeightUnitService(e,t,i){return(0,a.LA)(e)||m.read(e)||(i?.messages&&i.messages.push(v(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new r({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=(0,a.k1)(t);return new r({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new r;return t.read(e,{origin:"web-scene"}),t}};function v(e,t){return new p.A("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}(0,n._)([(0,u.MZ)({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:f,default:"ellipsoidal",write:{isRequired:!0}}}}})],g.prototype,"heightModel",void 0),(0,n._)([(0,h.K)("web-scene","heightModel")],g.prototype,"writeHeightModel",null),(0,n._)([(0,d.w)(["web-scene","service"],"heightModel")],g.prototype,"readHeightModel",null),(0,n._)([(0,u.MZ)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m.jsonValues,write:{writer:m.write,isRequired:!0}}}}})],g.prototype,"heightUnit",void 0),(0,n._)([(0,d.w)("web-scene","heightUnit")],g.prototype,"readHeightUnit",null),(0,n._)([(0,d.w)("service","heightUnit")],g.prototype,"readHeightUnitService",null),(0,n._)([(0,u.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],g.prototype,"vertCRS",void 0),(0,n._)([(0,d.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],g.prototype,"readVertCRS",null),g=r=(0,n._)([(0,c.$)("esri.geometry.HeightModelInfo")],g);const _=g},92115:(e,t,i)=>{i.d(t,{H:()=>a});var r,n=i(35143),s=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(85842));let a=r=class extends s.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};(0,n._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],a.prototype,"name",void 0),(0,n._)([(0,o.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],a.prototype,"code",void 0),a=r=(0,n._)([(0,l.$)("esri.layers.support.CodedValue")],a)}}]);
//# sourceMappingURL=9419.90aa9d69.chunk.js.map